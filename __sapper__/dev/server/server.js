'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var sirv = _interopDefault(require('sirv'));
var polka = _interopDefault(require('polka'));
var compression = _interopDefault(require('compression'));
var fs = _interopDefault(require('fs'));
var path = _interopDefault(require('path'));
var Stream = _interopDefault(require('stream'));
var http = _interopDefault(require('http'));
var Url = _interopDefault(require('url'));
var https = _interopDefault(require('https'));
var zlib = _interopDefault(require('zlib'));
var io = _interopDefault(require('socket.io'));

function noop() { }
function run(fn) {
    return fn();
}
function blank_object() {
    return Object.create(null);
}
function run_all(fns) {
    fns.forEach(run);
}
function safe_not_equal(a, b) {
    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');
}
function null_to_empty(value) {
    return value == null ? '' : value;
}

let current_component;
function set_current_component(component) {
    current_component = component;
}
function get_current_component() {
    if (!current_component)
        throw new Error(`Function called outside component initialization`);
    return current_component;
}
function beforeUpdate(fn) {
    get_current_component().$$.before_update.push(fn);
}
function onMount(fn) {
    get_current_component().$$.on_mount.push(fn);
}
function afterUpdate(fn) {
    get_current_component().$$.after_update.push(fn);
}
function setContext(key, context) {
    get_current_component().$$.context.set(key, context);
}
const escaped = {
    '"': '&quot;',
    "'": '&#39;',
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;'
};
function escape(html) {
    return String(html).replace(/["'&<>]/g, match => escaped[match]);
}
function each(items, fn) {
    let str = '';
    for (let i = 0; i < items.length; i += 1) {
        str += fn(items[i], i);
    }
    return str;
}
const missing_component = {
    $$render: () => ''
};
function validate_component(component, name) {
    if (!component || !component.$$render) {
        if (name === 'svelte:component')
            name += ' this={...}';
        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);
    }
    return component;
}
let on_destroy;
function create_ssr_component(fn) {
    function $$render(result, props, bindings, slots) {
        const parent_component = current_component;
        const $$ = {
            on_destroy,
            context: new Map(parent_component ? parent_component.$$.context : []),
            // these will be immediately discarded
            on_mount: [],
            before_update: [],
            after_update: [],
            callbacks: blank_object()
        };
        set_current_component({ $$ });
        const html = fn(result, props, bindings, slots);
        set_current_component(parent_component);
        return html;
    }
    return {
        render: (props = {}, options = {}) => {
            on_destroy = [];
            const result = { title: '', head: '', css: new Set() };
            const html = $$render(result, props, {}, options);
            run_all(on_destroy);
            return {
                html,
                css: {
                    code: Array.from(result.css).map(css => css.code).join('\n'),
                    map: null // TODO
                },
                head: result.title + result.head
            };
        },
        $$render
    };
}
function add_attribute(name, value, boolean) {
    if (value == null || (boolean && !value))
        return '';
    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `"${value}"`}`}`;
}

/* src\components\Icon.svelte generated by Svelte v3.20.1 */

const css = {
	code: ".pro.svelte-okjivu{background-color:rgb(255, 255, 119)}.res.svelte-okjivu{background-color:rgb(119, 183, 255)}.trd.svelte-okjivu{background-color:rgb(255, 169, 241)}.pol.svelte-okjivu{background-color:rgb(209, 186, 143)}.sur.svelte-okjivu{background-color:rgb(143, 255, 143)}.war.svelte-okjivu{background-color:rgb(255, 98, 98)}.col.svelte-okjivu{background-color:rgb(255, 184, 102)}.fer.svelte-okjivu{background-color:rgb(148, 197, 152)}.adv.svelte-okjivu{background-color:rgb(231, 184, 215)}.met.svelte-okjivu{background-color:rgb(187, 55, 55)}.fud.svelte-okjivu{background-color:rgb(255, 215, 142)}.ore.svelte-okjivu{background-color:rgb(212, 139, 56)}.wtr.svelte-okjivu{background-color:rgb(115, 141, 253)}.sil.svelte-okjivu{background-color:rgb(161, 45, 255)}.ico-sm.svelte-okjivu{padding:.2em;height:.8em;width:.8em}.ico-cont-lg.svelte-okjivu,.ico-cont-sm.svelte-okjivu{display:inline-block;overflow:hidden;position:relative;border-radius:50%}.ico-cont-sm.svelte-okjivu{height:1.2em;width:1.2em}.ico-lg.svelte-okjivu{height:2em;width:2em}.ico-cont-lg.svelte-okjivu{height:2em;width:2em}.inf.svelte-okjivu{display:block;margin-left:auto;margin-right:auto;width:100%;background:grey}.num.svelte-okjivu{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:.5vh}",
	map: "{\"version\":3,\"file\":\"Icon.svelte\",\"sources\":[\"Icon.svelte\"],\"sourcesContent\":[\"<script>\\r\\n    export let type,size,influence=0,bordered=false;\\r\\n    let label = type.charAt(0).toUpperCase() + type.slice(1),\\r\\n        key = {produce:'pro',trade:'trd',politics:'pol',research:'res',survey:'sur',warfare:'war',colonize:'col',\\r\\n        water:'wtr', food:'fud', silicon:'sil', ore:'ore', advanced:'adv', fertile:'fer', metallic:'met',influence:'inf'}[type];\\r\\n</script>\\r\\n<style>\\r\\n    .pro {\\r\\n        background-color : rgb(255, 255, 119);\\r\\n    }\\r\\n    .res {\\r\\n        background-color : rgb(119, 183, 255);\\r\\n    }\\r\\n    .trd {\\r\\n        background-color : rgb(255, 169, 241);\\r\\n    }\\r\\n    .pol {\\r\\n        background-color : rgb(209, 186, 143);\\r\\n    }\\r\\n    .sur {\\r\\n        background-color : rgb(143, 255, 143);\\r\\n    }\\r\\n    .war {\\r\\n        background-color : rgb(255, 98, 98);\\r\\n    }\\r\\n    .col {\\r\\n        background-color : rgb(255, 184, 102);\\r\\n    }\\r\\n    .fer {\\r\\n        background-color : rgb(148, 197, 152);\\r\\n    }\\r\\n    .adv {\\r\\n        background-color : rgb(231, 184, 215);\\r\\n    }\\r\\n    .met {\\r\\n        background-color : rgb(187, 55, 55);\\r\\n    }\\r\\n    .fud {\\r\\n        background-color : rgb(255, 215, 142);\\r\\n    }\\r\\n    .ore {\\r\\n        background-color : rgb(212, 139, 56);\\r\\n    }\\r\\n    .wtr {\\r\\n        background-color : rgb(115, 141, 253);\\r\\n    }\\r\\n    .sil {\\r\\n        background-color : rgb(161, 45, 255);\\r\\n    }\\r\\n    .ico-sm {\\r\\n        padding:.2em;\\r\\n        height:.8em;\\r\\n        width:.8em;\\r\\n    }\\r\\n    .ico-cont-lg, .ico-cont-sm {\\r\\n        display: inline-block;\\r\\n        overflow: hidden;\\r\\n        position:relative;\\r\\n\\t\\tborder-radius: 50%;\\r\\n    }\\r\\n    .ico-cont-sm {\\r\\n        height:1.2em;\\r\\n        width:1.2em;\\r\\n    }\\r\\n    .ico-lg {\\r\\n        height:2em;\\r\\n        width:2em;\\r\\n    }\\r\\n    .ico-cont-lg {\\r\\n        height:2em;\\r\\n        width:2em;\\r\\n    }\\r\\n    .inf {\\r\\n        display: block;\\r\\n        margin-left: auto;\\r\\n        margin-right: auto;\\r\\n        width: 100%;\\r\\n        background: grey;\\r\\n    }\\r\\n    .num {\\r\\n        position: absolute;\\r\\n        top: 50%;\\r\\n        left: 50%;\\r\\n        transform: translate(-50%, -50%);\\r\\n        font-size: .5vh;\\r\\n    }\\r\\n</style>\\r\\n{#if type=='influence'}\\r\\n<div class='ico-cont-{size}' style='{(bordered)?'border:1px solid black':''}'>\\r\\n    <img  class='ico-{size} inf' style='transform: translate(-15%, 5%);;' src='./images/{key}.svg' alt={key}>\\r\\n    <span class='num'>{influence}</span>\\r\\n</div>\\r\\n{:else}\\r\\n<div class='ico-cont-{size} {key}'>\\r\\n    <img class='ico-{size}' src='./images/{key}.svg' alt={key}>\\r\\n</div>\\r\\n{/if}\"],\"names\":[],\"mappings\":\"AAOI,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,AACvC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,AACvC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,AACxC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACzC,CAAC,AACD,IAAI,cAAC,CAAC,AACF,gBAAgB,CAAG,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,AACxC,CAAC,AACD,OAAO,cAAC,CAAC,AACL,QAAQ,IAAI,CACZ,OAAO,IAAI,CACX,MAAM,IAAI,AACd,CAAC,AACD,0BAAY,CAAE,YAAY,cAAC,CAAC,AACxB,OAAO,CAAE,YAAY,CACrB,QAAQ,CAAE,MAAM,CAChB,SAAS,QAAQ,CACvB,aAAa,CAAE,GAAG,AAChB,CAAC,AACD,YAAY,cAAC,CAAC,AACV,OAAO,KAAK,CACZ,MAAM,KAAK,AACf,CAAC,AACD,OAAO,cAAC,CAAC,AACL,OAAO,GAAG,CACV,MAAM,GAAG,AACb,CAAC,AACD,YAAY,cAAC,CAAC,AACV,OAAO,GAAG,CACV,MAAM,GAAG,AACb,CAAC,AACD,IAAI,cAAC,CAAC,AACF,OAAO,CAAE,KAAK,CACd,WAAW,CAAE,IAAI,CACjB,YAAY,CAAE,IAAI,CAClB,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,IAAI,cAAC,CAAC,AACF,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAChC,SAAS,CAAE,IAAI,AACnB,CAAC\"}"
};

const Icon = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { type } = $$props,
		{ size } = $$props,
		{ influence = 0 } = $$props,
		{ bordered = false } = $$props;

	let label = type.charAt(0).toUpperCase() + type.slice(1),
		key = ({
			produce: "pro",
			trade: "trd",
			politics: "pol",
			research: "res",
			survey: "sur",
			warfare: "war",
			colonize: "col",
			water: "wtr",
			food: "fud",
			silicon: "sil",
			ore: "ore",
			advanced: "adv",
			fertile: "fer",
			metallic: "met",
			influence: "inf"
		})[type];

	if ($$props.type === void 0 && $$bindings.type && type !== void 0) $$bindings.type(type);
	if ($$props.size === void 0 && $$bindings.size && size !== void 0) $$bindings.size(size);
	if ($$props.influence === void 0 && $$bindings.influence && influence !== void 0) $$bindings.influence(influence);
	if ($$props.bordered === void 0 && $$bindings.bordered && bordered !== void 0) $$bindings.bordered(bordered);
	$$result.css.add(css);

	return `${type == "influence"
	? `<div class="${"ico-cont-" + escape(size) + " svelte-okjivu"}"${add_attribute("style", bordered ? "border:1px solid black" : "", 0)}><img class="${"ico-" + escape(size) + " inf" + " svelte-okjivu"}" style="${"transform: translate(-15%, 5%);;"}" src="${"./images/" + escape(key) + ".svg"}"${add_attribute("alt", key, 0)}>
    <span class="${"num svelte-okjivu"}">${escape(influence)}</span></div>`
	: `<div class="${"ico-cont-" + escape(size) + " " + escape(key) + " svelte-okjivu"}"><img class="${"ico-" + escape(size) + " svelte-okjivu"}" src="${"./images/" + escape(key) + ".svg"}"${add_attribute("alt", key, 0)}></div>`}`;
});

/* src\components\IconBar.svelte generated by Svelte v3.20.1 */

const css$1 = {
	code: ".iconbar.svelte-bfkj6e{display:flex;flex-direction:column;justify-content:flex-start}",
	map: "{\"version\":3,\"file\":\"IconBar.svelte\",\"sources\":[\"IconBar.svelte\"],\"sourcesContent\":[\"<script>\\r\\n    import Icon from '../components/Icon.svelte';\\r\\n    export let survey, warfare, colonize, produce, trade, research;\\r\\n    let icons = [];\\r\\n    let f = (c,s) => { for (let i = 0; i < c; i++) icons = [...icons, {size:'sm',type:s}]; }\\r\\n    f(survey,\\\"survey\\\");\\r\\n    f(warfare,\\\"warfare\\\");\\r\\n    f(colonize,\\\"colonize\\\");\\r\\n    f(produce,\\\"produce\\\");\\r\\n    f(trade,\\\"trade\\\");\\r\\n    f(research,\\\"research\\\");\\r\\n    let size = `min-height: calc(${icons.length}*2em);max-height: calc(${icons.length}*2em);`;\\r\\n</script>\\r\\n<style>\\r\\n    .iconbar {\\r\\n        display:flex;\\r\\n        flex-direction: column;\\r\\n        justify-content: flex-start;\\r\\n    }\\r\\n</style>\\r\\n<div class=\\\"iconbar\\\" style={size}>\\r\\n    {#each icons as icon}\\r\\n        <Icon {...icon}/>\\r\\n        <div style=\\\"min-height:0.1vh;max-height:0.1vh;\\\"></div>\\r\\n    {/each}\\r\\n</div>\"],\"names\":[],\"mappings\":\"AAcI,QAAQ,cAAC,CAAC,AACN,QAAQ,IAAI,CACZ,cAAc,CAAE,MAAM,CACtB,eAAe,CAAE,UAAU,AAC/B,CAAC\"}"
};

const IconBar = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { survey } = $$props,
		{ warfare } = $$props,
		{ colonize } = $$props,
		{ produce } = $$props,
		{ trade } = $$props,
		{ research } = $$props;

	let icons = [];

	let f = (c, s) => {
		for (let i = 0; i < c; i++) icons = [...icons, { size: "sm", type: s }];
	};

	f(survey, "survey");
	f(warfare, "warfare");
	f(colonize, "colonize");
	f(produce, "produce");
	f(trade, "trade");
	f(research, "research");
	let size = `min-height: calc(${icons.length}*2em);max-height: calc(${icons.length}*2em);`;
	if ($$props.survey === void 0 && $$bindings.survey && survey !== void 0) $$bindings.survey(survey);
	if ($$props.warfare === void 0 && $$bindings.warfare && warfare !== void 0) $$bindings.warfare(warfare);
	if ($$props.colonize === void 0 && $$bindings.colonize && colonize !== void 0) $$bindings.colonize(colonize);
	if ($$props.produce === void 0 && $$bindings.produce && produce !== void 0) $$bindings.produce(produce);
	if ($$props.trade === void 0 && $$bindings.trade && trade !== void 0) $$bindings.trade(trade);
	if ($$props.research === void 0 && $$bindings.research && research !== void 0) $$bindings.research(research);
	$$result.css.add(css$1);

	return `<div class="${"iconbar svelte-bfkj6e"}"${add_attribute("style", size, 0)}>${each(icons, icon => `${validate_component(Icon, "Icon").$$render($$result, Object.assign(icon), {}, {})}
        <div style="${"min-height:0.1vh;max-height:0.1vh;"}"></div>`)}</div>`;
});

/* src\components\Tech.svelte generated by Svelte v3.20.1 */

const css$2 = {
	code: "@import url(https://unpkg.com/@smui/card@latest/bare.css);.mdc-card.svelte-4d9gi8.svelte-4d9gi8{overflow:hidden;padding:1vh;min-height:30vh;min-width:19vh;max-height:30vh;max-width:19vh;margin-left:1vh;margin-right:1vh}.mdc-card.mini.svelte-4d9gi8.svelte-4d9gi8{min-height:16vh;max-height:16vh}.title.svelte-4d9gi8.svelte-4d9gi8{display:flex;flex-direction:row;max-height:3vh;min-height:3vh;font:2vh bold}.title.svelte-4d9gi8 p.svelte-4d9gi8{margin-top:auto;margin-bottom:auto;margin-left:1vh}.logo.svelte-4d9gi8.svelte-4d9gi8{height:12vh;width:12vh;margin-left:3vh;border-radius:10vh 0vh 10vh 0vh;border:.25vh solid black;transform:rotate(45deg)}.logo.svelte-4d9gi8 img.svelte-4d9gi8{margin-left:2.25vh;margin-top:2vh;height:7.5vh;width:7.5vh;transform:rotate(-45deg);overflow:hidden}.desc.svelte-4d9gi8.svelte-4d9gi8{position:relative;font:1vh bold;line-height:1.2}.action.svelte-4d9gi8.svelte-4d9gi8{position:relative;border:0.05vh solid black;padding:0.5vh}.action.svelte-4d9gi8.svelte-4d9gi8:after{position:absolute;background:rgb(80,80,80);height:1vh;left:.5vh;top:-.5vh}.action.svelte-4d9gi8.svelte-4d9gi8:after{content:'Action'}",
	map: "{\"version\":3,\"file\":\"Tech.svelte\",\"sources\":[\"Tech.svelte\"],\"sourcesContent\":[\"<script> \\r\\nimport IconBar from '../components/IconBar.svelte';\\r\\nimport Icon from '../components/Icon.svelte';\\r\\nimport { onMount } from 'svelte';\\r\\nconst desc = {\\r\\n    \\\" \\\":{\\\"desc\\\":{\\r\\n        \\\"role\\\":\\\"\\\",\\r\\n        \\\"action\\\":\\\"\\\"}},\\r\\n    \\\"survey\\\": {\\\"desc\\\":{\\r\\n        \\\"role\\\":\\\"Look at <icon>survey<icon> -1 planet cards, keep 1 \\\\n Leader: Look at 1 additional card\\\",\\r\\n        \\\"action\\\":\\\"Draw 3 cards\\\"}},\\r\\n    \\\"warfare\\\": {\\\"desc\\\":{\\r\\n        \\\"role\\\":\\\"Collect 1 fighter per <icon>warfare<icon> \\\\n Leader: May attack 1 planet instead\\\",\\r\\n        \\\"action\\\":\\\"Attack 1 planet OR collect 1 fighter\\\"}},\\r\\n    \\\"colonize\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Settle 1 planet OR +1 colony\\\",\\r\\n        \\\"role\\\":\\\"+1 colony per <icon>colonize<icon> \\\\n Leader: May settle 1 planet instead\\\"}},\\r\\n    \\\"producetrade\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Produce 1 resource OR Trade 1 resource\\\",\\r\\n        \\\"role\\\":\\\"Produce 1 resource per <icon>produce<icon> OR Trade 1 resource per <icon>trade<icon> \\\\n Leader: +<icon>produce<icon> OR <icon>trade<icon>\\\"}},\\r\\n    \\\"research\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Remove up to 3 cards in your and from the game\\\",\\r\\n        \\\"role\\\":\\\"Auire 1 technology card after satisfying <icon>research<icon> costs and planet requirements \\\\n Leader: +<icon>research<icon>\\\"}},\\r\\n    \\\"politics\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Remove tis card from the game. Place any 1 role card from the stacks into your hand\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"improved_trade\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Collect 1 influence from the supply\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"improved_research\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Draw 1 card. Remove up to 3 cards in your hand from the game\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"improved_production\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Produce 2 resources\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"improved_warfare\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Collect 2 fighter OR Attack 1 planet\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"improved_colonize\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Settle 1 planet (optional). \\\\n Settle another planet OR +1 colony\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"improved_survey\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Draw 3 cards\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"survey_team\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Take the top card of the planet deck and put it face down into your empire\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"war_path\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Attack up to 2 planets\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"terraforming\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Add this card to a planet as 2 colonies. If that fulfills the printed colonize cost, settle the planet \\\\n (ignore colonize cost discounts)\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"genetic_engineering\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Collect +1 influence for each TYPE of resource you produce this turn\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"artificial_intelligence'\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Place any 2 role cards from the stacks into your hand\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"diverse_markets\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Collect +1 influence for each TYPE of resource you trade this turn\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"specialization\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Choose 1 resource TYPE. Collect +1 influence for each resource of that TYPE you trade this turn\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"mobilization\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Collect 2 fighter. You may attack 1 planet after your role phase this turn\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"data_network\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Draw 2 cards. Remove any number of cards in your hand from the game\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"abundance\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Planets you settle or attack come into play with all resource slots filled\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"adaptability\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Your standard research role cards gain all symboles. They can be used to boost or follow any role\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"bureaucracy\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"You may use the leader bonus when following the colonize or warfare roles\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"dissension\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Draw 1 dditional card when dissenting\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"hyperefficiency\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"You may remove any number of cards in your hand form the game each turn\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"imperialism\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"<icon>survey<icon> <icon>trade<icon> <icon>warfare<icon>\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"logistics\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"Play the action and role phases of your turn in any order\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"productivity\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"You may play an additional card for its action effect during your action phase\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"scorched_earth_policy\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"-2 to our warfare costs. When you attack a planet, leave a fight on it. that planet cannot store resources\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"streamlining\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"You may remove 1 card in your hand from the game each turn\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"weapons_emporium\\\": {\\\"desc\\\":{\\r\\n        \\\"action\\\":\\\"You may trade fighters as if they were resources (fighter is not a resource TYPE)\\\",\\r\\n        \\\"role\\\":\\\"\\\"}},\\r\\n    \\\"fertile_grounds\\\": {\\\"desc\\\":{\\r\\n        \\\"role\\\":\\\"<icon>colonize<icon> <icon>produce<icon> <icon>research<icon>\\\",\\r\\n        \\\"action\\\":\\\"\\\"}}\\r\\n    }\\r\\n    let hashCode = (str,i=0) => {\\r\\n        console.log('str',str);\\r\\n        console.log('length',str.length);\\r\\n        return ( i >= str.length ) ? 0 : \\r\\n        hashCode(str,i+1) + \\r\\n        ((str.charCodeAt(i) << 5) - \\r\\n        str.charCodeAt(i));\\r\\n    };\\r\\n    let intToARGB = (i) =>  {let rgb = (((i>>24)&0xFF).toString(16) + ((i>>16)&0xFF).toString(16) + ((i>>8)&0xFF).toString(16) + (i&0xFF).toString(16)); rgb+='000000'; return rgb.substring(0, 6);};\\r\\n    String.prototype.toHexColour = () => intToARGB(hashCode(this));\\r\\n    export let card={name:\\\" \\\"}, selectable=false, mini=false;\\r\\n    let color,bg,logoBg;\\r\\n    onMount(()=>{\\r\\n        console.log('card name',card.name);\\r\\n        color = '#' + intToARGB(hashCode(card.name));\\r\\n        bg = `color:${color};background-image:linear-gradient( rgb(80,80,80),  rgb(80,80,80) 5vh,  rgb(80,80,80) 5vh,  ${color} 8vh,  ${color} 8vh,  ${color} 12vh,  ${color} 12vh,  rgb(80,80,80) 16vh );`;\\r\\n        logoBg = `background-color: ${color};`;\\r\\n    })\\r\\n\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n\\t@import url(https://unpkg.com/@smui/card@latest/bare.css);\\r\\n\\t.mdc-card {\\r\\n\\t\\toverflow:hidden;\\r\\n\\t\\tpadding:1vh;\\r\\n\\t\\tmin-height: 30vh; \\r\\n\\t\\tmin-width: 19vh; \\r\\n\\t\\tmax-height: 30vh; \\r\\n\\t\\tmax-width: 19vh; \\r\\n\\t\\tmargin-left:1vh;\\r\\n\\t\\tmargin-right:1vh;\\r\\n    }\\r\\n    .mdc-card.mini {\\r\\n\\t\\tmin-height: 16vh;\\r\\n\\t\\tmax-height: 16vh;\\r\\n    }\\r\\n\\t.title {\\r\\n\\t\\tdisplay:flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t\\tmax-height: 3vh;\\r\\n\\t\\tmin-height: 3vh;\\r\\n\\t\\tfont: 2vh bold;\\r\\n\\t}\\r\\n\\t.title p {\\r\\n\\t\\tmargin-top: auto;\\r\\n\\t\\tmargin-bottom: auto;\\r\\n\\t\\tmargin-left:1vh;\\r\\n\\t}\\r\\n\\t.logo {\\r\\n\\t\\theight:12vh;\\r\\n\\t\\twidth:12vh;\\r\\n\\t\\tmargin-left:3vh;\\r\\n\\t\\tborder-radius: 10vh 0vh 10vh 0vh;\\r\\n\\t\\tborder: .25vh solid black;\\r\\n\\t\\ttransform:rotate(45deg);\\r\\n\\t}\\r\\n\\t.logo img{\\r\\n\\t\\tmargin-left:2.25vh;\\r\\n\\t\\tmargin-top:2vh;\\r\\n\\t\\theight:7.5vh;\\r\\n\\t\\twidth:7.5vh;\\r\\n\\t\\ttransform: rotate(-45deg);\\r\\n\\t\\toverflow:hidden;\\r\\n\\t}\\r\\n\\t.desc {\\r\\n\\t\\tposition:relative;\\r\\n\\t\\tfont: 1vh bold;\\r\\n\\t\\tline-height : 1.2;\\r\\n\\t}\\r\\n\\t.action {\\r\\n\\t\\tposition:relative;\\r\\n\\t\\tborder: 0.05vh solid black;\\r\\n\\t\\tpadding: 0.5vh;\\r\\n\\t}\\r\\n\\t.action:after {\\r\\n\\t\\tposition:absolute;\\r\\n\\t\\tbackground: rgb(80,80,80);\\r\\n\\t\\theight:1vh;\\r\\n\\t\\tleft:.5vh;\\r\\n\\t\\ttop:-.5vh;\\r\\n\\t}\\r\\n\\t.action:after {\\r\\n\\t\\tcontent:'Action';\\r\\n\\t}\\r\\n</style>\\r\\n<div class=\\\"mdc-card {(selectable) ? (card.selected) ? 'selected' : 'selectable' : 'bordered'} {(mini) ? 'mini' : '' }\\\" style={bg} on:click on:touch on:touchstart on:touchend on:tap on:touchmove>\\r\\n    <div class=\\\"title\\\">\\r\\n        <IconBar {...card.icons}/>\\r\\n        <p>{card.name}</p>\\r\\n    </div>\\r\\n    <div class=\\\"logo\\\" style ={logoBg}>\\r\\n        <img src=\\\"./images/tech.svg\\\" alt=\\\"{card.name}\\\">\\r\\n    </div>\\r\\n    {#if !mini}\\r\\n        <div class=\\\"desc\\\">\\r\\n        {#if desc[card.type] !== undefined}\\r\\n            <p class=\\\"action\\\">\\r\\n                {#each desc[card.type].desc.action.split('<icon>') as piece}\\r\\n                    {#if ['survey','warfare','colonize','research','produce','trade'].includes(piece)} <Icon type={piece} size='sm'/> \\r\\n                    {:else} {piece}\\r\\n                    {/if}\\r\\n                {/each}\\r\\n            </p>\\r\\n        {/if}\\r\\n        <!-- <div class='res-cost'>\\r\\n                <p></p>\\r\\n                <Icon/>\\r\\n            </div>\\r\\n            <div class='plan-req'>\\r\\n                <Icon/>\\r\\n            </div> -->\\r\\n        </div> \\r\\n    {/if}\\r\\n</div>\"],\"names\":[],\"mappings\":\"AAkIC,QAAQ,IAAI,4CAA4C,CAAC,CAAC,AAC1D,SAAS,4BAAC,CAAC,AACV,SAAS,MAAM,CACf,QAAQ,GAAG,CACX,UAAU,CAAE,IAAI,CAChB,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,IAAI,CAChB,SAAS,CAAE,IAAI,CACf,YAAY,GAAG,CACf,aAAa,GAAG,AACd,CAAC,AACD,SAAS,KAAK,4BAAC,CAAC,AAClB,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,IAAI,AACd,CAAC,AACJ,MAAM,4BAAC,CAAC,AACP,QAAQ,IAAI,CACZ,cAAc,CAAE,GAAG,CACnB,UAAU,CAAE,GAAG,CACf,UAAU,CAAE,GAAG,CACf,IAAI,CAAE,GAAG,CAAC,IAAI,AACf,CAAC,AACD,oBAAM,CAAC,CAAC,cAAC,CAAC,AACT,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,IAAI,CACnB,YAAY,GAAG,AAChB,CAAC,AACD,KAAK,4BAAC,CAAC,AACN,OAAO,IAAI,CACX,MAAM,IAAI,CACV,YAAY,GAAG,CACf,aAAa,CAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAChC,MAAM,CAAE,KAAK,CAAC,KAAK,CAAC,KAAK,CACzB,UAAU,OAAO,KAAK,CAAC,AACxB,CAAC,AACD,mBAAK,CAAC,iBAAG,CAAC,AACT,YAAY,MAAM,CAClB,WAAW,GAAG,CACd,OAAO,KAAK,CACZ,MAAM,KAAK,CACX,SAAS,CAAE,OAAO,MAAM,CAAC,CACzB,SAAS,MAAM,AAChB,CAAC,AACD,KAAK,4BAAC,CAAC,AACN,SAAS,QAAQ,CACjB,IAAI,CAAE,GAAG,CAAC,IAAI,CACd,WAAW,CAAG,GAAG,AAClB,CAAC,AACD,OAAO,4BAAC,CAAC,AACR,SAAS,QAAQ,CACjB,MAAM,CAAE,MAAM,CAAC,KAAK,CAAC,KAAK,CAC1B,OAAO,CAAE,KAAK,AACf,CAAC,AACD,mCAAO,MAAM,AAAC,CAAC,AACd,SAAS,QAAQ,CACjB,UAAU,CAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CACzB,OAAO,GAAG,CACV,KAAK,IAAI,CACT,IAAI,KAAK,AACV,CAAC,AACD,mCAAO,MAAM,AAAC,CAAC,AACd,QAAQ,QAAQ,AACjB,CAAC\"}"
};

const Tech = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	const desc = {
		" ": { "desc": { "role": "", "action": "" } },
		"survey": {
			"desc": {
				"role": "Look at <icon>survey<icon> -1 planet cards, keep 1 \n Leader: Look at 1 additional card",
				"action": "Draw 3 cards"
			}
		},
		"warfare": {
			"desc": {
				"role": "Collect 1 fighter per <icon>warfare<icon> \n Leader: May attack 1 planet instead",
				"action": "Attack 1 planet OR collect 1 fighter"
			}
		},
		"colonize": {
			"desc": {
				"action": "Settle 1 planet OR +1 colony",
				"role": "+1 colony per <icon>colonize<icon> \n Leader: May settle 1 planet instead"
			}
		},
		"producetrade": {
			"desc": {
				"action": "Produce 1 resource OR Trade 1 resource",
				"role": "Produce 1 resource per <icon>produce<icon> OR Trade 1 resource per <icon>trade<icon> \n Leader: +<icon>produce<icon> OR <icon>trade<icon>"
			}
		},
		"research": {
			"desc": {
				"action": "Remove up to 3 cards in your and from the game",
				"role": "Auire 1 technology card after satisfying <icon>research<icon> costs and planet requirements \n Leader: +<icon>research<icon>"
			}
		},
		"politics": {
			"desc": {
				"action": "Remove tis card from the game. Place any 1 role card from the stacks into your hand",
				"role": ""
			}
		},
		"improved_trade": {
			"desc": {
				"action": "Collect 1 influence from the supply",
				"role": ""
			}
		},
		"improved_research": {
			"desc": {
				"action": "Draw 1 card. Remove up to 3 cards in your hand from the game",
				"role": ""
			}
		},
		"improved_production": {
			"desc": {
				"action": "Produce 2 resources",
				"role": ""
			}
		},
		"improved_warfare": {
			"desc": {
				"action": "Collect 2 fighter OR Attack 1 planet",
				"role": ""
			}
		},
		"improved_colonize": {
			"desc": {
				"action": "Settle 1 planet (optional). \n Settle another planet OR +1 colony",
				"role": ""
			}
		},
		"improved_survey": {
			"desc": { "action": "Draw 3 cards", "role": "" }
		},
		"survey_team": {
			"desc": {
				"action": "Take the top card of the planet deck and put it face down into your empire",
				"role": ""
			}
		},
		"war_path": {
			"desc": {
				"action": "Attack up to 2 planets",
				"role": ""
			}
		},
		"terraforming": {
			"desc": {
				"action": "Add this card to a planet as 2 colonies. If that fulfills the printed colonize cost, settle the planet \n (ignore colonize cost discounts)",
				"role": ""
			}
		},
		"genetic_engineering": {
			"desc": {
				"action": "Collect +1 influence for each TYPE of resource you produce this turn",
				"role": ""
			}
		},
		"artificial_intelligence'": {
			"desc": {
				"action": "Place any 2 role cards from the stacks into your hand",
				"role": ""
			}
		},
		"diverse_markets": {
			"desc": {
				"action": "Collect +1 influence for each TYPE of resource you trade this turn",
				"role": ""
			}
		},
		"specialization": {
			"desc": {
				"action": "Choose 1 resource TYPE. Collect +1 influence for each resource of that TYPE you trade this turn",
				"role": ""
			}
		},
		"mobilization": {
			"desc": {
				"action": "Collect 2 fighter. You may attack 1 planet after your role phase this turn",
				"role": ""
			}
		},
		"data_network": {
			"desc": {
				"action": "Draw 2 cards. Remove any number of cards in your hand from the game",
				"role": ""
			}
		},
		"abundance": {
			"desc": {
				"action": "Planets you settle or attack come into play with all resource slots filled",
				"role": ""
			}
		},
		"adaptability": {
			"desc": {
				"action": "Your standard research role cards gain all symboles. They can be used to boost or follow any role",
				"role": ""
			}
		},
		"bureaucracy": {
			"desc": {
				"action": "You may use the leader bonus when following the colonize or warfare roles",
				"role": ""
			}
		},
		"dissension": {
			"desc": {
				"action": "Draw 1 dditional card when dissenting",
				"role": ""
			}
		},
		"hyperefficiency": {
			"desc": {
				"action": "You may remove any number of cards in your hand form the game each turn",
				"role": ""
			}
		},
		"imperialism": {
			"desc": {
				"action": "<icon>survey<icon> <icon>trade<icon> <icon>warfare<icon>",
				"role": ""
			}
		},
		"logistics": {
			"desc": {
				"action": "Play the action and role phases of your turn in any order",
				"role": ""
			}
		},
		"productivity": {
			"desc": {
				"action": "You may play an additional card for its action effect during your action phase",
				"role": ""
			}
		},
		"scorched_earth_policy": {
			"desc": {
				"action": "-2 to our warfare costs. When you attack a planet, leave a fight on it. that planet cannot store resources",
				"role": ""
			}
		},
		"streamlining": {
			"desc": {
				"action": "You may remove 1 card in your hand from the game each turn",
				"role": ""
			}
		},
		"weapons_emporium": {
			"desc": {
				"action": "You may trade fighters as if they were resources (fighter is not a resource TYPE)",
				"role": ""
			}
		},
		"fertile_grounds": {
			"desc": {
				"role": "<icon>colonize<icon> <icon>produce<icon> <icon>research<icon>",
				"action": ""
			}
		}
	};

	let hashCode = (str, i = 0) => {
		console.log("str", str);
		console.log("length", str.length);

		return i >= str.length
		? 0
		: hashCode(str, i + 1) + ((str.charCodeAt(i) << 5) - str.charCodeAt(i));
	};

	let intToARGB = i => {
		let rgb = (i >> 24 & 255).toString(16) + (i >> 16 & 255).toString(16) + (i >> 8 & 255).toString(16) + (i & 255).toString(16);
		rgb += "000000";
		return rgb.substring(0, 6);
	};

	String.prototype.toHexColour = () => intToARGB(hashCode(undefined));

	let { card = { name: " " } } = $$props,
		{ selectable = false } = $$props,
		{ mini = false } = $$props;

	let color, bg, logoBg;

	onMount(() => {
		console.log("card name", card.name);
		color = "#" + intToARGB(hashCode(card.name));
		bg = `color:${color};background-image:linear-gradient( rgb(80,80,80),  rgb(80,80,80) 5vh,  rgb(80,80,80) 5vh,  ${color} 8vh,  ${color} 8vh,  ${color} 12vh,  ${color} 12vh,  rgb(80,80,80) 16vh );`;
		logoBg = `background-color: ${color};`;
	});

	if ($$props.card === void 0 && $$bindings.card && card !== void 0) $$bindings.card(card);
	if ($$props.selectable === void 0 && $$bindings.selectable && selectable !== void 0) $$bindings.selectable(selectable);
	if ($$props.mini === void 0 && $$bindings.mini && mini !== void 0) $$bindings.mini(mini);
	$$result.css.add(css$2);

	return `<div class="${"mdc-card " + escape(selectable
	? card.selected ? "selected" : "selectable"
	: "bordered") + " " + escape(mini ? "mini" : "") + " svelte-4d9gi8"}"${add_attribute("style", bg, 0)}><div class="${"title svelte-4d9gi8"}">${validate_component(IconBar, "IconBar").$$render($$result, Object.assign(card.icons), {}, {})}
        <p class="${"svelte-4d9gi8"}">${escape(card.name)}</p></div>
    <div class="${"logo svelte-4d9gi8"}"${add_attribute("style", logoBg, 0)}><img src="${"./images/tech.svg"}"${add_attribute("alt", card.name, 0)} class="${"svelte-4d9gi8"}"></div>
    ${!mini
	? `<div class="${"desc svelte-4d9gi8"}">${desc[card.type] !== undefined
		? `<p class="${"action svelte-4d9gi8"}">${each(desc[card.type].desc.action.split("<icon>"), piece => `${["survey", "warfare", "colonize", "research", "produce", "trade"].includes(piece)
			? `${validate_component(Icon, "Icon").$$render($$result, { type: piece, size: "sm" }, {}, {})}`
			: `${escape(piece)}`}`)}</p>`
		: ``}
        </div>`
	: ``}</div>`;
});

/* src\components\PlanetCard.svelte generated by Svelte v3.20.1 */

const css$3 = {
	code: "@import url(https://unpkg.com/@smui/card@latest/bare.css);.mdc-card.svelte-1ax9ajq.svelte-1ax9ajq{overflow:hidden;padding:1vh;min-height:30vh;min-width:19vh;max-height:30vh;max-width:19vh;margin-left:1vh;margin-right:1vh;position:relative}.mdc-card.mini.svelte-1ax9ajq.svelte-1ax9ajq{min-height:16vh;max-height:16vh}.title.svelte-1ax9ajq.svelte-1ax9ajq{display:flex;flex-direction:row;max-height:3vh;min-height:3vh;font:1.5vh bold;text-align:end}.logo.svelte-1ax9ajq.svelte-1ax9ajq{height:12vh;width:12vh;margin-left:3vh;border-radius:10vh 0vh 10vh 0vh;transform:rotate(45deg)}.logo.svelte-1ax9ajq img.svelte-1ax9ajq{margin-left:2.25vh;margin-top:2vh;height:7.5vh;width:7.5vh;transform:rotate(-45deg);overflow:hidden}.name.svelte-1ax9ajq.svelte-1ax9ajq{position:absolute;top:20%;left:2%;transform:rotate(90deg);transform-origin:bottom left;font-size:1.6vh;border-radius:5px;background:rgb(100,100,100);padding-left:1em;padding-right:1em}",
	map: "{\"version\":3,\"file\":\"PlanetCard.svelte\",\"sources\":[\"PlanetCard.svelte\"],\"sourcesContent\":[\"<script> \\r\\nimport IconBar from '../components/IconBar.svelte';\\r\\nimport Icon from '../components/Icon.svelte';\\r\\nimport { onMount } from 'svelte';\\r\\n\\r\\n    export let planet={name:\\\" \\\"}, selectable=false, mini=false;\\r\\nlet key = {advanced:'adv', fertile:'fer', metallic:'met',}[planet.type];\\r\\n    let color,bg,logoBg;\\r\\n    console.log(planet);\\r\\n    onMount(()=>{\\r\\n        color =  (key=='fer') ? 'rgb(148, 197, 152)' : (key=='adv') ? 'rgb(231, 184, 215)' : 'rgb(187, 55, 55)';\\r\\n        bg = `color:${color};background:radial-gradient(circle at 50% 33%, ${color}, rgb(80,80,80) 30%)`\\r\\n        logoBg = `background-color: ${color};`;\\r\\n    })\\r\\n\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n\\t@import url(https://unpkg.com/@smui/card@latest/bare.css);\\r\\n\\t.mdc-card {\\r\\n\\t\\toverflow:hidden;\\r\\n\\t\\tpadding:1vh;\\r\\n\\t\\tmin-height: 30vh; \\r\\n\\t\\tmin-width: 19vh; \\r\\n\\t\\tmax-height: 30vh; \\r\\n\\t\\tmax-width: 19vh; \\r\\n\\t\\tmargin-left:1vh;\\r\\n\\t\\tmargin-right:1vh;\\r\\n        position:relative;\\r\\n    }\\r\\n    .mdc-card.mini {\\r\\n\\t\\tmin-height: 16vh;\\r\\n\\t\\tmax-height: 16vh;\\r\\n    }\\r\\n\\t.title {\\r\\n\\t\\tdisplay:flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t\\tmax-height: 3vh;\\r\\n\\t\\tmin-height: 3vh;\\r\\n\\t\\tfont: 1.5vh bold;\\r\\n        text-align: end;\\r\\n\\t}\\r\\n\\t.logo {\\r\\n\\t\\theight:12vh;\\r\\n\\t\\twidth:12vh;\\r\\n\\t\\tmargin-left:3vh;\\r\\n\\t\\tborder-radius: 10vh 0vh 10vh 0vh;\\r\\n\\t\\ttransform:rotate(45deg);\\r\\n\\t}\\r\\n\\t.logo img{\\r\\n\\t\\tmargin-left:2.25vh;\\r\\n\\t\\tmargin-top:2vh;\\r\\n\\t\\theight:7.5vh;\\r\\n\\t\\twidth:7.5vh;\\r\\n\\t\\ttransform: rotate(-45deg);\\r\\n\\t\\toverflow:hidden;\\r\\n\\t}\\r\\n    .name {\\r\\n        position: absolute;\\r\\n        top:20%;\\r\\n        left:2%;\\r\\n        transform: rotate(90deg);\\r\\n        transform-origin: bottom left;\\r\\n        font-size:1.6vh;\\r\\n        border-radius: 5px;\\r\\n        background:rgb(100,100,100);\\r\\n        padding-left:1em;\\r\\n        padding-right:1em;\\r\\n    }\\r\\n</style>\\r\\n    <div class=\\\"mdc-card {(selectable) ? (planet.selected) ? 'selected' : 'selectable' : 'bordered'} {(mini) ? 'mini' : '' }\\\" style={bg} on:click on:touch on:touchstart on:touchend on:tap on:touchmove>\\r\\n        {#if planet.settled}\\r\\n            <div class=\\\"title\\\"> \\r\\n                <IconBar {...planet.icons}/>  \\r\\n                <span style=\\\"margin-left:15vh\\\">\\r\\n                    <Icon type='influence' size='sm' influence={planet.influence_vbalue}/>\\r\\n                </span>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"logo\\\">\\r\\n                <img src=\\\"./images/{key}.svg\\\" alt=\\\"{planet.name}\\\">\\r\\n            </div>\\r\\n            <div class='name'>{planet.name}</div>\\r\\n            <div style=\\\"position:absolute; bottom:3%; width:15%; height 15%; text-align: center;\\\">\\r\\n                {#each planet.production_zones as zone}\\r\\n                    <Icon type={zone.type} size=\\\"sm\\\" bordered={zone.filled}/>\\r\\n                {/each}\\r\\n            </div>\\r\\n        {:else}\\r\\n            {#if !mini}<div class=\\\"title\\\"> Surveying Alien World  </div>{/if}\\r\\n            <div class=\\\"logo\\\" >\\r\\n                <img src=\\\"./images/col.svg\\\" alt=\\\"{planet.name}\\\">\\r\\n            </div>\\r\\n            <div style={\\\"display:inline-block \\\" + (mini) ? 'position:absolute;width:90%;top:40%': ''}>\\r\\n                <span style=\\\"float:left\\\">\\r\\n                    {planet.settle_cost}\\r\\n                    <Icon type=\\\"colonize\\\" size=\\\"sm\\\"/>\\r\\n                </span>\\r\\n                <span style=\\\"float:right\\\">\\r\\n                    <Icon type=\\\"warfare\\\" size=\\\"sm\\\"/>\\r\\n                    {planet.conquer_cost}\\r\\n                </span>\\r\\n            </div>\\r\\n            <div style=\\\"position:absolute; bottom:3%; width:85%; text-align: center; border: 1px solid black;\\\">{planet.type}</div>\\r\\n    {/if}\\r\\n</div>\"],\"names\":[],\"mappings\":\"AAkBC,QAAQ,IAAI,4CAA4C,CAAC,CAAC,AAC1D,SAAS,8BAAC,CAAC,AACV,SAAS,MAAM,CACf,QAAQ,GAAG,CACX,UAAU,CAAE,IAAI,CAChB,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,IAAI,CAChB,SAAS,CAAE,IAAI,CACf,YAAY,GAAG,CACf,aAAa,GAAG,CACV,SAAS,QAAQ,AACrB,CAAC,AACD,SAAS,KAAK,8BAAC,CAAC,AAClB,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,IAAI,AACd,CAAC,AACJ,MAAM,8BAAC,CAAC,AACP,QAAQ,IAAI,CACZ,cAAc,CAAE,GAAG,CACnB,UAAU,CAAE,GAAG,CACf,UAAU,CAAE,GAAG,CACf,IAAI,CAAE,KAAK,CAAC,IAAI,CACV,UAAU,CAAE,GAAG,AACtB,CAAC,AACD,KAAK,8BAAC,CAAC,AACN,OAAO,IAAI,CACX,MAAM,IAAI,CACV,YAAY,GAAG,CACf,aAAa,CAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAChC,UAAU,OAAO,KAAK,CAAC,AACxB,CAAC,AACD,oBAAK,CAAC,kBAAG,CAAC,AACT,YAAY,MAAM,CAClB,WAAW,GAAG,CACd,OAAO,KAAK,CACZ,MAAM,KAAK,CACX,SAAS,CAAE,OAAO,MAAM,CAAC,CACzB,SAAS,MAAM,AAChB,CAAC,AACE,KAAK,8BAAC,CAAC,AACH,QAAQ,CAAE,QAAQ,CAClB,IAAI,GAAG,CACP,KAAK,EAAE,CACP,SAAS,CAAE,OAAO,KAAK,CAAC,CACxB,gBAAgB,CAAE,MAAM,CAAC,IAAI,CAC7B,UAAU,KAAK,CACf,aAAa,CAAE,GAAG,CAClB,WAAW,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAC3B,aAAa,GAAG,CAChB,cAAc,GAAG,AACrB,CAAC\"}"
};

const PlanetCard = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { planet = { name: " " } } = $$props,
		{ selectable = false } = $$props,
		{ mini = false } = $$props;

	let key = ({
		advanced: "adv",
		fertile: "fer",
		metallic: "met"
	})[planet.type];

	let color, bg;
	console.log(planet);

	onMount(() => {
		color = key == "fer"
		? "rgb(148, 197, 152)"
		: key == "adv" ? "rgb(231, 184, 215)" : "rgb(187, 55, 55)";

		bg = `color:${color};background:radial-gradient(circle at 50% 33%, ${color}, rgb(80,80,80) 30%)`;
	});

	if ($$props.planet === void 0 && $$bindings.planet && planet !== void 0) $$bindings.planet(planet);
	if ($$props.selectable === void 0 && $$bindings.selectable && selectable !== void 0) $$bindings.selectable(selectable);
	if ($$props.mini === void 0 && $$bindings.mini && mini !== void 0) $$bindings.mini(mini);
	$$result.css.add(css$3);

	return `<div class="${"mdc-card " + escape(selectable
	? planet.selected ? "selected" : "selectable"
	: "bordered") + " " + escape(mini ? "mini" : "") + " svelte-1ax9ajq"}"${add_attribute("style", bg, 0)}>${planet.settled
	? `<div class="${"title svelte-1ax9ajq"}">${validate_component(IconBar, "IconBar").$$render($$result, Object.assign(planet.icons), {}, {})}  
                <span style="${"margin-left:15vh"}">${validate_component(Icon, "Icon").$$render(
			$$result,
			{
				type: "influence",
				size: "sm",
				influence: planet.influence_vbalue
			},
			{},
			{}
		)}</span></div>

            <div class="${"logo svelte-1ax9ajq"}"><img src="${"./images/" + escape(key) + ".svg"}"${add_attribute("alt", planet.name, 0)} class="${"svelte-1ax9ajq"}"></div>
            <div class="${"name svelte-1ax9ajq"}">${escape(planet.name)}</div>
            <div style="${"position:absolute; bottom:3%; width:15%; height 15%; text-align: center;"}">${each(planet.production_zones, zone => `${validate_component(Icon, "Icon").$$render(
			$$result,
			{
				type: zone.type,
				size: "sm",
				bordered: zone.filled
			},
			{},
			{}
		)}`)}</div>`
	: `${!mini
		? `<div class="${"title svelte-1ax9ajq"}">Surveying Alien World  </div>`
		: ``}
            <div class="${"logo svelte-1ax9ajq"}"><img src="${"./images/col.svg"}"${add_attribute("alt", planet.name, 0)} class="${"svelte-1ax9ajq"}"></div>
            <div${add_attribute(
			"style",
			"display:inline-block " + mini
			? "position:absolute;width:90%;top:40%"
			: "",
			0
		)}><span style="${"float:left"}">${escape(planet.settle_cost)}
                    ${validate_component(Icon, "Icon").$$render($$result, { type: "colonize", size: "sm" }, {}, {})}</span>
                <span style="${"float:right"}">${validate_component(Icon, "Icon").$$render($$result, { type: "warfare", size: "sm" }, {}, {})}
                    ${escape(planet.conquer_cost)}</span></div>
            <div style="${"position:absolute; bottom:3%; width:85%; text-align: center; border: 1px solid black;"}">${escape(planet.type)}</div>`}</div>`;
});

/* src\components\Card.svelte generated by Svelte v3.20.1 */

const css$4 = {
	code: "@import url(https://unpkg.com/@smui/card@latest/bare.css);:root{--pro-color:rgb(255, 255, 119);--col-color:rgb(255, 184, 102);--trd-color:rgb(255, 169, 241);--pol-color:rgb(209, 186, 143);--res-color:rgb(119, 183, 255);--war-color:rgb(255, 98, 98);--sur-color:rgb(143, 255, 143);--pro-trd-clr:linear-gradient(to right, var(--pro-color), var(--pro-color) 50%, var(--trd-color) 50%, var(--trd-color) 100%)}.selectable.svelte-tzs0yw.svelte-tzs0yw{border:solid rgb(114, 210, 223);border-width:1px}.selected.svelte-tzs0yw.svelte-tzs0yw{border:solid rgb(50, 190, 132);border-width:1px}.mdc-card.svelte-tzs0yw.svelte-tzs0yw{position:relative;overflow:hidden;padding:1vh;height:30vh;width:19vh;margin-left:1vh;margin-right:1vh}.mdc-card.mini.svelte-tzs0yw.svelte-tzs0yw{min-height:16vh;max-height:16vh}.logo.svelte-tzs0yw div.svelte-tzs0yw{transform:rotate(-45deg) scale(1.7);margin-top:2.9vh;margin-left:2.8vh}.title.svelte-tzs0yw.svelte-tzs0yw{display:flex;flex-direction:row;max-height:3vh;min-height:3vh;overflow:hidden;font:2vh bold}.title.svelte-tzs0yw p.svelte-tzs0yw{margin-top:auto;margin-bottom:auto;margin-left:1vh}.logo.svelte-tzs0yw.svelte-tzs0yw{min-height:12vh;min-width:12vh;max-height:12vh;max-width:12vh;margin-left:3vh;border-radius:10vh 0vh 10vh 0vh;border:.25vh solid black;transform:rotate(45deg)}.logo.svelte-tzs0yw img.svelte-tzs0yw{margin-left:2.25vh;margin-top:2vh;height:7.5vh;width:7.5vh;transform:rotate(-45deg);overflow:hidden}.desc.svelte-tzs0yw.svelte-tzs0yw{position:relative;font:1vh bold;line-height:1.2}.role.svelte-tzs0yw.svelte-tzs0yw,.action.svelte-tzs0yw.svelte-tzs0yw{position:relative;border:0.05vh solid black;padding:0.5vh}.role.svelte-tzs0yw.svelte-tzs0yw:after,.action.svelte-tzs0yw.svelte-tzs0yw:after{position:absolute;background:rgb(80,80,80);height:1vh;left:.5vh;top:-.5vh}.role.svelte-tzs0yw.svelte-tzs0yw:after{content:'Role'}.action.svelte-tzs0yw.svelte-tzs0yw:after{content:'Action'}.pilecount.svelte-tzs0yw.svelte-tzs0yw{position:absolute;left:5%;bottom:3%}",
	map: "{\"version\":3,\"file\":\"Card.svelte\",\"sources\":[\"Card.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport Icon from '../components/Icon.svelte';\\n\\timport Tech from '../components/Tech.svelte';\\n\\timport PlanetCard from '../components/PlanetCard.svelte';\\n\\timport {beforeUpdate} from 'svelte';\\n\\texport let card, selectable = false, pilecount ='', mini = false;\\n\\tlet label,key,bg,logoBg;\\n    $:{ label = card.type.charAt(0).toUpperCase() + card.type.slice(1),\\n        key = {producetrade:false,produce:'pro',trade:'trd',research:'res',politics:'pol',survey:'sur',warfare:'war',colonize:'col'}[card.type],\\n        bg = (!key) ? `color:var(--pro-color);background-image:linear-gradient( rgb(80,80,80),  rgb(80,80,80) 5vh,  rgb(80,80,80) 5vh,  var(--pro-color) 8vh,  var(--pro-color) 8vh,  var(--trd-color) 12vh,  var(--trd-color) 12vh,  rgb(80,80,80) 16vh );`\\n                    : `color:var(--${key}-color);background-image:linear-gradient( rgb(80,80,80),  rgb(80,80,80) 5vh,  rgb(80,80,80) 5vh,  var(--${key}-color) 8vh,  var(--${key}-color) 8vh,  var(--${key}-color) 12vh,  var(--${key}-color) 12vh,  rgb(80,80,80) 16vh );`,\\n        logoBg = (!key) ? `background: var(--pro-trd-clr);` : `background-color: var(--${key}-color);`;\\n\\t}\\n\\tlet desc = {\\n\\t\\t\\\"survey\\\": {\\\"desc\\\":{\\n\\t\\t\\t\\\"role\\\":\\\"Look at <icon>survey<icon> -1 planet cards, keep 1 \\\\n Leader: Look at 1 additional card\\\",\\n\\t\\t\\t\\\"action\\\":\\\"Draw 3 cards\\\"}},\\n\\t\\t\\\"warfare\\\": {\\\"desc\\\":{\\n\\t\\t\\t\\\"role\\\":\\\"Collect 1 fighter per <icon>warfare<icon> \\\\n Leader: May attack 1 planet instead\\\",\\n\\t\\t\\t\\\"action\\\":\\\"Attack 1 planet OR collect 1 fighter\\\"}},\\n\\t\\t\\\"colonize\\\": {\\\"desc\\\":{\\n\\t\\t\\t\\\"action\\\":\\\"Settle 1 planet OR +1 colony\\\",\\n\\t\\t\\t\\\"role\\\":\\\"+1 colony per <icon>colonize<icon> \\\\n Leader: May settle 1 planet instead\\\"}},\\n\\t\\t\\\"producetrade\\\": {\\\"desc\\\":{\\n\\t\\t\\t\\\"action\\\":\\\"Produce 1 resource OR Trade 1 resource\\\",\\n\\t\\t\\t\\\"role\\\":\\\"Produce 1 resource per <icon>produce<icon> OR Trade 1 resource per <icon>trade<icon> \\\\n Leader: +<icon>produce<icon> OR <icon>trade<icon>\\\"}},\\n\\t\\t\\\"research\\\": {\\\"desc\\\":{\\n\\t\\t\\t\\\"action\\\":\\\"Remove up to 3 cards in your and from the game\\\",\\n\\t\\t\\t\\\"role\\\":\\\"Aquire 1 technology card after satisfying <icon>research<icon> costs and planet requirements \\\\n Leader: +<icon>research<icon>\\\"}},\\n\\t\\t\\\"politics\\\": {\\\"desc\\\":{\\n\\t\\t\\t\\\"action\\\":\\\"Remove tis card from the game. Place any 1 role card from the stacks into your hand\\\",\\n\\t\\t\\t\\\"role\\\":\\\"\\\"}},\\n\\t\\t}\\n\\n\\n\\tbeforeUpdate(()=>{\\n\\t\\tcard.type = card.type+'';\\n\\t})\\n\\t</script>\\n<style>\\n\\t@import url(https://unpkg.com/@smui/card@latest/bare.css);\\n\\t:root {\\n\\t\\t--pro-color:rgb(255, 255, 119);\\n\\t\\t--col-color:rgb(255, 184, 102);\\n\\t\\t--trd-color:rgb(255, 169, 241);\\n\\t\\t--pol-color:rgb(209, 186, 143);\\n\\t\\t--res-color:rgb(119, 183, 255);\\n\\t\\t--war-color:rgb(255, 98, 98);\\n\\t\\t--sur-color:rgb(143, 255, 143);\\n\\t\\t--pro-trd-clr:linear-gradient(to right, var(--pro-color), var(--pro-color) 50%, var(--trd-color) 50%, var(--trd-color) 100%);\\n\\t}\\n\\t\\n\\t.selectable{\\n\\t\\tborder: solid rgb(114, 210, 223);\\n\\t\\tborder-width: 1px;\\n\\t}\\n\\t\\n\\t.selected{\\n\\t\\tborder: solid rgb(50, 190, 132);\\n\\t\\tborder-width: 1px;\\n\\t}\\n\\t.mdc-card {\\n\\t\\tposition: relative;\\n\\t\\toverflow:hidden;\\n\\t\\tpadding:1vh;\\n\\t\\theight: 30vh; \\n\\t\\twidth: 19vh; \\n\\t\\tmargin-left:1vh;\\n\\t\\tmargin-right:1vh;\\n    }\\n    .mdc-card.mini {\\n\\t\\tmin-height: 16vh;\\n\\t\\tmax-height: 16vh;\\n    }\\n    .logo div {\\n        transform: rotate(-45deg) scale(1.7);\\n        margin-top: 2.9vh;\\n        margin-left: 2.8vh;\\n    }\\n\\t.title {\\n\\t\\tdisplay:flex;\\n\\t\\tflex-direction: row;\\n\\t\\tmax-height: 3vh;\\n\\t\\tmin-height: 3vh;\\n\\t\\toverflow:hidden;\\n\\t\\tfont: 2vh bold;\\n\\t}\\n\\t.title p {\\n\\t\\tmargin-top: auto;\\n\\t\\tmargin-bottom: auto;\\n\\t\\tmargin-left:1vh;\\n\\t}\\n\\t.logo {\\n\\t\\tmin-height:12vh;\\n\\t\\tmin-width:12vh;\\n\\t\\tmax-height:12vh;\\n\\t\\tmax-width:12vh;\\n\\t\\tmargin-left:3vh;\\n\\t\\tborder-radius: 10vh 0vh 10vh 0vh;\\n\\t\\tborder: .25vh solid black;\\n\\t\\ttransform:rotate(45deg);\\n\\t}\\n\\t.logo img{\\n\\t\\tmargin-left:2.25vh;\\n\\t\\tmargin-top:2vh;\\n\\t\\theight:7.5vh;\\n\\t\\twidth:7.5vh;\\n\\t\\ttransform: rotate(-45deg);\\n\\t\\toverflow:hidden;\\n\\t}\\n\\t.desc {\\n\\t\\tposition:relative;\\n\\t\\tfont: 1vh bold;\\n\\t\\tline-height : 1.2;\\n\\t}\\n\\t.role, .action {\\n\\t\\tposition:relative;\\n\\t\\tborder: 0.05vh solid black;\\n\\t\\tpadding: 0.5vh;\\n\\t}\\n\\t.role:after, .action:after {\\n\\t\\tposition:absolute;\\n\\t\\tbackground: rgb(80,80,80);\\n\\t\\theight:1vh;\\n\\t\\tleft:.5vh;\\n\\t\\ttop:-.5vh;\\n\\t}\\n\\t.role:after {\\n\\t\\tcontent:'Role';\\n\\t}\\n\\t.action:after {\\n\\t\\tcontent:'Action';\\n\\t}\\n\\t.pilecount{\\n\\t\\tposition:absolute;\\n\\t\\tleft:5%;\\n\\t\\tbottom:3%;\\n\\t}\\n</style>\\n{#if (card.type=='planet'||card.type=='advanced'||card.type=='metallic'||card.type=='fertile')}\\n\\t<PlanetCard planet={card} {selectable} {mini}/>\\t\\t\\n{:else if !['survey','warfare','colonize','research','producetrade','politics'].includes(card.type)} \\n\\t<Tech {card} {selectable} {mini}/>\\n{:else}\\n\\t<div class=\\\"mdc-card {(selectable) ? (card.selected) ? 'selected' : 'selectable' : 'bordered'} {(mini) ? 'mini' : '' }\\\" style={bg} on:click on:touch on:touchstart on:touchend on:tap on:touchmove>\\n\\t\\t<div class=\\\"title\\\">\\n\\t\\t{#if (!key)} \\n\\t\\t\\t<Icon type='produce' size='sm'/>\\n\\t\\t\\t<Icon type='trade' size='sm'/>\\n\\t\\t{:else}\\n\\t\\t\\t<Icon type={card.type} size='sm'/>\\n\\t\\t{/if}\\n\\t\\t<p>{label}</p>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"logo\\\" style ={logoBg}>\\n\\t\\t{#if (!key)} \\n\\t\\t\\t<div style='display:flex;flex-direction:row;'>\\n\\t\\t\\t\\t<Icon type='produce' size='sm'/>\\n\\t\\t\\t\\t<Icon type='trade' size='sm'/>\\n\\t\\t\\t</div>\\n\\t\\t{:else}\\n\\t\\t\\t<img src=\\\"./images/{key}.svg\\\" alt=\\\"{key}\\\">\\n\\t\\t{/if}\\n\\t\\t</div>\\n\\t\\t\\n\\t\\t{#if !mini}\\n\\t\\t\\t<div class=\\\"desc\\\">\\n\\t\\t\\t\\t{#if desc[card.type] !== undefined}\\n\\t\\t\\t\\t\\t<p class=\\\"action\\\">\\n\\t\\t\\t\\t\\t\\t{#each desc[card.type].desc.action.split('<icon>') as piece}\\n\\t\\t\\t\\t\\t\\t\\t{#if ['survey','warfare','colonize','research','produce','trade','politics'].includes(piece)} <Icon type={piece} size='sm'/> \\n\\t\\t\\t\\t\\t\\t\\t{:else} {piece}\\n\\t\\t\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t<p class=\\\"role\\\">\\n\\t\\t\\t\\t\\t\\t{#each desc[card.type].desc.role.split('<icon>') as piece}\\n\\t\\t\\t\\t\\t\\t\\t{#if ['survey','warfare','colonize','research','produce','trade','politics'].includes(piece)} <Icon type={piece} size='sm'/> \\n\\t\\t\\t\\t\\t\\t\\t{:else} {piece}\\n\\t\\t\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t{/if}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class='pilecount'>{pilecount} remaining</div>\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\"],\"names\":[],\"mappings\":\"AAwCC,QAAQ,IAAI,4CAA4C,CAAC,CAAC,AAC1D,KAAK,AAAC,CAAC,AACN,YAAY,kBAAkB,CAC9B,YAAY,kBAAkB,CAC9B,YAAY,kBAAkB,CAC9B,YAAY,kBAAkB,CAC9B,YAAY,kBAAkB,CAC9B,YAAY,gBAAgB,CAC5B,YAAY,kBAAkB,CAC9B,cAAc,8GAA8G,AAC7H,CAAC,AAED,uCAAW,CAAC,AACX,MAAM,CAAE,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAChC,YAAY,CAAE,GAAG,AAClB,CAAC,AAED,qCAAS,CAAC,AACT,MAAM,CAAE,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC/B,YAAY,CAAE,GAAG,AAClB,CAAC,AACD,SAAS,4BAAC,CAAC,AACV,QAAQ,CAAE,QAAQ,CAClB,SAAS,MAAM,CACf,QAAQ,GAAG,CACX,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,YAAY,GAAG,CACf,aAAa,GAAG,AACd,CAAC,AACD,SAAS,KAAK,4BAAC,CAAC,AAClB,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,IAAI,AACd,CAAC,AACD,mBAAK,CAAC,GAAG,cAAC,CAAC,AACP,SAAS,CAAE,OAAO,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,CACpC,UAAU,CAAE,KAAK,CACjB,WAAW,CAAE,KAAK,AACtB,CAAC,AACJ,MAAM,4BAAC,CAAC,AACP,QAAQ,IAAI,CACZ,cAAc,CAAE,GAAG,CACnB,UAAU,CAAE,GAAG,CACf,UAAU,CAAE,GAAG,CACf,SAAS,MAAM,CACf,IAAI,CAAE,GAAG,CAAC,IAAI,AACf,CAAC,AACD,oBAAM,CAAC,CAAC,cAAC,CAAC,AACT,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,IAAI,CACnB,YAAY,GAAG,AAChB,CAAC,AACD,KAAK,4BAAC,CAAC,AACN,WAAW,IAAI,CACf,UAAU,IAAI,CACd,WAAW,IAAI,CACf,UAAU,IAAI,CACd,YAAY,GAAG,CACf,aAAa,CAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAChC,MAAM,CAAE,KAAK,CAAC,KAAK,CAAC,KAAK,CACzB,UAAU,OAAO,KAAK,CAAC,AACxB,CAAC,AACD,mBAAK,CAAC,iBAAG,CAAC,AACT,YAAY,MAAM,CAClB,WAAW,GAAG,CACd,OAAO,KAAK,CACZ,MAAM,KAAK,CACX,SAAS,CAAE,OAAO,MAAM,CAAC,CACzB,SAAS,MAAM,AAChB,CAAC,AACD,KAAK,4BAAC,CAAC,AACN,SAAS,QAAQ,CACjB,IAAI,CAAE,GAAG,CAAC,IAAI,CACd,WAAW,CAAG,GAAG,AAClB,CAAC,AACD,iCAAK,CAAE,OAAO,4BAAC,CAAC,AACf,SAAS,QAAQ,CACjB,MAAM,CAAE,MAAM,CAAC,KAAK,CAAC,KAAK,CAC1B,OAAO,CAAE,KAAK,AACf,CAAC,AACD,iCAAK,MAAM,CAAE,mCAAO,MAAM,AAAC,CAAC,AAC3B,SAAS,QAAQ,CACjB,UAAU,CAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CACzB,OAAO,GAAG,CACV,KAAK,IAAI,CACT,IAAI,KAAK,AACV,CAAC,AACD,iCAAK,MAAM,AAAC,CAAC,AACZ,QAAQ,MAAM,AACf,CAAC,AACD,mCAAO,MAAM,AAAC,CAAC,AACd,QAAQ,QAAQ,AACjB,CAAC,AACD,sCAAU,CAAC,AACV,SAAS,QAAQ,CACjB,KAAK,EAAE,CACP,OAAO,EAAE,AACV,CAAC\"}"
};

const Card = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { card } = $$props,
		{ selectable = false } = $$props,
		{ pilecount = "" } = $$props,
		{ mini = false } = $$props;

	let label, key, bg, logoBg;

	let desc = {
		"survey": {
			"desc": {
				"role": "Look at <icon>survey<icon> -1 planet cards, keep 1 \n Leader: Look at 1 additional card",
				"action": "Draw 3 cards"
			}
		},
		"warfare": {
			"desc": {
				"role": "Collect 1 fighter per <icon>warfare<icon> \n Leader: May attack 1 planet instead",
				"action": "Attack 1 planet OR collect 1 fighter"
			}
		},
		"colonize": {
			"desc": {
				"action": "Settle 1 planet OR +1 colony",
				"role": "+1 colony per <icon>colonize<icon> \n Leader: May settle 1 planet instead"
			}
		},
		"producetrade": {
			"desc": {
				"action": "Produce 1 resource OR Trade 1 resource",
				"role": "Produce 1 resource per <icon>produce<icon> OR Trade 1 resource per <icon>trade<icon> \n Leader: +<icon>produce<icon> OR <icon>trade<icon>"
			}
		},
		"research": {
			"desc": {
				"action": "Remove up to 3 cards in your and from the game",
				"role": "Aquire 1 technology card after satisfying <icon>research<icon> costs and planet requirements \n Leader: +<icon>research<icon>"
			}
		},
		"politics": {
			"desc": {
				"action": "Remove tis card from the game. Place any 1 role card from the stacks into your hand",
				"role": ""
			}
		}
	};

	beforeUpdate(() => {
		card.type = card.type + "";
	});

	if ($$props.card === void 0 && $$bindings.card && card !== void 0) $$bindings.card(card);
	if ($$props.selectable === void 0 && $$bindings.selectable && selectable !== void 0) $$bindings.selectable(selectable);
	if ($$props.pilecount === void 0 && $$bindings.pilecount && pilecount !== void 0) $$bindings.pilecount(pilecount);
	if ($$props.mini === void 0 && $$bindings.mini && mini !== void 0) $$bindings.mini(mini);
	$$result.css.add(css$4);

	 {
		{
			(label = card.type.charAt(0).toUpperCase() + card.type.slice(1), key = ({
				producetrade: false,
				produce: "pro",
				trade: "trd",
				research: "res",
				politics: "pol",
				survey: "sur",
				warfare: "war",
				colonize: "col"
			})[card.type], bg = !key
			? `color:var(--pro-color);background-image:linear-gradient( rgb(80,80,80),  rgb(80,80,80) 5vh,  rgb(80,80,80) 5vh,  var(--pro-color) 8vh,  var(--pro-color) 8vh,  var(--trd-color) 12vh,  var(--trd-color) 12vh,  rgb(80,80,80) 16vh );`
			: `color:var(--${key}-color);background-image:linear-gradient( rgb(80,80,80),  rgb(80,80,80) 5vh,  rgb(80,80,80) 5vh,  var(--${key}-color) 8vh,  var(--${key}-color) 8vh,  var(--${key}-color) 12vh,  var(--${key}-color) 12vh,  rgb(80,80,80) 16vh );`, logoBg = !key
			? `background: var(--pro-trd-clr);`
			: `background-color: var(--${key}-color);`);
		}
	}

	return `${card.type == "planet" || card.type == "advanced" || card.type == "metallic" || card.type == "fertile"
	? `${validate_component(PlanetCard, "PlanetCard").$$render($$result, { planet: card, selectable, mini }, {}, {})}`
	: `${!["survey", "warfare", "colonize", "research", "producetrade", "politics"].includes(card.type)
		? `${validate_component(Tech, "Tech").$$render($$result, { card, selectable, mini }, {}, {})}`
		: `<div class="${"mdc-card " + escape(selectable
			? card.selected ? "selected" : "selectable"
			: "bordered") + " " + escape(mini ? "mini" : "") + " svelte-tzs0yw"}"${add_attribute("style", bg, 0)}><div class="${"title svelte-tzs0yw"}">${!key
			? `${validate_component(Icon, "Icon").$$render($$result, { type: "produce", size: "sm" }, {}, {})}
			${validate_component(Icon, "Icon").$$render($$result, { type: "trade", size: "sm" }, {}, {})}`
			: `${validate_component(Icon, "Icon").$$render($$result, { type: card.type, size: "sm" }, {}, {})}`}
		<p class="${"svelte-tzs0yw"}">${escape(label)}</p></div>
		<div class="${"logo svelte-tzs0yw"}"${add_attribute("style", logoBg, 0)}>${!key
			? `<div style="${"display:flex;flex-direction:row;"}" class="${"svelte-tzs0yw"}">${validate_component(Icon, "Icon").$$render($$result, { type: "produce", size: "sm" }, {}, {})}
				${validate_component(Icon, "Icon").$$render($$result, { type: "trade", size: "sm" }, {}, {})}</div>`
			: `<img src="${"./images/" + escape(key) + ".svg"}"${add_attribute("alt", key, 0)} class="${"svelte-tzs0yw"}">`}</div>
		
		${!mini
			? `<div class="${"desc svelte-tzs0yw"}">${desc[card.type] !== undefined
				? `<p class="${"action svelte-tzs0yw"}">${each(desc[card.type].desc.action.split("<icon>"), piece => `${[
						"survey",
						"warfare",
						"colonize",
						"research",
						"produce",
						"trade",
						"politics"
					].includes(piece)
					? `${validate_component(Icon, "Icon").$$render($$result, { type: piece, size: "sm" }, {}, {})}`
					: `${escape(piece)}`}`)}</p>
					<p class="${"role svelte-tzs0yw"}">${each(desc[card.type].desc.role.split("<icon>"), piece => `${[
						"survey",
						"warfare",
						"colonize",
						"research",
						"produce",
						"trade",
						"politics"
					].includes(piece)
					? `${validate_component(Icon, "Icon").$$render($$result, { type: piece, size: "sm" }, {}, {})}`
					: `${escape(piece)}`}`)}</p>`
				: ``}</div>
			<div class="${"pilecount svelte-tzs0yw"}">${escape(pilecount)} remaining</div>`
			: ``}</div>`}`}`;
});

/* src\components\App.svelte generated by Svelte v3.20.1 */

const css$5 = {
	code: ".show.svelte-zurr77.svelte-zurr77{position:absolute;top:20vh;height:25vh;width:25vh;background:rgb(80,80,80);border-radius:0% 50% 50% 0%;display:flex;align-items:center;justify-content:center;color:rgb(49, 158, 177);z-index:2}.player.svelte-zurr77.svelte-zurr77{border-radius:5vh;background:rgb(80,80,80);display:flex;align-items:center}.stars.svelte-zurr77.svelte-zurr77{position:absolute;top:50%;left:50%;width:2px;height:2px;box-shadow:686px 466px #d4d4d4, 630px 365px whitesmoke, 1140px 224px #ededed, 1048px 344px white, 857px 70px #e3e3e3, 651px 400px #dbdbdb, 431px -107px #d1d1d1, -144px 151px #d4d4d4, 139px 402px #f7f7f7, 1090px -160px #c9c9c9, 1489px 75px #d6d6d6, -404px -113px #e0e0e0, -94px -358px #fafafa, 692px -211px #fcfcfc, 1414px 403px #e3e3e3, 445px -469px whitesmoke, 437px -173px #cfcfcf, -1474px 79px #e8e8e8, 286px -370px #e3e3e3, -389px -74px #f2f2f2, -386px 230px #cccccc, 1289px -415px #f0f0f0, 566px 6px #d1d1d1, 645px 53px #f7f7f7, 90px -232px #d4d4d4, 868px 214px #dedede, 633px -126px #c4c4c4, -1432px -324px #c4c4c4, 486px -11px #f0f0f0, 1484px 338px #f2f2f2, 1496px -127px #e8e8e8, 587px -446px #f0f0f0, 695px -142px #e6e6e6, 1145px 14px #f0f0f0, 339px -36px #d4d4d4, 193px -337px #ebebeb, -1364px -453px #ebebeb, 287px -252px whitesmoke, 888px 94px #fafafa, 485px 148px #c4c4c4, -619px -26px #d6d6d6, -1016px -251px #c9c9c9, -369px -387px #e3e3e3, -87px -433px #f2f2f2, -128px 162px #ededed, 285px 468px #cfcfcf, -715px -447px #cfcfcf, 1124px -404px #d9d9d9, 1209px 248px #e6e6e6, 831px -459px #f7f7f7, -1320px 390px #fafafa, -416px 189px #ebebeb, -1445px -2px #d6d6d6, -765px -181px #e3e3e3, -217px -471px #ededed, 1283px 76px #e6e6e6, -718px -474px #e0e0e0, 198px -71px #dbdbdb, 1009px -200px #f2f2f2, -1418px 200px #d4d4d4, 1354px -349px #dedede, -934px 243px #cfcfcf, -116px 465px #e8e8e8, -314px 446px #c9c9c9, -338px -311px #dbdbdb, 307px 92px #fcfcfc, -1414px 412px #c4c4c4, -1296px 472px #fcfcfc, -787px -76px #e0e0e0, -398px 466px #dbdbdb, -532px 144px #d6d6d6, -1449px -143px #c7c7c7, 755px -101px #d9d9d9, 222px 355px #dbdbdb, -1145px -318px #d4d4d4, 355px -463px whitesmoke, -807px -336px white, -398px -471px #c4c4c4, -935px 152px #d4d4d4, 1082px 166px #d1d1d1, 456px -159px #dedede, -818px 270px #dbdbdb, 63px 270px white, 60px 3px #c9c9c9, 560px 173px whitesmoke, 1217px -292px #ebebeb, -913px -419px #c2c2c2, -790px -386px #e6e6e6, 988px -472px #cfcfcf, -318px -476px #f2f2f2, -179px -282px #f7f7f7, 1079px -27px #fafafa, -1179px -466px #cccccc, 322px -193px #c7c7c7, -545px -269px #cccccc, -1188px 318px #e0e0e0, 19px 227px #d9d9d9, -1141px -437px #d9d9d9, 475px 86px #cfcfcf, 93px 208px #fcfcfc, -734px -222px #fcfcfc, -487px 61px #ebebeb, 1136px 107px #d6d6d6, 211px -291px #ebebeb, -1003px 91px #c2c2c2, 1379px 462px #e8e8e8, -85px -412px #e8e8e8, 549px -129px #cfcfcf, -269px -428px #c4c4c4, -442px 281px #c2c2c2, -116px -186px #c2c2c2, -1092px 252px #e8e8e8, 598px -47px #c4c4c4, 599px 430px #e0e0e0, 946px 225px #e3e3e3, 994px -441px #c9c9c9, -265px 4px #d4d4d4, 1376px -454px #d9d9d9, -963px -224px white, -202px -223px #cfcfcf, 1005px -201px #e3e3e3, -659px -302px #f2f2f2, -325px 397px #c2c2c2, -44px -391px #c2c2c2, 228px -223px #dedede, -603px 221px #dedede, -147px -397px #c9c9c9, 75px -394px #d9d9d9, -308px 239px #f0f0f0, -807px -74px #dbdbdb, -857px -235px #f0f0f0, 1055px 465px #d9d9d9, 307px 252px #cccccc, -1249px 25px #d1d1d1, 669px 304px #dbdbdb, -738px -341px #f0f0f0, -1063px -20px #ebebeb, -1476px -271px #e8e8e8, -20px -415px #cccccc, -1010px 338px #d4d4d4, -166px -3px #cfcfcf, 129px 7px #e0e0e0, 618px 10px #ededed, -1481px -273px #f2f2f2, -965px -193px #c4c4c4, 1271px 431px #f2f2f2, 991px -315px #c4c4c4, -918px 270px #d1d1d1, -1172px -216px #ebebeb, 1483px 449px #dedede, 728px 104px #e6e6e6, 144px -366px white, -656px 42px #f2f2f2, -527px -371px #f7f7f7, 76px 231px #d1d1d1, 1073px -183px #ededed, 520px 120px #e3e3e3, -163px 16px #cccccc, -1367px 82px #d6d6d6, -484px -131px whitesmoke, 279px -435px #e8e8e8, 446px -149px #e0e0e0, -735px 379px #ededed, -794px -442px #f2f2f2, 1314px 452px #c2c2c2, -1146px -65px #d6d6d6, -6px -390px #fafafa, 524px -183px #cccccc, 641px -148px #e3e3e3, 827px -341px #dedede, 150px 150px #d4d4d4, -1206px 417px #cccccc, -86px -451px #d1d1d1, 1144px -22px #e0e0e0, -336px -144px #c2c2c2, 436px 173px #c2c2c2, 506px -318px #fafafa, 167px 90px #cccccc, 128px 220px #ebebeb, -344px 424px #c2c2c2, 609px 393px #fcfcfc, 298px 211px #c2c2c2, -595px -339px #cccccc, 1184px -338px #c7c7c7, -1149px 118px #dbdbdb, -891px 14px #ebebeb, 107px -419px #d9d9d9, -233px -330px #f0f0f0, -1457px 443px #dedede, -217px 86px #d4d4d4, 1142px 83px #c4c4c4, 623px 309px #f7f7f7, 503px -216px #e8e8e8, -989px -176px #ebebeb, -269px 291px #e3e3e3, 483px 22px #fcfcfc, 1290px 302px #cccccc, -1016px -273px #c7c7c7, -1426px -65px #e3e3e3, 162px -341px #c7c7c7, -103px 335px #dbdbdb, 944px -441px #e3e3e3, 1151px 163px #e8e8e8, -1110px -42px #cfcfcf, -901px 15px #c4c4c4, 179px 60px #dbdbdb, 695px -320px #e3e3e3, -923px -348px white, 1102px 373px #e0e0e0, -823px 154px whitesmoke, -695px 424px #f2f2f2, 1421px -336px #d9d9d9, -947px -471px #fcfcfc, 1267px -410px #fafafa, 140px -470px #d1d1d1, -931px -476px #d4d4d4, 650px -354px #c7c7c7, -838px -426px #dedede, 810px 339px #d1d1d1, -1405px 343px #d9d9d9, 183px -17px #e3e3e3, -1275px -237px #f2f2f2, -666px -74px white, -1155px 61px #e6e6e6, -1478px 48px #ebebeb, -146px 288px #f0f0f0, 936px -277px #e3e3e3, 770px 409px #d6d6d6, 935px 443px #c4c4c4, -616px -408px #f0f0f0, -97px -268px #c9c9c9, -6px -292px white, 10px 262px #ebebeb, 791px 438px #f2f2f2, 470px -34px #d6d6d6, 679px -298px #d6d6d6, 1271px -303px whitesmoke, 480px 166px #e0e0e0, -502px -241px #d9d9d9, 599px -435px #d1d1d1, 1317px 176px #c2c2c2, 1124px -126px #d6d6d6, 17px -358px #c2c2c2, 1364px 232px #cccccc, -1176px -248px #c2c2c2, 1178px -175px white, 84px -98px #c9c9c9, -494px 305px #cccccc, -464px 476px whitesmoke, 269px -250px #e3e3e3, -381px 59px #e3e3e3, 805px -247px #e8e8e8, 103px -60px #d6d6d6, -1368px -210px #f0f0f0, 304px 39px whitesmoke, 1189px 457px #d9d9d9, -1171px 447px #ebebeb, -1447px -25px #f2f2f2, -507px -347px #f7f7f7, 835px -473px #cfcfcf, 544px 133px #cccccc, -254px 36px #c9c9c9, -134px 4px #d9d9d9, -727px -88px #ededed, 200px 92px #f7f7f7, -1372px -93px #e6e6e6, -16px -17px #d1d1d1, 707px -152px #cfcfcf, -442px 311px #c4c4c4, -77px 112px #ebebeb, -1488px 226px #c2c2c2, -1151px 431px white, 1180px -95px #d6d6d6, -836px -263px #f2f2f2, -35px 327px #fafafa, 1242px -238px #e8e8e8, -679px -273px #c4c4c4, 296px 401px #cfcfcf, -724px 70px #f0f0f0, -1350px -171px #f0f0f0, 53px 113px whitesmoke, 1112px -207px #fafafa, 276px -437px #d9d9d9, 513px 429px whitesmoke, 30px 343px #cccccc, 60px 86px #dbdbdb, 654px -157px #f2f2f2, 970px 299px #cfcfcf, -1247px -264px #ebebeb, -697px 301px #c7c7c7, -205px 50px #ebebeb, -332px 192px #fcfcfc, 1077px -374px #c9c9c9, -856px -449px #e6e6e6, 313px 389px #fcfcfc, 262px -378px #c7c7c7, -801px -206px #c7c7c7, -330px -8px #f7f7f7, 284px 3px #cccccc, -1264px 478px #cccccc, 1458px -160px whitesmoke, -906px -225px #dedede, 503px -98px #c7c7c7, 93px -84px #dedede, 1201px -347px #f7f7f7, 580px 265px #e0e0e0, 1495px -157px whitesmoke, -100px -255px #e8e8e8, 214px 462px #ebebeb, 20px -185px #ededed, 1134px -381px #ededed, -1263px 281px #ebebeb, -748px 113px #ebebeb, -1371px -137px whitesmoke, 13px -13px #cfcfcf, 1116px 101px #e6e6e6, -139px -410px #c7c7c7, 258px -83px #c9c9c9, -1336px 351px #e6e6e6, 502px 1px #e0e0e0, 268px -269px #c2c2c2, -549px 50px #c9c9c9, 1191px -363px #c7c7c7, -117px -271px #f2f2f2, 287px 288px #dbdbdb, -78px -95px #fafafa, -567px 228px #cfcfcf, -911px -285px #c2c2c2, 1242px -257px #fafafa, 1304px 336px #ededed, -66px -117px #c4c4c4, -560px 198px #c9c9c9, -1229px -245px whitesmoke, -980px 144px #d1d1d1, -982px -453px #ebebeb, -1056px 272px #d4d4d4, -30px -247px #e8e8e8, -741px 456px #d6d6d6, -1467px 397px #f2f2f2, -1341px 134px #dbdbdb, 1226px -408px #cfcfcf, 995px 345px #c7c7c7, 564px 167px #e6e6e6, -333px 33px #f7f7f7, -1198px 433px #ebebeb, 1308px 356px #e3e3e3, 997px 286px #d1d1d1, 734px 213px #ebebeb, -1256px -173px whitesmoke, 847px -200px #cfcfcf, -751px 429px #dedede;animation:svelte-zurr77-fly 3s linear infinite;transform-style:preserve-3d}.stars.svelte-zurr77.svelte-zurr77:before,.stars.svelte-zurr77.svelte-zurr77:after{content:\"\";position:absolute;width:inherit;height:inherit;box-shadow:inherit}.stars.svelte-zurr77.svelte-zurr77:before{transform:translateZ(-300px);animation:svelte-zurr77-fade1 3s linear infinite}.stars.svelte-zurr77.svelte-zurr77:after{transform:translateZ(-600px);animation:svelte-zurr77-fade2 3s linear infinite}@keyframes svelte-zurr77-fly{from{transform:translateZ(0px)}to{transform:translateZ(300px)}}@keyframes svelte-zurr77-fade1{from{opacity:.5}to{opacity:1}}@keyframes svelte-zurr77-fade2{from{opacity:0}to{opacity:.5}}.pass.svelte-zurr77.svelte-zurr77{border-radius:1vh;height:50px;min-width:200px;background:rgb(80,80,80);justify-content:center;align-items:center;display:flex}.messagetoplayer.svelte-zurr77.svelte-zurr77{text-align:center;background:rgb(80,80,80);border-radius:5vh;width:60%;margin-left:20%;position:absolute;top:75%}.selectable.svelte-zurr77.svelte-zurr77{border:solid rgb(114, 210, 223);border-width:1px}.selected.svelte-zurr77.svelte-zurr77{border:solid rgb(50, 190, 132);border-width:1px}.flex.svelte-zurr77.svelte-zurr77{display:flex;flex-direction:row;justify-content:center}.playerinfo.svelte-zurr77.svelte-zurr77{display:flex;flex-direction:row;justify-content:flex-start;width:100%;height:10%}.playingfield.svelte-zurr77.svelte-zurr77{overflow:hidden;min-height:100vh;min-width:100vw;min-height:100vh;min-width:100vw;background:radial-gradient(rgb(82,48,103), rgb(10,10,10));background-repeat:no-repeat;background-size:cover}.options.svelte-zurr77.svelte-zurr77,.talloptions.svelte-zurr77.svelte-zurr77{background-image:url(\"/images/embackground.png\");background-repeat:no-repeat;display:flex;flex-direction:row;justify-content:space-around;position:absolute;right:10%;top:50%;height:15%;width:80%;font-size:150%}.talloptions.svelte-zurr77.svelte-zurr77{height:30%}.ownedcards.svelte-zurr77.svelte-zurr77{display:flex;flex-direction:row;height:20%;position:absolute;top:80%}.hand.svelte-zurr77.svelte-zurr77{margin:auto;display:flex;flex-direction:row;max-width:90%;max-height:100%;overflow-x:scroll;overflow-y:hidden}.deck.svelte-zurr77.svelte-zurr77,.discard.svelte-zurr77.svelte-zurr77{border-radius:3vh;min-width:19vh;max-width:19vh;background-repeat:no-repeat;text-align:center;justify-content:center;align-items:center;display:flex;font-size:6vh}.deck.svelte-zurr77.svelte-zurr77{margin-right:auto;background-image:url('../images/card-draw.svg')}.discard.svelte-zurr77.svelte-zurr77{margin-left:auto;background-image:url('../images/card-burn.svg')}.zone.svelte-zurr77.svelte-zurr77{width:100%;overflow-x:scroll;overflow-y:hidden;display:flex;flex-direction:row}.centerrow.svelte-zurr77.svelte-zurr77{height:40%;position:absolute;top:15%}.researchrow.svelte-zurr77.svelte-zurr77{height:40%}.researchrow>div.svelte-zurr77.svelte-zurr77{height:95%}.playedcards.svelte-zurr77.svelte-zurr77{height:20%;overflow-x:scroll;position:absolute;top:55%;justify-content:flex-start}.bordered.svelte-zurr77.svelte-zurr77{border:solid #000;border-width:1px}.svelte-zurr77.svelte-zurr77::-webkit-scrollbar{display:none}.playercountselector.svelte-zurr77>p.svelte-zurr77{height:33%;text-align:center;font-size:300%;background-color:rgb(34, 26, 59);border:solid #000;border-width:1px}.playercountselector.svelte-zurr77>input.svelte-zurr77{height:33%;text-align:center;width:100%;font-size:300%;background-color:rgb(34, 26, 59);border:solid #000;border-width:1px;color:rgb(49, 158, 177);padding:0px;margin:0px}.passtoplayer.svelte-zurr77.svelte-zurr77{height:80%;width:100%;top:10%;border:solid #000;border-width:1px;text-align:center;font-size:300%;color:white;background-color:rgb(34, 26, 59)}",
	map: "{\"version\":3,\"file\":\"App.svelte\",\"sources\":[\"App.svelte\"],\"sourcesContent\":[\"<script>\\r\\n\\timport Card from '../components/Card.svelte';\\r\\n\\timport Tech from '../components/Tech.svelte';\\r\\n\\timport PlanetCard from '../components/PlanetCard.svelte';\\r\\n\\r\\n\\tlet game, lobby, phases, corephases, actioncardphases, mounted = false, ws,\\r\\n\\tjstr = JSON.stringify, jprs = JSON.parse, log = console.log;\\r\\n\\timport { onMount,afterUpdate, beforeUpdate } from 'svelte';\\r\\n\\tbeforeUpdate(()=>{\\r\\n\\t})\\r\\n\\tafterUpdate(()=>{\\r\\n\\t\\tconsole.log(getActPlyr());\\r\\n\\t\\t// console.log('hand',game.players[0].hand.reduce((acc,cur) => acc+cur.name,''));\\r\\n\\t\\t// let card = game.players[0].hand[0];\\r\\n\\t\\t// console.log('removing ',card.name);\\r\\n\\t\\t// handToLimbo(game.players[0],card);\\r\\n\\t\\t// console.log('hand',game.players[0].hand.reduce((acc,cur) => acc+cur.name,''));\\r\\n\\t})\\r\\n\\tonMount(()=>{\\r\\n\\t\\t////////////////////////////////////////////////////////////////////////////////\\r\\n\\t\\tcorephases = [\\r\\n\\t\\t\\t/*colonize:*/ {\\r\\n\\t\\t\\t\\tactn:[\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Choose between Settling or Colonizing a Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\twrappedOffer([\\\"Colonize\\\",\\\"Settle Colonies\\\"]),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Choose an Unsettled Planet to Settle\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer(false,false,[\\\"unsettled_planets\\\"],\\\"subchoices\\\",finish),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Settle Colonies\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Settling your Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => settle_colonies(getSubChoice(),getActPlyr()),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Settle Colonies\\\"]\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Choose an Unsettled Planet to Colonize\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer(false,false,[\\\"unsettled_planets\\\"],\\\"subchoices\\\",finish),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Colonizing your Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => { colonize(getSubChoice(),getActPlyr().limbo,getActPlyr().limbo.filter(el => el.type == \\\"colonize\\\")[0]); finish(true);},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tlead:[\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose between Settling or Colonizing a Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\twrappedOffer([\\\"Colonize\\\",\\\"Settle Colonies\\\"]),\\r\\n\\t\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose an Unsettled Planet to Settle\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Settle Colonies\\\"],\\r\\n\\t\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Settling your Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {settle_colonies(getSubChoice(), getActPlyr() ); finish(); },\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Settle Colonies\\\"],\\r\\n\\t\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose an Unsettled Planet to Colonize\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Colonizing your Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tif (getSubChoice().name == \\\"Skip\\\") finish();\\r\\n\\t\\t\\t\\t\\t\\t\\tlet planet = getSubChoice();\\r\\n\\t\\t\\t\\t\\t\\t\\tif (planet.hosted_colonies.reduce( (acc, cur) => acc + cur.icons.colonize,0) >= planet.settle_cost)\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tcolonize( planet, getActPlyr().limbo,getActPlyr().limbo.filter(el => el.type == \\\"colonize\\\")[0]);\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tfllw:[\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Choose between Settling or Colonizing a Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tif (0 == getActPlyr().permanents.filter(e => \\\"bureaucracy\\\" == e.type).length) {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tgame.choices = [{name: \\\"Colonize\\\"}];\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfinish(!0);\\r\\n\\t\\t\\t\\t\\t\\t\\t} else simpleOffer([\\\"Colonize\\\",\\\"Settle Colonies\\\"])\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Choose an Unsettled Planet to Settle\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Settle Colonies\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Settling your Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => { settle_colonies(getSubChoice(), getActPlyr()); finish(!0);},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Settle Colonies\\\"],\\r\\n\\t\\t\\t\\t\\t), \\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Choose an Unsettled Planet to Colonize\\\", [\\\"colonize\\\"], \\r\\n\\t\\t\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Colonizing your Planet\\\", [\\\"colonize\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tlet planet = getSubChoices().find((planet)=>planet.hosted_colonies.reduce((acc, cur) => acc + cur.icons.colonize ) >= planet.settle_cost);\\r\\n\\t\\t\\t\\t\\t\\t\\tcolonize( planet, getActPlyr().limbo,getActPlyr().limbo.filter(el => el.type == \\\"colonize\\\")[0]);\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tclnp:[ ], \\r\\n\\t\\t\\t},\\r\\n\\t\\t\\t/*/producetrade:/*/ {\\r\\n\\t\\t\\t\\tactn:[\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Choose between Producing or Trading Resources\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\twrappedOffer([\\\"produce\\\",\\\"trade\\\" ]),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Choose a Planet to Produce Resources on\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer( false, false , [\\\"settled_&_conquered_planets\\\"], \\\"subchoices\\\", finish ),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"produce\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Producing a Resource\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => { produce(getSubChoices()); finish(true);},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"produce\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Choose a Planet to Trade Resources from\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer( false, false, [\\\"settled_&_conquered_planets\\\"], \\\"subchoices\\\", finish),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"trade\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Trading a Resource\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {trade(getSubChoices(),getActPlyr()); finish();},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"trade\\\"],\\r\\n\\t\\t\\t\\t\\t)\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tlead:[\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose between Producing or Trading Resources\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer( false , false , [\\\"options\\\",[{ name: \\\"produce\\\" }, { name: \\\"trade\\\" }]], \\\"choices\\\", finish ),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose a Planet to Produce Resources on\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer( true , true , [ \\\"settled_&_conquered_planets\\\" ], \\\"subchoices\\\", finish ),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"produce\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Producing a Resource\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().activerole = \\\"produce\\\";\\r\\n\\t\\t\\t\\t\\t\\t\\tlet prd = produce( getSubChoices(), getActPlyr().bstIcons.produce );\\r\\n\\t\\t\\t\\t\\t\\t\\tif ( getActvActn() == \\\"genetic_engineering\\\" ) prd.forEach((plyr)=>plyr = [...plyr,{influence:[...plyr.influence,game.influence.pop()]}]);\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"produce\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose a Planet to Trade Resources from\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer( true , true , [ \\\"settled_&_conquered_planets\\\" ],\\\"subchoices\\\", finish ),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"trade\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Trading a Resource\\\", [\\\"producetrade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().activerole = \\\"trade\\\";\\r\\n\\t\\t\\t\\t\\t\\t\\tlet prd = trade(getSubChoices(),getActPlyr(),getActPlyr().bstIcons.trade );\\r\\n\\t\\t\\t\\t\\t\\t\\tif (getActvActn() == \\\"diverse_markets\\\") {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfor (let i in prd) {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (prd[i] > 1) {getActPlyr().influence.push(game.influence.pop());\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\tif (getActvActn() == \\\"specialization\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfor (let i in Array.from(prd[getActPlyr().specialization])) { //what on earth is this doing?\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tgetActPlyr().influence.push(game.influence.pop());\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"trade\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tfllw:[\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Choose a Planet to Produce Resources on\\\", [\\\"produce\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer(!0, !0, [\\\"settled_&_conquered_planets\\\"], \\\"subchoices\\\", finish),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Producing a Resource\\\", [\\\"produce\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tlet e = game;\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().activerole = \\\"produce\\\";\\r\\n\\t\\t\\t\\t\\t\\t\\tproduce(e.subchoices, e.players[game.acting_player_index].bstIcons.produce); finish(!0)\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Choose a Planet to Trade Resources from\\\", [\\\"trade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer(!0, !0, [\\\"settled_&_conquered_planets\\\"], \\\"subchoices\\\", finish),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Trading a Resource\\\", [\\\"trade\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tlet e = game;\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().activerole = \\\"trade\\\";\\r\\n\\t\\t\\t\\t\\t\\t\\ttrade(e.subchoices, getActPlyr(), getActPlyr().bstIcons.trade);\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(!0)\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tclnp:[],\\r\\n\\t\\t\\t},\\r\\n\\t\\t\\t/*/politics:/*/ {\\r\\n\\t\\t\\t\\tactn:[ \\r\\n\\t\\t\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose a Role Card to Replace Politics with\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"politics\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer(false, false, [\\\"rolecards\\\"], \\\"choices\\\", finish ),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Swapping the Role Card for your Politics Card\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"politics\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {politics(getActPlyr().limbo.filter(el => el.type == \\\"politics\\\")[0], getChoices()[0], getActPlyr() ); finish(true);},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tlead:[],\\r\\n\\t\\t\\t\\tfllw:[],\\r\\n\\t\\t\\t\\tclnp:[],\\r\\n\\t\\t\\t},\\r\\n\\t\\t\\t/*/research:/*/ {\\r\\n\\t\\t\\t\\tactn:[\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Choose up to 2 Cards from your Hand to Remove from the Game\\\", [\\\"research\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer( false, true,[\\\"hand\\\"], \\\"choices\\\", finish),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Removing your Cards from the Game\\\", [\\\"research\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {research(getChoices(),getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tlead:[\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose a Technology to Research\\\", [\\\"research\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer( true , false , [\\\"research\\\" ], \\\"choices\\\", finish   ),\\r\\n\\t\\t\\t\\t\\t), \\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Researching your Technology\\\", [\\\"research\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") {finish(true);return;}\\r\\n\\t\\t\\t\\t\\t\\t\\tlet card = getChoices()[0];\\r\\n\\t\\t\\t\\t\\t\\t\\tlet p = { advanced: 0, metallic: 0, fertile: 0 };\\r\\n\\t\\t\\t\\t\\t\\t\\t[...getActPlyr().settled_planets, ...getActPlyr().conquered_planets].map(el => p[el.type]++);\\r\\n\\t\\t\\t\\t\\t\\t\\tlet condition = Object.values(card.planet_requirements).reduce((acc,cur,i)=>(acc) ? cur > p[Object.keys(p)[i]] : acc,true)\\r\\n\\t\\t\\t\\t\\t\\t\\tif ( condition && getActPlyr().bstIcons.research >= card.research_cost ) \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tplay(game.research_deck, (card.is_permanent) ?  getActPlyr().permanents : getActPlyr().limbo, (card.is_permanent) ? \\\"\\\" : \\\"discard\\\", card.id);\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tfllw:[\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Choose a Technology to Research\\\", [\\\"research\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer(!0, !1, [\\\"research\\\"], \\\"choices\\\", finish),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase( \\\"Researching your Technology\\\", [\\\"survey\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tlet e = game;\\r\\n\\t\\t\\t\\t\\t\\t\\tif (\\\"Skip\\\" != e.choices[0].name) {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tlet a = { advanced: 0, metallic: 0, fertile: 0 };\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t[...e.players[game.acting_player_index].settled_planets, ...e.players[game.acting_player_index].conquered_planets].map(e => {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ta[e.type]++\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tlet p = !0;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfor (let i in e.choices[0].planet_requirements) e.choices[0].planet_requirements[i] > a[i] && (p = !1);\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tp && e.players[game.acting_player_index].bstIcons.research >= e.choices[0].research_cost && play(e.research_deck, e.players[game.acting_player_index].limbo, \\\"discard\\\", e.choices[0].id)\\r\\n\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(!0);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tclnp:[ ],\\r\\n\\t\\t\\t},\\r\\n\\t\\t\\t/*/survey:/*/ {\\r\\n\\t\\t\\t\\tactn:[        \\r\\n\\t\\t\\t\\t\\tgenActionPhase( \\\"Surveying your Empire\\\", [\\\"survey\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {survey(getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tlead:[\\r\\n\\t\\t\\t\\t\\tgenLeadPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose a Planet from your Galaxy to Explore\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"survey\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tfor ( let i = 0; i < getActPlyr().bstIcons.survey; i++ ) {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\texplore_planet( getActPlyr() );\\r\\n\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\toffer( true , false , [ \\\"options\\\", game.options ], \\\"choices\\\",finish   );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Surveying your Empire\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"survey\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") finish();\\r\\n\\t\\t\\t\\t\\t\\t\\tcatalog_planet( getActPlyr() );\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tfllw:[\\r\\n\\t\\t\\t\\t\\tgenFollowPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose a Planet from your Galaxy to Explore\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"survey\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tlet e = game;\\r\\n\\t\\t\\t\\t\\t\\t\\tfor (let a = 0; a < e.players[game.acting_player_index].bstIcons.survey - 1; a++) explore_planet(e.players[game.acting_player_index]);\\r\\n\\t\\t\\t\\t\\t\\t\\toffer(!0, !1, [\\\"options\\\"], \\\"choices\\\", finish)\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Surveying your Empire\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"survey\\\"], \\r\\n\\t\\t\\t\\t\\t\\t() => { if (getChoice() == \\\"Skip\\\") finish(); catalog_planet(game.players[game.acting_player_index]); finish(!0)},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tclnp:[\\r\\n\\t\\t\\t\\t\\t{\\\"\\\":\\r\\n\\t\\t\\t\\t\\t()=>{}},\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t},\\r\\n\\t\\t\\t/*/warfare:/*/ {\\r\\n\\t\\t\\t\\tactn:[\\r\\n\\t\\t\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose between Collecting a Starfighter or Conquering a Planet\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\twrappedOffer([\\\"Conquer a Planet\\\", \\\"Collect a Starfighter\\\"]),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Adding a Starfighter to your Fleet\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {warfare(getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Collect a Starfighter\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose a Planet to Conquer\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offer(false, false, [\\\"unsettled_planets\\\"], \\\"subchoices\\\", finish),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Conquer a Planet\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Conquering your planet\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {conquer(getSubChoice(),getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Conquer a Planet\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tlead:[\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose between Collecting Starfighters or Conquering a Planet\\\", [\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\twrappedOffer([\\\"Conquer a Planet\\\", \\\"Collect Starfighters\\\"]),\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Adding Starfighters to your Fleet\\\", [\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\trange(1,getActPlyr().bstIcons.warfare).forEach( ()=>warfare( getActPlyr() ) );\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Collect Starfighters\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Choose a Planet to Conquer\\\", [\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Conquer a Planet\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenLeadPhase( \\\"Conquering your planet\\\", [\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tconquer(getSubChoice(), getActPlyr() );\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Conquer a Planet\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tfllw:[\\r\\n\\t\\t\\t\\t\\tgenFollowPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose between Collecting Starfighters or Conquering a Planet\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tif (0 == game.players[game.acting_player_index].permanents.filter(e => \\\"bureaucracy\\\" == e.type).length) {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tlet e = game;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\te.choices = [{\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname: \\\"Collect Starfighters\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t}];  finish(!0);\\r\\n\\t\\t\\t\\t\\t\\t\\t} else offer(!1, !1, [\\\"options\\\", [{\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tname: \\\"Conquer a Planet\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t}, {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tname: \\\"Collect Starfighters\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t}]], \\\"choices\\\", finish);\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Adding Starfighters to your Fleet\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"],\\r\\n\\t\\t\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tfor (let e = 0; e < game.players[game.acting_player_index].bstIcons.warfare; e++) warfare(game.players[game.acting_player_index]);\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(!0)\\r\\n\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Collect Starfighters\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose a Planet to Conquer\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"], \\r\\n\\t\\t\\t\\t\\t\\t() => offer(!1, !1, [\\\"unsettled_planets\\\"], \\\"subchoices\\\", finish),\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Conquer a Planet\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t\\tgenFollowPhase(\\r\\n\\t\\t\\t\\t\\t\\t\\\"Conquering your planet\\\",\\r\\n\\t\\t\\t\\t\\t\\t[\\\"warfare\\\"], \\r\\n\\t\\t\\t\\t\\t\\t() => {conquer(game.subchoices[0], game.players[game.acting_player_index]); finish(!0);},\\r\\n\\t\\t\\t\\t\\t\\t[\\\"Conquer a Planet\\\"],\\r\\n\\t\\t\\t\\t\\t),\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t\\tclnp:[\\r\\n\\t\\t\\t\\t\\t{\\\"\\\":\\r\\n\\t\\t\\t\\t\\t()=>{}},\\r\\n\\t\\t\\t\\t],\\r\\n\\t\\t\\t},\\r\\n\\t\\t];\\r\\n\\t\\tactioncardphases = [\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// improved_colonize \\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose wether or not to Settle a Planet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\t() => offer( true, false, [ \\\"options\\\", [{ name: \\\"settle\\\" }, { name: \\\"Skip\\\" }]], \\\"choices\\\", finish)\\r\\n\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose a Planet to Settle\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t[\\\"settle\\\"],\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Settling your Planet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\t() => { settle_colonies(getSubChoice(),getActvPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t[\\\"settle\\\"],\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose between Settling or Colonizing a Planet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\twrappedOffer([\\\"Colonize\\\" ,\\\"Settle Colonies\\\"]),\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose an Unsettled Planet to Settle\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t[\\\"Settle Colonies\\\"],\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Settling your Planet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\t() => { settle_colonies( getSubChoice(), getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t[\\\"Settle Colonies\\\"],\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose an Unsettled Planet to Colonize\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Colonizing your Planet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_colonize\\\"],\\r\\n\\t\\t\\t\\t() => { colonize( getSubChoice(), getActPlyr().limbo, getActPlyr().limbo.filter(el => el.type == \\\"improved_colonize\\\")[0]); finish(true);},\\r\\n\\t\\t\\t\\t[\\\"Colonize\\\"],\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// improved_produce : 4\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose an empty Production Zone to Produce in\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_production\\\"],\\r\\n\\t\\t\\t\\t() => offer( true, false, [\\\"settled_&_conquered_planets\\\"], \\\"choices\\\" , finish),\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Producing your Resource\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_production\\\"],\\r\\n\\t\\t\\t\\t() => { \\r\\n\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") finish(); produce(game.choices); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose an empty Production Zone to Produce in\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_production\\\"],\\r\\n\\t\\t\\t\\t() => offer(true, false, [\\\"settled_&_conquered_planets\\\"], \\\"choices\\\", finish),\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Producing your Resource\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_production\\\"],\\r\\n\\t\\t\\t\\t() => { if (getChoice() == \\\"Skip\\\") finish();produce(game.choices); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// improved_trade : 1\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Trading your Stocks and Bonds\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_trade\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tgame.players[game.acting_player_index].influence.push( game.influence.pop() );\\r\\n\\t\\t\\t\\t\\tfinish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// improved_research : 2\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose up to 3 Cards from your Hand to Remove from the Game\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_research\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tdraw(getActPlyr());\\r\\n\\t\\t\\t\\t\\toffer(false, true, [\\\"hand\\\"], \\\"choices\\\", finish);}\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Removing your Cards from the Game\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_research\\\"],\\r\\n\\t\\t\\t\\t() => {research(getChoices(), getActPlyr(), 3); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// improved_survey : 1\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Drawing your Cards\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_survey\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tdraw( getActPlyr() ); draw( getActPlyr() ); draw( getActPlyr() ); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// improved_warfare : 4\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose between Collecting a Starfighter or Conquering a Planet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_warfare\\\"],\\r\\n\\t\\t\\t\\twrappedOffer(\\\"Conquer a Planet\\\",\\\"Collect a Starfighter\\\"),\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Adding a Starfighter to your Fleet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_warfare\\\"],\\r\\n\\t\\t\\t\\t() => {warfare(getActPlyr()); warfare(getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t[\\\"Collect a Starfighter\\\"]\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose a Planet to Conquer\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_warfare\\\"],\\r\\n\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t[\\\"Conquer a Planet\\\"]\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Conquering your planet\\\",\\r\\n\\t\\t\\t\\t[\\\"improved_warfare\\\"],\\r\\n\\t\\t\\t\\t() => { conquer(getSubChoice(),getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t[\\\"Conquer a Planet\\\"]\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// mobilization : 4\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Collecting your Star Fighters\\\",\\r\\n\\t\\t\\t\\t[\\\"mobilization\\\"],\\r\\n\\t\\t\\t\\t() => { warfare(getActPlyr()); warfare(getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// survey_team : 1\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Adding Top Card of the Planet deck to your Empire\\\",\\r\\n\\t\\t\\t\\t[\\\"survey_team\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tlet { game: game, game: { acting_player: player, planet_deck: planet_deck } } = get();\\r\\n\\t\\t\\t\\t\\tplayer = game.players[game.acting_player_index];\\r\\n\\t\\t\\t\\t\\tlet planet = planet_deck.pop();\\r\\n\\t\\t\\t\\t\\tplayer.unsettled_planets.push(planet);\\r\\n\\t\\t\\t\\t\\tfinish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// war_path : 4\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose a Planet to Conquer\\\",\\r\\n\\t\\t\\t\\t[\\\"war_path\\\"],\\r\\n\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Conquering your planet\\\",\\r\\n\\t\\t\\t\\t[\\\"war_path\\\"],\\r\\n\\t\\t\\t\\t() => { if (getChoice() == \\\"Skip\\\") finish(); conquer(getChoice(),getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose a Planet to Conquer\\\",\\r\\n\\t\\t\\t\\t[\\\"war_path\\\"],\\r\\n\\t\\t\\t\\t() => offerUnsettled(),\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Conquering your planet\\\",\\r\\n\\t\\t\\t\\t[\\\"war_path\\\"],\\r\\n\\t\\t\\t\\t() => { if (getChoice() == \\\"Skip\\\") finish(); conquer(getChoice(),getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// terraforming : 2\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose an Unsettled Planet to Terraform\\\",\\r\\n\\t\\t\\t\\t[\\\"terraforming\\\"],\\r\\n\\t\\t\\t\\t() => offerUnsettled()\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Terraforming your Planet\\\",\\r\\n\\t\\t\\t\\t[\\\"terraforming\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tcolonize( getChoice(), getActPlyr().limbo, getActPlyr().limbo.filter(el => el.type == \\\"terraforming\\\")[0]);\\r\\n\\t\\t\\t\\t\\tif (getChoice().hosted_colonies.length > 0) {\\r\\n\\t\\t\\t\\t\\t\\tlet c = getChoice().hosted_colonies.reduce((acc, cur) => acc + cur.icons.colonize,0);\\r\\n\\t\\t\\t\\t\\t\\tif (c >= getChoice().settle_cost) settle_colonies(getChoice(),getActPlyr()); }\\r\\n\\t\\t\\t\\t\\tfinish(true); },\\r\\n\\t\\t\\t\\t[\\\"Colonize\\\"]\\r\\n\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// genetic_engineering :1\\r\\n\\t\\t\\t// UNIMPLIMENTED\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Engineering Genetics\\\",\\r\\n\\t\\t\\t\\t[\\\"genetic_engineering\\\"],\\r\\n\\t\\t\\t\\tfinish,\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// artificial_intelligence : 4\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Select a Role Card to take into your Hand\\\",\\r\\n\\t\\t\\t\\t[\\\"artificial_intelligence\\\"],\\r\\n\\t\\t\\t\\t() => offer( false,  false, [\\\"rolecards\\\"], \\\"choices\\\", finish)\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Adding Role Card to your Machine Learning Model\\\",\\r\\n\\t\\t\\t\\t[\\\"artificial_intelligence\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tlet { game: game, game: { acting_player: player } } = get();\\r\\n\\t\\t\\t\\t\\tplayer = game.players[game.acting_player_index];\\r\\n\\t\\t\\t\\t\\tif (game.stacks.pilecount[game.choices[0].type] >= 1) {\\r\\n\\t\\t\\t\\t\\t\\tplayer.hand.push(\\r\\n\\t\\t\\t\\t\\t\\t\\tObject.assign(\\r\\n\\t\\t\\t\\t\\t\\t\\t{ id: gen_unique_id() },\\r\\n\\t\\t\\t\\t\\t\\t\\tgame.stacks.rolecards[game.stacks[game.choices[0].type]]\\r\\n\\t\\t\\t\\t\\t\\t\\t)\\r\\n\\t\\t\\t\\t\\t\\t);\\r\\n\\t\\t\\t\\t\\t\\tgame.stacks.pilecount[game.choices[0].type]--;\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Select a Role Card to take into your Hand\\\",\\r\\n\\t\\t\\t\\t[\\\"artificial_intelligence\\\"],\\r\\n\\t\\t\\t\\t() => offer( false,  false, [ \\\"rolecards\\\" ], \\\"choices\\\", finish)\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Adding Role Card to your Machine Learning Model\\\",\\r\\n\\t\\t\\t\\t[\\\"artificial_intelligence\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tlet { game: game, game: { acting_player: player } } = get();\\r\\n\\t\\t\\t\\t\\tplayer = game.players[game.acting_player_index];\\r\\n\\t\\t\\t\\t\\tif (game.stacks.pilecount[game.choices[0].type] >= 1) {\\r\\n\\t\\t\\t\\t\\t\\tplayer.hand.push(\\r\\n\\t\\t\\t\\t\\t\\t\\tObject.assign(\\r\\n\\t\\t\\t\\t\\t\\t\\t{ id: gen_unique_id() },\\r\\n\\t\\t\\t\\t\\t\\t\\tgame.stacks.rolecards[game.stacks[game.choices[0].type]]\\r\\n\\t\\t\\t\\t\\t\\t\\t)\\r\\n\\t\\t\\t\\t\\t\\t);\\r\\n\\t\\t\\t\\t\\t\\tgame.stacks.pilecount[game.choices[0].type]--;\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t}, \\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// diverse_markets : 1\\r\\n\\t\\t\\t// UNIMPLIMENTED\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Diversifying Markets\\\",\\r\\n\\t\\t\\t\\t[\\\"diverse_markets\\\"],\\r\\n\\t\\t\\t\\tfinish\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// specialization : 2\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose a Resource to Specialize in\\\",\\r\\n\\t\\t\\t\\t[\\\"specialization\\\"],\\r\\n\\t\\t\\t\\twrappedOffer(\\\"red\\\",\\\"blue\\\",\\\"gren\\\",\\\"purple\\\")\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Specializaing in your Seleted Resource\\\",\\r\\n\\t\\t\\t\\t[\\\"specialization\\\"],\\r\\n\\t\\t\\t\\t() => { getActPlyr().specialization = getChoice(); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\t// #######################################################################################################################################################################################\\r\\n\\t\\t\\t// data_network : 3\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Drawing Your Cards\\\",\\r\\n\\t\\t\\t\\t[\\\"data_network\\\"],\\r\\n\\t\\t\\t\\t() => { draw(getActPlyr()); draw(getActPlyr()); finish(true);},\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Choose any number of Cards from your Hand to Remove from the Game\\\",\\r\\n\\t\\t\\t\\t[\\\"data_network\\\"],\\r\\n\\t\\t\\t\\t() => offer( true, true, [ \\\"hand\\\" ], \\\"choices\\\", finish),\\r\\n\\t\\t\\t\\t),\\r\\n\\t\\t\\tgenActionPhase(\\r\\n\\t\\t\\t\\t\\\"Removing the Selected Cards from the Game\\\",\\r\\n\\t\\t\\t\\t[\\\"data_network\\\"],\\r\\n\\t\\t\\t\\t() => {\\r\\n\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") finish();\\r\\n\\t\\t\\t\\t\\tlet { game: game, game: { choices: choices, acting_player: player } } = get();\\r\\n\\t\\t\\t\\t\\tplayer = game.players[game.acting_player_index];\\r\\n\\t\\t\\t\\t\\tresearch(choices, player, choices.length); finish(true);},\\r\\n\\t\\t\\t)\\r\\n\\t\\t];\\r\\n\\t\\tlet nonce = 0;\\r\\n\\t\\tgame = {\\r\\n\\t\\t\\tminPlyrs: 2,\\r\\n\\t\\t\\tmaaxPlyrs: 4,\\r\\n\\t\\t\\tpasstoplayer: false,\\r\\n\\t\\t\\tnonce: 0,\\r\\n\\t\\t\\tdisplayinfo: {\\r\\n\\t\\t\\t\\tselectionzone: \\\"\\\",\\r\\n\\t\\t\\t\\tdragged: null,\\r\\n\\t\\t\\t\\tshowoptiontoskip: false,\\r\\n\\t\\t\\t\\tallowformultipleselections: false,\\r\\n\\t\\t\\t\\tcenter_or_planets: true, //true = center, false = planets\\r\\n\\t\\t\\t\\tchoicelabel: \\\"choices\\\"\\r\\n\\t\\t\\t},\\r\\n\\t\\t\\tsubchoices: [],\\r\\n\\t\\t\\tinfluence: [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\\r\\n\\t\\t\\tmessagetoplayer: ['Waiting for other players to join'],\\r\\n\\t\\t\\toptions: [],\\r\\n\\t\\t\\tplanet_deck: [],\\r\\n\\t\\t\\tcurrentphase: -4,\\r\\n\\t\\t\\tleading_player_index: 0,\\r\\n\\t\\t\\tacting_player_index: 0,\\r\\n\\t\\t\\tnumber_of_players: 2,\\r\\n\\t\\t\\tstarted: false,\\r\\n\\t\\t\\tgamephases: [\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\tstart: [\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"set active player\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif (game.started) {\\r\\n\\t\\t\\t\\t\\t\\tgame.started = true;\\r\\n\\t\\t\\t\\t\\t\\tgame.passt = false;\\r\\n\\t\\t\\t\\t\\t\\tgame.leading_player_index =\\r\\n\\t\\t\\t\\t\\t\\t\\t(game.leading_player_index + 1) % game.number_of_players;\\r\\n\\t\\t\\t\\t\\t\\tgame.acting_player_index = game.leading_player_index;\\r\\n\\t\\t\\t\\t\\t\\tgame.leadingplayer = game.players[game.leading_player_index];\\r\\n\\t\\t\\t\\t\\t\\tgame.acting_player = game.players[game.leading_player_index];\\r\\n\\t\\t\\t\\t\\t\\topenFullscreen();\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tif (game.leadingplayer !== undefined) {\\r\\n\\t\\t\\t\\t\\t\\tgame.players[game.leading_player_index].rounds++;\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tlet planets = [\\r\\n\\t\\t\\t\\t\\t\\t...game.players[game.leading_player_index].settled_planets,\\r\\n\\t\\t\\t\\t\\t\\t...game.players[game.leading_player_index].conquered_planets\\r\\n\\t\\t\\t\\t\\t\\t];\\r\\n\\t\\t\\t\\t\\t\\tfor (let p in planets) {\\r\\n\\t\\t\\t\\t\\t\\ttallyIcons(game.players[game.leading_player_index],planets[p]);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfor (let p in game.players[game.leading_player_index].permanents) {\\r\\n\\t\\t\\t\\t\\t\\ttallyIcons(game.players[game.leading_player_index],permanents[p]);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tProductivity: () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().permanents.filter(el => el.type == \\\"productivity\\\").length != 0 ) {\\r\\n\\t\\t\\t\\t\\t\\tgetActPlyr().actionrolesequence = \\\"aar\\\";\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose an Order to Perform Your Action and Role Phases\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif (getActPlyr().permanents.filter(el => el.type == \\\"logistics\\\" ).length != 0 ) {\\r\\n\\t\\t\\t\\t\\t\\tlet options = [\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"Action Phase then Role Phase\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"Role Phase then Action Phase\\\"\\r\\n\\t\\t\\t\\t\\t\\t];\\r\\n\\t\\t\\t\\t\\t\\tif (getActPlyr().permanents.filter(el => el.type == \\\"productivity\\\").length != 0 ) {\\r\\n\\t\\t\\t\\t\\t\\t\\t//add aar,ara,and raa as options\\r\\n\\t\\t\\t\\t\\t\\t\\toptions.push(\\\"Action Phase then another Action Phase then Role Phase\\\");\\r\\n\\t\\t\\t\\t\\t\\t\\toptions.push(\\\"Action Phase then Role Phase then another Action Phase\\\");\\r\\n\\t\\t\\t\\t\\t\\t\\toptions.push(\\\"Role Phase then Action Phase then another Action Phase\\\");\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t//offer ar or ra\\r\\n\\t\\t\\t\\t\\t\\tsimpleOffer(options)\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tLogistics: () => {\\r\\n\\t\\t\\t\\t\\t\\tif (getActPlyr().permanents.filter(el => el.type == \\\"logistics\\\").length != 0 ) {\\r\\n\\t\\t\\t\\t\\t\\tif (getChoice() == \\\"Action Phase then Role Phase\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().actionrolesequence = \\\"ar\\\";\\r\\n\\t\\t\\t\\t\\t\\t} else if ( getChoice() == \\\"Role Phase then Action Phase\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().actionrolesequence = \\\"ra\\\";\\r\\n\\t\\t\\t\\t\\t\\t} else if ( getChoice() == \\\"Action Phase then another Action Phase then Role Phase\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().actionrolesequence = \\\"aar\\\";\\r\\n\\t\\t\\t\\t\\t\\t} else if ( getChoice() == \\\"Action Phase then Role Phase then another Action Phase\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().actionrolesequence = \\\"ara\\\";\\r\\n\\t\\t\\t\\t\\t\\t} else if ( getChoice() == \\\"Role Phase then Action Phase then another Action Phase\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().actionrolesequence = \\\"raa\\\";\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\taction: [\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose an Action to Play\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\toffer( true, false, [ \\\"hand\\\" ], \\\"choices\\\", finish );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\t\\\"Playing your Action\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") {\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\t\\tlet card = getChoices()[0], plyr = getActPlyr();\\r\\n\\t\\t\\t\\t\\t\\t\\tplyr.activeaction = card.type;\\r\\n\\t\\t\\t\\t\\t\\t\\thandToLimbo(plyr,card);\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true)\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t...getActionCorePhases(),\\r\\n\\t\\t\\t\\t\\t...getActionCardPhases()\\r\\n\\t\\t\\t\\t\\t]\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\trole: [\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose a Role Card to Lead with\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\toffer( false , false, [ \\\"rolecards\\\" ], \\\"choices\\\", finish );\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Performing your Role\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tlet card = getChoices()[0];\\r\\n\\t\\t\\t\\t\\t\\tif (game.stacks.pilecount[card.type] >= 1) {\\r\\n\\t\\t\\t\\t\\t\\t\\tif (card.type==\\\"producetrade\\\"){\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tgetActPlyr().bstIcons[ \\\"produce\\\" ]++;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tgetActPlyr().bstIcons[ \\\"trade\\\" ]++;\\r\\n\\t\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tgetActPlyr().bstIcons[ card.type ]++;\\r\\n\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\tlet newcard = Object.assign(\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tid: gen_unique_id(),\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfinDest: \\\"discard\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tselected: true\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tgame.stacks.rolecards[game.stacks[card.type]]\\r\\n\\t\\t\\t\\t\\t\\t\\t);\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().limbo = [ ...getActPlyr().limbo, newcard];\\r\\n\\t\\t\\t\\t\\t\\t\\tgame.stacks.pilecount[card.type]--;\\r\\n\\t\\t\\t\\t\\t\\t} else if (card.type != \\\"colonize\\\") {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().bstIcons[ card.type ]++;\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tgetActPlyr().activerole = card.type;\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\tlead: [\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\t\\\"Choose cards from your hand to Boost the effectiveness of your Role\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\t\\toffer( true , true, [ \\\"hand\\\" ], \\\"choices\\\", finish );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\t\\\"Boosting your Role\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tgetChoices().forEach( (card) => {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tboostWithIcons(getActPlyr(),card);\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tcard.finDest='discard';\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t//TODO: tally up icons on planets\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t//TODO: tally up icons on technologies\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t...getLeadCorePhases(),\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Pass the device to the Next Player\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tgame.displayinfo.selectionzone = \\\"\\\";\\r\\n\\t\\t\\t\\t\\t\\tgame.passp = true;\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"You passed Priority\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tgame.passp = false;\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\tfollow: [\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose between Following or Dissent the Leading Role\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tsimpleOffer([\\\"dissent\\\",getLeadPlyr().activerole]);\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tDissenting: () => {\\r\\n\\t\\t\\t\\t\\t\\tgetActPlyr().activerole = getChoice();\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().activerole != \\\"dissent\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\tlet card = getChoices()[0];\\r\\n\\t\\t\\t\\t\\t\\tif (game.stacks.pilecount[card.name] >= 1) {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().bstIcons[ card.name ]++;\\r\\n\\t\\t\\t\\t\\t\\t\\tlet newcard = Object.assign(\\r\\n\\t\\t\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tid: gen_unique_id(),\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tfinDest: \\\"discard\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tselected: true\\r\\n\\t\\t\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t\\t\\tgame.stacks.rolecards[game.stacks[card.name]]\\r\\n\\t\\t\\t\\t\\t\\t\\t);\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().limbo = [...getActPlyr().limbo, newcard];\\r\\n\\t\\t\\t\\t\\t\\t\\tgame.stacks.pilecount[card.name]--;\\r\\n\\t\\t\\t\\t\\t\\t} else if (card.name != \\\"colonize\\\") {\\r\\n\\t\\t\\t\\t\\t\\t\\tboostWithIcons(getActPlyr(),card);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tdraw( getActPlyr() );\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().permanents.filter(el => el.type == \\\"dissension\\\").length != 0 ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tdraw( getActPlyr() );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}, //will auto pass to next phase if follow has been selected\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose cards from your hand to Boost the effectiveness of your Role\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr() .activerole == \\\"dissent\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\t\\toffer( true , true , [ \\\"hand\\\" ], \\\"choices\\\",finish   );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Boosting your Role\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().activerole == \\\"dissent\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") {\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\t\\tlet cards = getChoices;\\r\\n\\t\\t\\t\\t\\t\\t\\tfor (let i in cards) {\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tboostWithIcons(getActPlyr(),cards[i]);\\r\\n\\t\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t\\t//TODO: tally up icons on planets\\r\\n\\t\\t\\t\\t\\t\\t\\t//TODO: tally up icons on technologies\\r\\n\\t\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t...getFollowCorePhases(),\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Pass the device to the Next Player\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tgame.displayinfo.selectionzone = \\\"\\\";\\r\\n\\t\\t\\t\\t\\t\\tgame.passp = true;\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"You passed Priority\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tgame.passp = false;\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t\\t},\\r\\n\\r\\n\\t\\t\\t\\t// discard : 2\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\tdiscard: [\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Would you like to Mobilize against a Planet\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr() .activeaction != \\\"mobilization\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\toffer( true , false , [ \\\"options\\\", [{ name: \\\"mobilize\\\" }, { name: \\\"skip\\\" }] ], \\\"choices\\\",finish   );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose a Planet to Mobilize Against\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr() .activeaction != \\\"mobilization\\\" ||  getChoice() != \\\"mobilize\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tofferUnsettled();\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Mobalizing against your Planet\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().activeaction != \\\"mobilization\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tconquer(getSubChoice(), getActPlyr() );\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Would you like to Streamline Your Empire\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif (getActPlyr().permanents.filter(el => el.type == \\\"streamlining\\\" ).length == 0\\r\\n\\t\\t\\t\\t\\t\\t) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\toffer( false , false , [ \\\"options\\\", [{ name: \\\"Decline\\\" }, { name: \\\"Streamline Empire\\\" }]  ], \\\"choices\\\",finish   );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose a Card from Your Hand to Remove from the Game\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().permanents.filter(el => el.type == \\\"streamlining\\\").length == 0 || getChoice() != \\\"Streamline Empire\\\"\\r\\n\\t\\t\\t\\t\\t\\t) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\toffer( true , false , [ \\\"hand\\\" ], \\\"subchoices\\\", finish );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Streamlining Your Empire\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().permanents.filter(el => el.type == \\\"streamlining\\\" ).length == 0 || getChoice() != \\\"Streamline Empire\\\" || getChoice() == \\\"Skip\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tresearch( getChoices(), getActPlyr(), 1 );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Would you like to Utilize Your Empire's Hyperefficiency\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().permanents.filter(el => el.type == \\\"hyperefficiency\\\" ).length == 0 ) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tsimpleOffer([\\\"Decline\\\", \\\"Utilize Hyperefficiency\\\" ]);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose a Card from Your Hand to Remove from the Game\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().permanents.filter(el => el.type == \\\"hyperefficiency\\\").length == 0 || getChoice() != \\\"Utilize Hyperefficiency\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\toffer( true , true , [ \\\"hand\\\" ], \\\"subchoices\\\",finish );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Your Empire is Hyperefficient\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif ( getActPlyr().permanents.filter(el => el.type == \\\"hyperefficiency\\\").length == 0 || getChoice() != \\\"Utilize Hyperefficiency\\\" || getChoice() == \\\"Skip\\\" ) {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tresearch( getChoices(), getActPlyr(), getChoices().length );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Choose any Cards you would like to Discard\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\toffer( true , true, [ \\\"hand\\\" ], \\\"choices\\\", finish );\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Discarding your Selected Cards\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tif (getChoice() == \\\"Skip\\\") {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tgetChoices().forEach((card) => {\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().discard = [...getActPlyr().discard,card];\\r\\n\\t\\t\\t\\t\\t\\t\\tgetActPlyr().limbo = getActPlyr().limbo.filter(c=>c.id!=card.id);\\r\\n\\t\\t\\t\\t\\t\\t});\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t//cleanup : 1\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\tcleanup: [\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Drawing up to your Hand Size\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tcleanup();\\r\\n\\t\\t\\t\\t\\t\\tlet handsize = getActPlyr().handsize;\\r\\n\\t\\t\\t\\t\\t\\tfor (let index in getActPlyr().settled_planets) {\\r\\n\\t\\t\\t\\t\\t\\thandsize += getActPlyr().settled_planets[index].handsize_modifier;\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfor (let index in getActPlyr().conquered_planets) {\\r\\n\\t\\t\\t\\t\\t\\thandsize += getActPlyr().conquered_planets[index].handsize_modifier;\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tlet l = getActPlyr().hand.length;\\r\\n\\t\\t\\t\\t\\t\\tif (l < handsize) {\\r\\n\\t\\t\\t\\t\\t\\tdraw( getActPlyr(), handsize - l );\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tgame.players.forEach(resetIconBoost);\\r\\n\\t\\t\\t\\t\\t\\tif ( game.started && checkforendgame() && (game.players.reduce((t, p) => t + p.rounds, 0) % game.number_of_players) == 0 ) {\\r\\n\\t\\t\\t\\t\\t\\ttotalinfluence();\\r\\n\\t\\t\\t\\t\\t\\tgame.nextphase = endgame;\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"Pass the device to the Next Player\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tgame.displayinfo.selectionzone = \\\"\\\";\\r\\n\\t\\t\\t\\t\\t\\tgame.displayinfo.showoptiontoskip = false;\\r\\n\\t\\t\\t\\t\\t\\tgame.displayinfo.allowformultipleselections = false;\\r\\n\\t\\t\\t\\t\\t\\tgame.passp = false;\\r\\n\\t\\t\\t\\t\\t\\tgame.passt = true;\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"You passed the Turn\\\": () => {\\r\\n\\t\\t\\t\\t\\t\\tgame.passt = false;\\r\\n\\t\\t\\t\\t\\t\\tfinish(true);\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t],\\r\\n\\t\\t\\tplayers: [],\\r\\n\\t\\t\\twinner: false,\\r\\n\\t\\t\\tstacks: {\\r\\n\\t\\t\\t\\tpilecount: { research: 20, producetrade: 16, colonize: 20, warfare: 16, survey: 20 },\\r\\n\\t\\t\\t\\tsurvey: 0, warfare: 1, colonize: 2, producetrade: 3, research: 4, //indexes\\r\\n\\t\\t\\t\\trolecards: [\\r\\n\\t\\t\\t\\tgenEmptyCard(\\\"survey\\\",\\\"Survey\\\",{survey:1}),\\r\\n\\t\\t\\t\\tgenEmptyCard(\\\"warfare\\\",\\\"Warfare\\\",{warfare:1}),\\r\\n\\t\\t\\t\\tgenEmptyCard(\\\"colonize\\\",\\\"Colonize\\\",{colonize:1}),\\r\\n\\t\\t\\t\\tgenEmptyCard(\\\"producetrade\\\",\\\"Produce / Trade\\\",{ produce:1, trade:1}),\\r\\n\\t\\t\\t\\tgenEmptyCard(\\\"research\\\",\\\"Research\\\",{research:1},{research_deck: []}),\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\t};\\r\\n\\t\\t\\tlet url = location.origin.replace(/^http/, \\\"ws\\\"); \\r\\n\\t\\t\\tlobby = {\\r\\n\\t\\t\\t\\tscreenname: \\\"\\\",\\r\\n\\t\\t\\t\\turl: url,\\r\\n\\t\\t\\t\\tsets: [\\\"Base Game\\\"],\\r\\n\\t\\t\\t\\tnumber_of_players: [2, 3, 4],\\r\\n\\t\\t\\t\\texistinggames: []\\r\\n\\t\\t\\t};\\r\\n\\t\\t\\tgame.nonce = nonce;\\r\\n\\t\\t\\tmounted = true;\\r\\n\\t\\r\\n\\t\\t\\r\\n\\t\\r\\n\\t})\\r\\n\\t///////////////////////////////////////////////////////////////////////////////\\r\\n\\tlet  \\tclearOptions = () => game.options = [],\\r\\n\\t\\t\\tofferUnsettled = () => offer( false,  false, [\\\"unsettled_planets\\\"], \\\"subchoices\\\", finish),\\r\\n            getActionCardPhases = () => actioncardphases,\\r\\n            getActvActn = () => getActPlyr().activeaction,\\r\\n            getActvRole = () => getActPlyr().activerole,\\r\\n            getChoice = () => game.choices[0].name,\\r\\n            getChoices = () => game.choices,\\r\\n            getSubChoice = () => getSubChoices()[0],\\r\\n            getSubChoices = () => game.subchoices,\\r\\n            finish = (cond=false) => phasefinishfunction(cond),\\r\\n            getActPlyr = () => game.players[game.acting_player_index],\\r\\n            getLeadPlyr = () => game.players[game.leading_player_index],\\r\\n            simpleOffer = (choices) => offer( false, false, [\\\"options\\\", choices.reduce((acc,cur)=>[...acc,{name:cur}],[])], \\\"choices\\\", finish),\\r\\n            wrappedOffer = (choices) => () => simpleOffer(choices),\\r\\n            getActionCorePhases = () => corephases.reduce((acc,cur)=>[...acc,cur.actn],[]).reduce((acc,cur)=>[...acc,...cur],[]),\\r\\n            getLeadCorePhases =   () => corephases.reduce((acc,cur)=>[...acc,cur.lead],[]).reduce((acc,cur)=>[...acc,...cur],[]),\\r\\n            getFollowCorePhases = () => corephases.reduce((acc,cur)=>[...acc,cur.fllw],[]).reduce((acc,cur)=>[...acc,...cur],[]),\\r\\n            genActionPhase = (name,actions,phase,choices=[],cond=false) => ({ [name] : ()=>{ if ( actions.includes(getActvActn()) && (choices.length==0 || choices.includes(getChoice()))) { phase() } else { finish(cond) } }}),\\r\\n            genLeadPhase   = (name,actions,phase,choices=[],cond=false) => ({ [name] : ()=>{ if ( actions.includes(getActvRole()) && (choices.length==0 || choices.includes(getChoice()))) { phase() } else { finish(cond) } }}),\\r\\n            genFollowPhase = (name,actions,phase,choices=[],cond=false) => ({ [name] : ()=>{ if ( actions.includes(getActvRole()) && (choices.length==0 || choices.includes(getChoice()))) { phase() } else { finish(cond) } }}),\\r\\n            genEmptyCard = (type, name, symbols, extras={}) => ({ type: type,selected: false, name: name, selected: false, icons: {...{ survey: 0, warfare: 0, colonize: 0, produce: 0, trade: 0, research: 1},...symbols},image: null, ...extras}),\\r\\n            tallyIcons = (dest,src) => [\\\"survey\\\",\\\"warfare\\\",\\\"trade\\\",\\\"produce\\\",\\\"research\\\",/*\\\"colonize\\\"*/].forEach( icon => dest.icons[icon] += src.icons[icon] ),\\r\\n            handToLimboWithLimboDuplicatePurge = (plyr,card) => { rmFromField(\\\"limbo\\\",plyr,card); handToLimbo(plyr,card);},\\r\\n            handToLimbo = (plyr,card) => {playToField(\\\"limbo\\\",plyr,card,'discard'); rmFromField(\\\"hand\\\",plyr,card);},\\r\\n            limboToHand = (plyr,card) => {playToField(\\\"hand\\\",plyr,card,''); rmFromField(\\\"limbo\\\",plyr,card);},\\r\\n            playToField = (fld,plyr,card,fDest) => plyr[fld] = [...plyr[fld], { ...card, finDest: fDest }],\\r\\n            rmFromField = (fld,plyr,card) => plyr[fld] = plyr[fld].filter(el => card.id != el.id),\\r\\n            boostWithIcons = (plyr, src) => Object.keys(src.icons).forEach((icon) => plyr.bstIcons[icon]+=src.icons[icon]),\\r\\n            resetIconBoost = (plyr) => plyr.bstIcons = {survey: 0, warfare: 0, colonize: 0, produce: 0, trade: 0, research: 0 },\\r\\n            resetSelection = (selected) => selected.forEach((s) => s.selected = false),\\r\\n            offlineOrIsClientTurn = () => (lobby.screenname == getActPlyr().name || !lobby.online),\\r\\n            setChoice = (chc) => game[game.displayinfo.choicelabel] = chc,\\r\\n            cleanOptions = () => game.options=[],\\r\\n            displayPlanets = () => game.displayinfo.center_or_planets = false,\\r\\n            displayCenter = () => game.displayinfo.center_or_planets = true,\\r\\n            clearChoices = () => game[game.displayinfo.choicelabel] = [],\\r\\n            setDisplayInfo = (zone,multiple,skippable,label) => game.displayinfo = {...game.displayinfo,...{selectionzone:zone,allowformultipleselections:multiple,showoptiontoskip:skippable,choicelabel:label}},\\r\\n            getAllCards = (plyr) => [...plyr.deck,...plyr.discard, ...plyr.limbo, ...plyr.hand],\\r\\n            isPlanet = (p) => p.type=='planet' || p.type=='fertile' || p.type=='metallic' || p.type=='advanced',\\r\\n            chkForPerm = (perm) => getActPlyr().permanents.filter( (el)=>el.type==perm ).length != 0,\\r\\n            range = (min,max) => (min <= max) ? [...range(min, max-1),max] : [],\\r\\n            singleCllBck = (cllBck,e,func) => () => {func(); document.removeEventListener(e,this); cllBck();},\\r\\n            produceTradeHelper = (filled,planets,resources,func=()=>{}) => { let prd = {blue:0,green:0,purple:0,red:0}; planets.forEach((planet) =>  planet.production_zones.forEach((zone)=>{     if (!zone.filled && resources > 0) {         zone.filled = filled;         prd[zone.type]++;         resources--;         func()     }  }) );return prd;};\\r\\n\\t\\r\\n\\tlet choosewrapper = (c,zone) => {\\r\\n\\t\\tif ((game.displayinfo.selectionzone == zone) && offlineOrIsClientTurn()){\\r\\n\\t\\t\\t(game.displayinfo.allowformultipleselections) ? multiplechoose(c) : choose([c]);\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\tlet multiplechoose = (choice) => {\\r\\n\\t\\tif (offlineOrIsClientTurn()){\\t\\t\\r\\n\\t\\t\\tif ( !game[game.displayinfo.choicelabel].includes(choice) ) {\\r\\n\\t\\t\\t\\tsetChoice([...game[game.displayinfo.choicelabel],choice]);\\r\\n\\t\\t\\t\\tchoice.selected=true;\\r\\n\\t\\t\\t\\tif (!isPlanet(choice) && choice.name != 'Skip') handToLimbo(getActPlyr(),choice);\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\telse {\\r\\n\\t\\t\\t\\tchoice.selected=false;\\r\\n\\t\\t\\t\\tif (!isPlanet(choice) && choice.name != 'Skip'){\\r\\n\\t\\t\\t\\t\\tsetChoice(game[game.displayinfo.choicelabel].filter( (el)=> el.id != choice.id ));\\r\\n\\t\\t\\t\\t\\tlimboToHand(getActPlyr(),choice);\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\tlet choose = (choices) => {\\r\\n\\t\\tif (offlineOrIsClientTurn()){\\r\\n\\t\\t\\tclearOptions();\\r\\n\\t\\t\\tresetSelection(choices);\\r\\n\\t\\t\\tsetChoice(choices);\\r\\n\\t\\t\\tfinish();\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\tlet unchoose = (choice) => {\\r\\n\\t\\tif (offlineOrIsClientTurn()){\\r\\n\\t\\t\\tif ( game[game.displayinfo.choicelabel].includes(choice) ) {\\r\\n\\t\\t\\t\\tchoice.selected=false;\\r\\n\\t\\t\\t\\tsetChoice( game[game.displayinfo.choicelabel].filter( (el) => el.id != choice.id ));\\r\\n\\t\\t\\t\\tlimboToHand(getActPlyr(),choice);\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\tlet offer = (\\r\\n\\t\\tskippable /*option to skip | sets game.displayinfo.showoptiontoskip=boolean */,\\r\\n\\t\\tmultiple /*allows multiple choices | sets game.displayinfo.allowformultipleselections=boolean */, \\r\\n\\t\\t[field_label, choices] /* available cards to choose from | game.displayinfo.selectionzone={'hand|discard|options|planets|research|rolecards'}, sets choices=array if specified*/, \\r\\n\\t\\tchoice_label /* label for where the choice is stored | set with game[label]=*/,\\r\\n\\t\\tcallback /*callback that handles the choice or finishes the phase*/, \\r\\n\\t) => {\\r\\n\\t\\tsetDisplayInfo(field_label,multiple,skippable,choice_label);\\r\\n\\t\\tswitch (field_label){\\r\\n\\t\\t\\tcase 'hand': choices = getActPlyr().hand; break;\\r\\n\\t\\t\\tcase 'research': choices = game.research_deck; break;\\r\\n\\t\\t\\tcase 'discard': choices = getActPlyr().discard; break;\\r\\n\\t\\t\\tcase 'planets': choices = game.planet_deck; break;\\r\\n\\t\\t\\tcase 'rolecards': choices = game.stacks.rolecards; displayCenter(); break;\\r\\n\\t\\t\\tcase 'unsettled_planets': choices = getActPlyr().unsettled_planets; displayPlanets(); break;\\r\\n\\t\\t\\tcase 'settled_planets': choices = getActPlyr().settled_planets; displayPlanets(); break;\\r\\n\\t\\t\\tcase 'conquered_planets': choices = getActPlyr().conquered_planets; displayPlanets(); break;\\r\\n\\t\\t\\tcase 'settled_&_conquered_planets': choices = [...getActPlyr().settled_planets, ...getActPlyr().conquered_planets]; displayPlanets(); break;\\r\\n\\t\\t}\\r\\n\\t\\tclearChoices();\\r\\n\\t\\tpresent_as_choice(choices);\\r\\n\\t\\tsendstate();\\r\\n\\r\\n\\t};\\r\\n\\tlet discard = (source_array, destination_array, id) => {\\r\\n\\t\\tlet toRemove = source_array.find((e) => id == e.id);\\r\\n\\t\\tdestination_array = [...destination_array,toRemove];\\r\\n\\t\\tsource_array = source_array.filter((e) => e.id != toRemove.id);\\r\\n\\t};\\r\\n\\t//draw deck->hand\\r\\n\\tlet totalinfluence = () => {\\r\\n\\t\\tgame.players.forEach((plyr) => {\\r\\n\\t\\t\\tplyr.influence = plyr.influence.reduce((acc,cur) => acc + cur,0) + getAllCards(plyr).reduce((acc,cur) => acc + cur.influence);\\r\\n\\t\\t}) ;\\r\\n\\t};\\r\\n\\tlet endgame = () => {\\r\\n\\t\\t//display victor\\r\\n\\t\\tlet scores = game.players.map(e => e.influence);\\r\\n\\t\\tlet winner = '';\\r\\n\\t\\tlet highest = scores[0];\\r\\n\\t\\tgame.players.map((e) => { if ( highest < e.influence ) { winner = e.name; highest = e.influence; } } );\\r\\n\\t};\\r\\n\\tlet checkforendgame = () => {\\r\\n\\t\\tlet depletedstacks = game.stacks.pilecount.reduce((acc,cur) => acc + (cur < 1) ? 1 : 0,0);\\r\\n\\t\\tlet stacklimit = (game.number_of_players == 1 || game.number_of_players == 2) ? 1 : 2 ;\\r\\n\\t\\treturn ( stacklimit <= depletedstacks || game.influence.length == 0);\\r\\n\\t};\\r\\n\\tlet draw = (player, quantity=1) => {\\r\\n\\t\\tfor ( let i = 0; i < quantity; i++){\\r\\n\\t\\t\\tif ( player.deck.length == 0) {\\r\\n\\t\\t\\t\\tif (player.discard.length == 0) return player;\\r\\n\\t\\t\\t\\tplayer.deck = knuthshuffle([...player.discard]);\\r\\n\\t\\t\\t\\tplayer.discard = [];\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tplayer.hand = [...player.hand, player.deck.pop()];\\r\\n\\t\\t\\tplayer.deck = player.deck;\\r\\n\\t\\t}\\r\\n\\t\\treturn player;\\r\\n\\t};\\r\\n\\tlet play = (source_array, destination_array, finDest, id) => {\\r\\n\\t\\tlet toRemove = source_array.find((e) => id == e.id);\\r\\n\\t\\tdestination_array = [...destination_array,{...toRemove,finDest:finDest}];\\r\\n\\t\\tsource_array = source_array.filter((e) => e.id != toRemove.id);\\r\\n\\t};\\r\\n\\tlet gen_research_card = (name) => {\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tname:name,\\r\\n\\t\\t\\ttype:name,\\r\\n\\t\\t\\tid:gen_unique_id(),\\r\\n\\t\\t\\ticons:{'survey':0,'warfare':0,'colonize':0,'produce':0,'trade':0,'research':0},\\r\\n\\t\\t\\tplanet_requirements:{'advanced':0, 'metallic':0, 'fertile':0},\\r\\n\\t\\t\\tresearch_cost:0,\\r\\n\\t\\t\\taction:()=>{},\\r\\n\\t\\t\\tis_permanent:false,\\r\\n\\t\\t\\tis_doublesided:false,\\r\\n\\t\\t\\timgurl:\\\"/images/\\\",\\r\\n\\t\\t\\tInfluence_value:0,\\r\\n\\t\\t\\timg:function(im){this.imgurl+=im;return this;},\\r\\n\\t\\t\\tinfluence:function(inf){this.influence_value = inf ; return this;},\\r\\n\\t\\t\\tmetallic:function(met){this.planet_requirements.metallic = met ; return this;},\\r\\n\\t\\t\\tadvanced:function(adv){this.planet_requirements.advanced = adv; return this;},\\r\\n\\t\\t\\tfertile:function(fer){this.planet_requirements.fertile = fer; return this;},\\r\\n\\t\\t\\tresearch:function(res){this.research_cost = res; return this;},\\r\\n\\t\\t\\tpermanent:function(){this.is_permanent = true; return this;},\\r\\n\\t\\t\\tdoubleside:function(){this.is_doublesided = true; return this;},\\r\\n\\t\\t\\ticons:function(icons){this.icons = Object.assign(this.icons, icons); return this;},\\r\\n\\t\\t\\timproved_colonize:function(){this.research(3);this.imgurl+=\\\"improvedcolonize\\\";return this;},\\r\\n\\t\\t\\timproved_survey:  function(){this.research(3);this.imgurl+=\\\"improvedsurvey\\\";return this;},\\r\\n\\t\\t\\timproved_research:function(){this.research(3);this.imgurl+=\\\"improvedresearch\\\";return this;},\\r\\n\\t\\t\\timproved_warfare: function(){this.research(3);this.imgurl+=\\\"improvedwarfare\\\";return this;},\\r\\n\\t\\t\\timproved_production:function(){this.research(3);this.imgurl+=\\\"improvedproduction\\\";return this;},\\r\\n\\t\\t\\timproved_trade:  \\t\\tfunction(){this.research(3);this.imgurl+=\\\"improvedtrade\\\";return this;},\\r\\n\\t\\t\\tsurveyteam:\\t\\t\\tfunction(){return this.research(5).metallic(2).influence(2).icons({'survey':2}).img('surveyteam');},\\r\\n\\t\\t\\twarpath:\\t\\t\\t\\tfunction(){return this.research(5).metallic(2).influence(2).icons({'warfare':2}).img('warpath');},\\r\\n\\t\\t\\tterraforming:\\t\\t\\tfunction(){return this.research(5).fertile(2).influence(2).icons({'colonize':2}).img('terraforming');},\\r\\n\\t\\t\\tgeneticengineering:\\tfunction(){return this.research(5).fertile(2).influence(2).icons({'produce':2}).img('geneticengineering');},\\r\\n\\t\\t\\tartificialintelligence:\\tfunction(){return this.research(5).fertile(2).influence(2).icons({'colonize':1,'produce':1}).img('artificialintelligence');},\\r\\n\\t\\t\\tdiversemarkets:\\t\\tfunction(){return this.research(5).advanced(2).influence(2).icons({'research':1,'trade':1}).img('diversemarkets');},\\r\\n\\t\\t\\tspecialization:\\t\\t\\tfunction(){return this.research(5).advanced(2).influence(2).icons({'trade':2}).img('specialization');},\\r\\n\\t\\t\\tmobilization:\\t\\t\\tfunction(){return this.research(5).metallic(2).influence(2).icons({'survey':1,'warfare':1}).img('mobilization');},\\r\\n\\t\\t\\tdatanetwork:\\t\\t\\tfunction(){return this.research(5).advanced(2).influence(2).icons({'research':2}).img('datanetwork');},\\r\\n\\t\\t\\tabundance:   \\t\\t\\tfunction(){this.research(5);this.imgurl+=\\\"abundance\\\"; this.is_doublesided=true; this.is_permanent=true; return this.fertile(2).influence(2);},\\r\\n\\t\\t\\tadaptability:\\t\\t   \\tfunction(){this.research(7);this.imgurl+=\\\"adaptability\\\"; this.is_doublesided=true; this.is_permanent=true; return this.advanced(3).influence(5);},\\r\\n\\t\\t\\tbureaucracy:  \\t\\t\\tfunction(){this.research(7);this.imgurl+=\\\"bureaucracy\\\"; this.is_doublesided=true; this.is_permanent=true; return this.fertile(3).influence(5);},\\r\\n\\t\\t\\tdissension:\\t\\t\\t\\tfunction(){return this.research(7).fertile(3).influence(5).permanent().doubleside().img('dissension');},\\r\\n\\t\\t\\thyperefficiency:\\t\\tfunction(){return this.research(7).advanced(3).influence(5).permanent().doubleside().img('hyperefficiency');},\\r\\n\\t\\t\\timperialism:\\t\\t\\tfunction(){return this.research(5).metallic(2).influence(2).permanent().doubleside().img('imperialism').icons({'survey':1,'trade':1,'warfare':1,});},\\r\\n\\t\\t\\tlogistics:\\t\\t\\t\\tfunction(){return this.research(7).metallic(3).influence(5).permanent().doubleside().img('logistics');},\\r\\n\\t\\t\\tproductivity:\\t\\t\\tfunction(){return this.research(7).metallic(3).influence(5).permanent().doubleside().img('productivity');},\\r\\n\\t\\t\\tscorchedearthpolicy:\\tfunction(){return this.research(5).metallic(2).influence(2).permanent().doubleside().img('scorchedearthpolicy');},\\r\\n\\t\\t\\tstreamlining:\\t\\t\\tfunction(){return this.research(5).advanced(2).influence(2).permanent().doubleside().img('streamlining');},\\r\\n\\t\\t\\tweaponsemporium:\\t\\tfunction(){return this.research(5).advanced(2).influence(2).permanent().doubleside().img('weaponemporium');},\\r\\n\\t\\t\\tfertilegrounds:\\t\\t\\tfunction(){return this.research(5).fertile(2).influence(2).permanent().doubleside().img('fertilegrounds').icons({'research':1,'colonize':1,'produce':1,});},\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\tlet gen_research_deck = () => {\\r\\n\\t\\tgame.research_deck =[\\r\\n\\t\\t\\tgen_research_card('improved_production').metallic(1).icons({'warfare':1,'produce':1}).improved_production().img(\\\"wp.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_production').metallic(1).icons({'survey':1,'produce':1}).improved_production().img(\\\"sp.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_trade')     .metallic(1).icons({'survey':1,'trade':1}).improved_trade().img(\\\"st.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_trade')     .metallic(1).icons({'warfare':1,'trade':1}).improved_trade().img(\\\"wt.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_research')  .metallic(1).icons({'warfare':1,'research':1}).improved_research().img(\\\"wr.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_research')  .metallic(1).icons({'survey':1,'research':1}).improved_research().img(\\\"sr.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_colonize')  .metallic(1).icons({'warfare':1,'colonize':1}).improved_colonize().img(\\\"wc.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_colonize')  .metallic(1).icons({'survey':1,'colonize':1}).improved_colonize().img(\\\"sc.png\\\"),\\r\\n\\t\\t\\r\\n\\t\\t\\tgen_research_card('improved_warfare')   .fertile(1).icons({'produce':1,'warfare':1}).improved_warfare().img(\\\"pw.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_warfare')   .fertile(1).icons({'colonize':1,'warfare':1}).improved_warfare().img(\\\"cw.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_trade')     .fertile(1).icons({'produce':1,'trade':1}).improved_trade().img(\\\"pt.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_trade')     .fertile(1).icons({'colonize':1,'trade':1}).improved_trade().img(\\\"ct.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_research')  .fertile(1).icons({'produce':1,'research':1}).improved_research().img(\\\"pr.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_research')  .fertile(1).icons({'colonize':1,'research':1}).improved_research().img(\\\"cr.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_survey')    .fertile(1).icons({'produce':1,'survey':1}).improved_survey().img(\\\"ps.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_survey')    .fertile(1).icons({'colonize':1,'survey':1}).improved_survey().img(\\\"cs.png\\\"),\\r\\n\\t\\t\\r\\n\\t\\t\\tgen_research_card('improved_production').advanced(1).icons({'research':1,'produce':1}).improved_production().img(\\\"rp.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_production').advanced(1).icons({'trade':1,'produce':1}).improved_production().img(\\\"tp.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_warfare')   .advanced(1).icons({'warfare':1,'trade':1}).improved_warfare().img(\\\"tw.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_warfare')   .advanced(1).icons({'research':1,'warfare':1}).improved_warfare().img(\\\"rw.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_colonize')  .advanced(1).icons({'colonize':1,'trade':1}).improved_colonize().img(\\\"tc.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_colonize')  .advanced(1).icons({'research':1,'colonize':1}).improved_colonize().img(\\\"rc.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_survey')    .advanced(1).icons({'trade':1,'survey':1}).improved_survey().img(\\\"ts.png\\\"),\\r\\n\\t\\t\\tgen_research_card('improved_survey')    .advanced(1).icons({'research':1,'survey':1}).improved_survey().img(\\\"rs.png\\\"),\\r\\n\\r\\n\\t\\t\\tgen_research_card('survey_team').surveyteam().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('war_path').warpath().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('terraforming').terraforming().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('genetic_engineering').geneticengineering().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('artificial_intelligence').artificialintelligence().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('diverse_markets').diversemarkets().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('specialization').specialization().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('mobilization').\\tmobilization().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('data_network').datanetwork().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('abundance').abundance().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('adaptability').adaptability().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('bureaucracy').bureaucracy().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('dissension').dissension().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('hyperefficiency').hyperefficiency().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('imperialism').imperialism().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('logistics').logistics().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('productivity').productivity().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('scorched_earth_policy').scorchedearthpolicy().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('streamlining').streamlining().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('weapons_emporium').weaponsemporium().img(\\\".png\\\"),\\r\\n\\t\\t\\tgen_research_card('fertile_grounds').fertilegrounds().img(\\\".png\\\"),\\r\\n\\r\\n\\t\\t];\\r\\n\\t};\\r\\n\\tlet genplayer = (_id) => {\\r\\n\\t\\tlet _player = {\\r\\n\\t\\t\\t'id':_id,\\r\\n\\t\\t\\t'actionrolesequence':'ar', //can be ar. ra, aar, ara, raa\\r\\n\\t\\t\\t'specialization':'',\\r\\n\\t\\t\\t'available':true,\\r\\n\\t\\t\\t'rounds':0,\\r\\n\\t\\t\\t'limbo': [],\\r\\n\\t\\t\\t'deck' : knuthshuffle(gennewdeck()),\\r\\n\\t\\t\\t'hand' : [],\\r\\n\\t\\t\\t'permanents' : [] ,\\r\\n\\t\\t\\t'discard' : [],\\r\\n\\t\\t\\t'handsize':5,\\r\\n\\t\\t\\t'activeaction' : null,\\r\\n\\t\\t\\t'activerole' : '',\\r\\n\\t\\t\\t'handsize' : 5,\\r\\n\\t\\t\\t'bstIcons' : {'survey':0,'warfare':0,'colonize':0,'produce':0,'trade':0,'research':0},\\r\\n\\t\\t\\t'unsettled_planets' : [game.stacks.startingplanets.pop()],\\r\\n\\t\\t\\t'settled_planets' : [],\\r\\n\\t\\t\\t'conquered_planets' : [],\\r\\n\\t\\t\\t'starfighters' : {'small':0,'medium':0,'large':0},\\r\\n\\t\\t\\t'combatvalue' : 0,\\r\\n\\t\\t\\t'influence':[],\\r\\n\\t\\t};\\r\\n\\t\\tdraw(_player,_player.handsize);\\r\\n\\t\\tgame.players = [...game.players,_player];\\r\\n\\t};\\r\\n\\tlet genplanet = (name_in) => {\\t\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tid:gen_unique_id(),\\r\\n\\t\\t\\tname:name_in,\\r\\n\\t\\t\\ttype:'planet',\\r\\n\\t\\t\\tsettle_cost:2,\\r\\n\\t\\t\\tsettled:false,\\r\\n\\t\\t\\tconquer_cost:2,\\r\\n\\t\\t\\tproduction_zones:[],\\r\\n\\t\\t\\tinfluence_value:2,\\r\\n\\t\\t\\ticons:{'survey':0,'warfare':0,'colonize':0,'produce':0,'trade':0,'research':0,},\\r\\n\\t\\t\\thandsize_modifier:0,\\r\\n\\t\\t\\thosted_colonies:[],\\r\\n\\t\\t\\tmetallic:function(){this.type='metallic';return this;},\\r\\n\\t\\t\\tadvanced:function(){this.type='advanced';return this;},\\r\\n\\t\\t\\tfertile:function(){this.type='fertile';return this;},\\r\\n\\t\\t\\ticon:function(icon_name){this.icons[icon_name]++;return this;},\\r\\n\\t\\t\\thandsize:function(modifier){this.handsize_modifier=modifier;return this;},\\r\\n\\t\\t\\tinfluence:function(influence){this.influence_value = influence;return this;},\\r\\n\\t\\t\\tsettle:function(cost){this.settle_cost=cost;return this;},\\r\\n\\t\\t\\tconquer:function(cost){this.conquer_cost=cost;return this;},\\r\\n\\t\\t\\tzone:function(zone){this.production_zones.push({type:zone, filled:false});return this;},\\r\\n\\t\\t};\\r\\n\\t};\\r\\n\\tlet genplanetdeck = () => { \\r\\n\\t\\tgame.planet_deck = knuthshuffle([\\r\\n\\t\\t\\t//fertile planets\\r\\n\\t\\t\\tgenplanet('MISHBURR ITO-A').fertile().settle(5).conquer(4).zone('food')              .influence(3).icon('produce')   ,\\r\\n\\t\\t\\tgenplanet('STYKU').fertile().settle(4).conquer(5).zone('water')               .influence(3).icon('colonize')  ,\\r\\n\\t\\t\\tgenplanet('ANGUS DUFFY').fertile().settle(3).conquer(6).zone('food').zone('water') .influence(3)                   ,\\r\\n\\t\\t\\tgenplanet('GERDLAND').fertile().settle(4).conquer(5).zone('water')               .influence(3).icon('produce')   ,\\r\\n\\t\\t\\tgenplanet('MIK-MIK').fertile().settle(5).conquer(4).zone('food')              .influence(3).icon('colonize')  ,\\r\\n\\t\\t\\tgenplanet('NELOS IV').fertile().settle(5).conquer(4).zone('food')              .influence(2)      .handsize(1) ,\\r\\n\\t\\t\\tgenplanet('SPIELBANY VI').fertile().settle(4).conquer(5).zone('water')               .influence(2)      .handsize(1) ,\\r\\n\\t\\t\\tgenplanet('NEW TEXAS').fertile().settle(3).conquer(6).zone('food').zone('water') .influence(2).icon('colonize')  ,\\r\\n\\t\\t\\tgenplanet('ARTIGAS GNS-111').fertile().settle(3).conquer(6).zone('food').zone('water') .influence(2).icon('produce')   ,\\r\\n\\t\\t\\t//advanced planets\\r\\n\\t\\t\\tgenplanet('HANOJ - T').advanced().settle(5).conquer(4).influence(3).zone('silicon').icon('trade'),\\r\\n\\t\\t\\tgenplanet('OKNOW').advanced().settle(4).conquer(5).influence(2).zone('silicon')                              .handsize(1),\\r\\n\\t\\t\\tgenplanet('SROD AVEIN N2').advanced().settle(3).conquer(6).influence(4)                             .icon('research'),\\r\\n\\t\\t\\tgenplanet(\\\"RAL GAI'GAW\\\").advanced().settle(4).conquer(5).influence(3).zone('silicon').icon('trade'),\\r\\n\\t\\t\\tgenplanet('ECHO ROSE').advanced().settle(5).conquer(4).influence(3).zone('silicon')              .icon('research'),\\r\\n\\t\\t\\tgenplanet('SHOLMICAN').advanced().settle(3).conquer(6).influence(4).zone('silicon'),\\r\\n\\t\\t\\tgenplanet('ZEPHAN').advanced().settle(3).conquer(6).influence(4)               .icon('trade'),\\r\\n\\t\\t\\tgenplanet('SIMA-07C').advanced().settle(5).conquer(4).influence(2).zone('silicon')                              .handsize(1),\\r\\n\\t\\t\\tgenplanet('LYTTLE').advanced().settle(4).conquer(5).influence(3).zone('silicon')              .icon('research'),\\r\\n\\t\\t\\t//mettalic planets\\r\\n\\t\\t\\tgenplanet('KYRIE & JUNO').metallic().settle(3).conquer(6).influence(4)            .icon('survey'),\\r\\n\\t\\t\\tgenplanet('MARGHANNAH PRIME').metallic().settle(4).conquer(5).influence(3)                           .handsize(1),\\r\\n\\t\\t\\tgenplanet('TANKAHSHIN').metallic().settle(4).conquer(5).influence(3).zone('metallic').icon('warfare'),\\r\\n\\t\\t\\tgenplanet('VOSON').metallic().settle(4).conquer(5).influence(3).zone('metallic').icon('survey'),\\r\\n\\t\\t\\tgenplanet('PINK SONAR').metallic().settle(5).conquer(4).influence(3).zone('metallic').icon('survey'),\\r\\n\\t\\t\\tgenplanet(\\\"OVERLORD BETZEL'S DOMAIN\\\").metallic().settle(3).conquer(6).influence(4)            .icon('warfare'),\\r\\n\\t\\t\\tgenplanet('8910 SPIELEN').metallic().settle(4).conquer(5).influence(2).zone('metallic')               .handsize(1),\\r\\n\\t\\t\\tgenplanet('IDROYOS').metallic().settle(3).conquer(6).influence(5),\\r\\n\\t\\t\\tgenplanet('ERKAM-W').metallic().settle(5).conquer(4).influence(3).zone('metallic').icon('warfare')\\r\\n\\t\\t]);\\r\\n\\t\\tgame.stacks.startingplanets = knuthshuffle([\\r\\n\\t\\t\\tgenplanet('MESIA SEDNIM').fertile().settle(2).conquer(2).influence(2).zone('water'),\\r\\n\\t\\t\\tgenplanet('DRAWDE').fertile().settle(2).conquer(2).influence(2).zone('food'),\\r\\n\\t\\t\\tgenplanet('LIAGIBA').advanced().settle(2).conquer(2).influence(2).zone('silicon'),\\r\\n\\t\\t\\tgenplanet('POMERENE').advanced().settle(2).conquer(2).influence(2).zone('silicon'),\\r\\n\\t\\t\\tgenplanet('CHRISPEN').metallic().settle(2).conquer(2).influence(2).zone('metallic'),\\r\\n\\t\\t\\tgenplanet('PIEDRA SECA').metallic().settle(2).conquer(2).influence(2).zone('metallic'),\\r\\n\\t\\t])   \\r\\n\\t};\\r\\n\\tlet cleanup = () => {\\r\\n\\t\\tgetActPlyr().limbo.forEach(card => {\\r\\n\\t\\t\\tgetActPlyr()[card.finDest] = [ ...getActPlyr()[card.finDest], card ];\\r\\n\\t\\t});\\r\\n\\t};\\r\\n\\tlet purchase = (src, dest, finDest, id) => { // duplicate of discard & duplicate of play\\r\\n\\t\\tlet toRemove = src.find((e) => id == e.id);\\r\\n\\t\\tdest = [...dest,{...toRemove,finDest:finDest}];\\r\\n\\t\\tsrc = src.filter((e) => e.id != toRemove.id);\\r\\n\\t};\\r\\n\\tlet remove_from_game = (source_array, toRemove) => { //remove_from_game hand->exile\\\\\\r\\n\\t\\ttoRemove.finDest=\\\"exile\\\";\\r\\n\\t\\treturn source_array.filter((e) => e.id != toRemove.id);\\r\\n\\t};\\r\\n\\tlet present_as_choice = (options) => game.options = options;\\r\\n\\tlet settle_colonies = (planet, plyr) => {\\r\\n\\t\\tlet planets = [...plyr.settled_planets,...plyr.conquered_planets];\\r\\n\\t\\tlet reduction = [...planets,...getLeadPlyr().permanents].reduce((acc,cur)=>acc+cur.icons.colonize,0);\\r\\n\\t\\tif (planet.settle_cost - reduction <= planet.hosted_colonies.length){\\r\\n\\t\\t\\tif (chkForPerm('abundance') && planet.production_zones.length != 0){\\r\\n\\t\\t\\t\\tplanet.production_zones = planet.production_zones.map((pz)=>{return {type:pz.type,filled:true};})\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tplyr.discard = [...plyr.discard, ...planet.hosted_colonies];\\r\\n\\t\\t\\tplanet.hosted_colonies = [];\\r\\n\\t\\t\\tplanet.settled = true;\\r\\n\\t\\t\\tdiscard(plyr.unsettled_planets,plyr.settled_planets,planet.id);\\r\\n\\t\\t}\\r\\n\\t\\t\\r\\n\\t};\\r\\n\\t//pass_turn leadingplayer->nextplayer\\r\\n\\tlet pass_turn = () => {\\r\\n\\t\\tif (!lobby.online || lobby.screenname == getActPlyr().name ){\\r\\n\\t\\t\\tgame.passt=false;\\r\\n\\t\\t\\tgame.acting_player_index = game.leading_player_index = (game.leading_player_index+1)%game.number_of_players;\\r\\n\\t\\t\\tgame.leadingplayer = game.players[game.leading_player_index];\\r\\n\\t\\t\\tgame.acting_player = game.players[game.leading_player_index];\\r\\n\\t\\t\\tfinish();\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\t//pass_priority actingplayer->nextplayer\\r\\n\\tlet pass_priority = () => {\\r\\n\\t\\tif (offlineOrIsClientTurn()){\\r\\n\\t\\t\\tgame.passp=false;\\r\\n\\t\\t\\tgame.acting_player_index = (game.acting_player_index+1)%game.number_of_players;\\r\\n\\t\\t\\tgame.acting_player = getActPlyr();\\r\\n\\t\\t\\tfinish();\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\t//determine_number_of_players logic->options->choice->number_of_players\\r\\n\\tlet determine_number_of_players = (callback) => {\\r\\n\\t\\tdocument.addEventListener('choicemade',singleCllBck( callback, 'choicemade', () => game.number_of_players = game.choices));\\r\\n\\t\\tpresent_as_choice(range( game.minPlyrs, game.maxPlyrs));\\r\\n\\t};\\r\\n\\t//produce poduction_pile->host\\r\\n\\tlet produce = (planets, resources=1) => produceTradeHelper(true,planets,resources);\\r\\n\\t//trade host->production_pile, influence_pile->player_influence\\r\\n\\t//let trade = (planets, player, resources=1) => produceTradeHelper(false,planets,resources,()=>player.influence.push(game.influence.pop()));\\r\\n\\tlet trade = (plnt,plyr,res)=>{\\r\\n\\t\\tlet prd = { blue: 0, green: 0, purple: 0, red: 0  };\\r\\n\\t\\tif (res < 1) return prd;\\r\\n\\t\\tfor (let i = 0; i < plnt.length; i++){\\r\\n\\t\\t\\tfor(let j = 0; j < plnt[i].production_zones.length; j++) {\\r\\n\\t\\t\\t\\tif ( res > 0 && plnt[i].production_zones[j].filled ) {\\r\\n\\t\\t\\t\\t\\tif (game.influence.length != 1) game.influence = game.influence.slice(1);\\r\\n\\t\\t\\t\\t\\tplnt[i].production_zones[j].filled = false;\\r\\n\\t\\t\\t\\t\\tprd[plnt[i].production_zones[j].type]++;\\r\\n\\t\\t\\t\\t\\tplyr.influence = [...plyr.influence, 1];\\r\\n\\t\\t\\t\\t\\tres--;\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\t} return prd;\\r\\n\\t};\\r\\n\\t//politics hand->limbo->exile, stacks->hand\\r\\n\\tlet politics = (politics_card, card, player) => {\\r\\n\\t\\tpolitics_card.finDest=\\\"exile\\\";\\r\\n\\t\\tif (game.stacks.pilecount[card.type] >= 1){\\r\\n\\t\\t\\tplayer.hand = [...player.hand, {...game.stacks.rolecards[game.stacks[card.type]], 'id':gen_unique_id()}];\\r\\n\\t\\t\\tgame.stacks.pilecount[card.type]--;\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\t//research hand->exile\\r\\n\\tlet research = (cards, player, limit=2) => {\\r\\n\\t\\tfor (let i = 0; (i < cards.length && i < limit); i++){\\r\\n\\t\\t\\tgetActPlyr().limbo =  remove_from_game(getActPlyr().limbo, cards[i]);\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\t//boost logic->player_icons\\r\\n\\tlet boost = (cards, plyr) => cards.forEach((card) => boostWithIcons(plyr,card));\\r\\n\\t//survey deck->hand\\r\\n\\tlet survey = (player) => player = draw(player,2);\\r\\n\\t//colonize hand/limbo->host\\r\\n\\tlet colonize = (planet, source_array, card, isRole=false) => {\\r\\n\\t\\tlet l = (isRole) ? getActPlyr().bstIcons.colonize : 1;\\r\\n\\t\\tfor (let i = 0; i < l; i++){\\r\\n\\t\\t\\tlet toRemove = source_array.find((e) => card.type == e.type && e.finDest!='exile');\\r\\n\\t\\t\\tplanet.hosted_colonies = [...planet.hosted_colonies,toRemove];\\r\\n\\t\\t\\tsource_array = source_array.filter((e,i) => e.id != toRemove.id);\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\t//warfare starship_pile->player_starship_pile\\r\\n\\tlet warfare = (player) => player.starfighters.small++;\\r\\n\\t//conquer player_starship_pile->starship_pile, player_unconquered_planets->player_conquered_planets\\r\\n\\tlet conquer = (planet, player)=>{\\r\\n\\t\\tif (chkForPerm('scorched_earth_policy')){\\r\\n\\t\\t\\t\\tplanet.production_zones = [];\\r\\n\\t\\t\\t\\tplanet.conquer_cost -= 2;\\r\\n\\t\\t\\t\\tif (planet.conquer_cost < 0) {\\r\\n\\t\\t\\t\\t\\tplanet.conquer_cost = 0;\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\tif (player.starfighters.small >= planet.conquer_cost){\\r\\n\\t\\t\\tif (chkForPerm('abundance')){\\r\\n\\t\\t\\t\\tif (planet.production_zones.length != 0){\\r\\n\\t\\t\\t\\t\\tplanet.production_zones = planet.production_zones.map((pz)=>{return {type:pz.type,filled:true};})\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tplayer.starfighters.small -= planet.conquer_cost;\\r\\n\\t\\t\\tplanet = select_via_id(player.unsettled_planets, planet.id);\\r\\n\\t\\t\\tplanet.conquered=true;\\r\\n\\t\\t\\tplayer.conquered_planets.push(planet);\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\t//offer_to_boost present_as_choice, choose, boost\\r\\n\\tlet offer_to_boost = (player) => {\\r\\n\\t\\tgame.displayinfo.selectionzone = 'hand';\\r\\n\\t\\tgame.displayinfo.allowformultipleselections = true;\\r\\n\\t\\tgame.displayinfo.showoptiontoskip = true;\\r\\n\\t\\tpresent_as_choice(player.hand);\\r\\n\\t\\tdocument.addEventListener('choicemade',singleCllBck(()=>{},'choicemade',()=>boost(game.choices, player)));\\r\\n\\t};\\r\\n\\tlet select_via_id = (source, id) => {\\r\\n\\t\\tlet temp = source.find(p=>p.id==id);\\r\\n\\t\\tsource = source.filter(p=>p.id!=id);\\r\\n\\t\\treturn temp\\r\\n\\t};\\r\\n\\tlet boostrolewithcards = (choices, callback=()=>{}) => {\\r\\n\\t\\tif (choices[0].name == 'Skip') return;\\r\\n\\t\\tchoices.forEach((card)=>{\\r\\n\\t\\t\\tboostWithIcons(getActPlyr(),card);\\r\\n\\t\\t\\tplay(getActPlyr().hand,getActPlyr().limbo,'discard',cards[i].id);\\r\\n\\t\\t});\\r\\n\\t\\tcallback();\\r\\n\\t};\\r\\n\\tlet gen_unique_id = () => {\\r\\n\\t\\tgame.nonce++;\\t\\r\\n\\t\\treturn game.nonce;\\r\\n\\t};\\r\\n\\tlet performleaderrole = (callback=()=>{}) => getActPlyr().activerole.role.role.leader(callback);\\r\\n\\tlet performfollowerrole = (callback=null) => {\\r\\n\\t\\tgetActPlyr().activerole.set(game.players[game.leading_player_index].activerole.role);\\r\\n\\t\\tgetActPlyr().activerole.role.role.follower(callback);\\r\\n\\t};\\r\\n\\tlet explore_planet = (player)=>{\\r\\n\\t\\tlet planet = game.planet_deck.pop();\\r\\n\\t\\tplayer.limbo = [...player.limbo,{...planet,'finDest':'planetdeck'}];\\r\\n\\t\\tgame.options = [...game.options,planet];\\r\\n\\t};\\r\\n\\tlet catalog_planet = (player) => {\\r\\n\\t\\tgame.choices[0].finDest = 'unsetttled';\\r\\n\\t\\tplayer.unsettled_planets = [...player.unsettled_planets,game.choices[0]];\\r\\n\\t\\tplayer.limbo = player.limbo.filter(p=>p.id!=game.choices[0].id);\\r\\n\\t\\tplayer.limbo.filter(card => card.finDest=='planetdeck').forEach(planet=> discard(player.limbo,game.planet_deck,planet.id))\\r\\n\\t};\\r\\n\\tlet followcentercardrole = (choices, callback=null) => {\\r\\n\\t\\tlet card = choices[0];\\r\\n\\t\\tgetActPlyr().activerole.set(card);\\r\\n\\t\\tif (game.stacks.pilecount[card.type] >= 1){\\r\\n\\t\\t\\tgetActPlyr().bstIcons[card.type]++;\\r\\n\\t\\t\\tgetActPlyr().limbo.push(Object.assign({'id':gen_unique_id(), 'finDest':'discard'},game.stacks.rolecards[game.stacks[card.type]]));\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tgame.stacks.pilecount[card.type]--;\\r\\n\\t\\t}\\r\\n\\t\\tlet [,,...arr] = arguments;\\r\\n\\t\\tcallback(card,arr);\\r\\n\\t};\\r\\n\\tlet discardcardsfromhand = (choices, callback=null) => {\\r\\n\\t\\tif(choices[0].name!=\\\"Skip\\\"){\\r\\n\\t\\t\\tchoices.forEach(card=>discard(getActPlyr().hand, getActPlyr().discard, card.id));\\r\\n\\t\\t}\\r\\n\\t\\tlet [,,...arr] = arguments;\\r\\n\\t\\tcallback(choices,arr);\\r\\n\\t};\\r\\n\\tlet phasefinishfunction = (send = false) => {\\r\\n\\t\\tgame.currentphase = (game.currentphase + 1) % game.gamesequence.length; \\r\\n\\t\\tlet jsobj = game.gamesequence[game.currentphase];\\r\\n\\t\\tlet nextphase,msg;\\r\\n\\t\\tfor (let key in jsobj){\\r\\n\\t\\t\\tmsg = key\\r\\n\\t\\t\\tnextphase=jsobj[key];\\r\\n\\t\\t}\\r\\n\\t\\tif (game.nextphase !== endgame){\\r\\n\\t\\t\\tgame.nextphase = nextphase;\\r\\n\\t\\t\\tgame.messagetoplayer.push(msg);\\r\\n\\t\\t}\\r\\n\\t\\t\\r\\n\\t\\tif (send) sendstate();\\r\\n\\t\\tgame.nextphase();\\r\\n\\t};\\r\\n\\tlet gengamesequence = () => {\\r\\n\\t\\tlet _gamesequence=[];\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[0].start],_gamesequence);\\r\\n\\t\\t//ar. ra, aar, ara, raa\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[1].action],_gamesequence, ()=>{return getActPlyr().actionrolesequence=='aar'});\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[1].action],_gamesequence, ()=>{return getActPlyr().actionrolesequence=='aar' || getActPlyr().actionrolesequence=='ar'  });\\r\\n\\t\\t\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[2].role],_gamesequence);\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[3].lead],_gamesequence);\\r\\n\\t\\tfor (let i = 1; i<game.number_of_players; i++){\\r\\n\\t\\t\\t_gamesequence = gshelper([...game.gamephases[4].follow],_gamesequence);\\r\\n\\t\\t}\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[1].action],_gamesequence, ()=>{return getActPlyr().actionrolesequence=='raa' || getActPlyr().actionrolesequence=='ara'  });\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[1].action],_gamesequence, ()=>{return getActPlyr().actionrolesequence=='raa'});\\r\\n\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[5].discard],_gamesequence);\\r\\n\\t\\t_gamesequence = gshelper([...game.gamephases[6].cleanup],_gamesequence);\\r\\n\\t\\tgame.gamesequence = _gamesequence;\\r\\n\\t};\\r\\n\\tlet gshelper = (source_array, destination_array, wrapperfunction=false) => {\\r\\n\\t\\tfor (let i in source_array){\\r\\n\\t\\t\\tif (wrapperfunction){\\r\\n\\t\\t\\t\\tlet jsobj = source_array[i];\\r\\n\\t\\t\\t\\tlet func,key;\\r\\n\\t\\t\\t\\tlet item = {};\\r\\n\\t\\t\\t\\tfor (key in jsobj){\\r\\n\\t\\t\\t\\t\\tfunc=jsobj[key];\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\titem[key] = ()=>{\\r\\n\\t\\t\\t\\t\\tif (wrapperfunction()){\\r\\n\\t\\t\\t\\t\\t\\tfunc();\\r\\n\\t\\t\\t\\t\\t} else {\\r\\n\\t\\t\\t\\t\\t\\tfinish();\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\tdestination_array.push(item);\\r\\n\\t\\t\\t} else {\\r\\n\\t\\t\\t\\tdestination_array.push(source_array[i]);\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t\\treturn destination_array;\\r\\n\\t};\\r\\n\\tlet gennewdeck = () => {\\r\\n\\t\\tlet deck =  [\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.survey]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.survey]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.warfare]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.producetrade]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.producetrade]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.colonize]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.colonize]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.research]),\\r\\n\\t\\t\\tObject.assign({'id':gen_unique_id()}, game.stacks.rolecards[game.stacks.research]),\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\t'id':gen_unique_id(),\\r\\n\\t\\t\\t\\ttype : 'politics',\\r\\n\\t\\t\\t\\t'selected':false,\\r\\n\\t\\t\\t\\taction : (callback)=>{\\r\\n\\t\\t\\t\\t\\tlet callbackwrapper = ()=>{ \\t\\r\\n\\t\\t\\t\\t\\t\\tdocument.removeEventListener('choicemade',callbackwrapper);\\r\\n\\t\\t\\t\\t\\t\\tpolitics(getActPlyr().activeaction, game.choices[0], getActPlyr());\\r\\n\\t\\t\\t\\t\\t\\tcallback();\\r\\n\\t\\t\\t\\t\\t};\\t\\r\\n\\t\\t\\t\\t\\tgame.displayinfo.center_or_planets=true;\\r\\n\\t\\t\\t\\t\\tgame.displayinfo.selectionzone='rolecards';\\r\\n\\t\\t\\t\\t\\tgame.displayinfo.allowformultipleselections=false;\\r\\n\\t\\t\\t\\t\\tgame.displayinfo.showoptiontoskip=false;\\r\\n\\t\\t\\t\\t\\tgame.messagetoplayer.push('choose a card from the center row to add to your hand');\\r\\n\\t\\t\\t\\t\\tdocument.addEventListener('choicemade',callbackwrapper);\\r\\n\\t\\t\\t\\t\\tpresent_as_choice(game.stacks.rolecards);\\r\\n\\t\\t\\t\\t},\\r\\n\\t\\t\\t\\trole : null,\\r\\n\\t\\t\\t\\ticons : {'survey':0,'warfare':0,'colonize':0,'produce':0,'trade':0,'research':0,'politics':1},\\r\\n\\t\\t\\t\\tname : 'Politics',\\r\\n\\t\\t\\t\\timage : null\\r\\n\\t\\t\\t}\\r\\n\\t\\t];\\r\\n\\t\\treturn deck;\\r\\n\\t};\\r\\n\\tlet phaseincrement = () => game.currentphase++;\\r\\n\\tlet newgame = (number_of_players) => {\\r\\n\\t\\tlobby.online=true;\\r\\n\\t\\tinitgame(number_of_players);\\r\\n\\t\\tinitSocket(()=>ws.emit('message',jstr({'header':'newgame',game:game,sets:lobby.sets,number_of_players:game.players.length})));\\r\\n\\t\\t\\r\\n\\t};\\r\\n\\tlet initSocket = (func) => {\\r\\n\\t\\tlet ping = () => { setTimeout( () => { ws.emit('message',jstr({header:'ping'})); ping(); },2000); };\\r\\n\\t\\tws = io();\\r\\n\\t\\tws.on('connect',()=>{ log('connected');\\r\\n\\t\\t\\tws.on('id',(msg)=>{ log('id');\\r\\n\\t\\t\\t\\tlog(jprs(msg));\\r\\n\\t\\t\\t\\tgame = {...game,\\r\\n\\t\\t\\t\\t\\tgame_id:jprs(msg),\\r\\n\\t\\t\\t\\t\\thader:'',\\r\\n\\t\\t\\t\\t\\tcurrentphase:game.currentphase+1};\\r\\n\\t\\t\\t\\tlobby = {...lobby,\\r\\n\\t\\t\\t\\t\\texistinggames:[...lobby.existinggames, game],\\r\\n\\t\\t\\t\\t\\tonline:true};\\r\\n\\t\\t\\t\\tregisterws();\\r\\n\\t\\t\\t});\\r\\n\\t\\t\\tws.on('fetch',(msg)=>{ log('fetch');\\r\\n\\t\\t\\t\\tlog(jprs(msg));\\r\\n\\t\\t\\t\\tgame.currentphase = -1;\\r\\n\\t\\t\\t\\tlobby = {...lobby,\\r\\n\\t\\t\\t\\t\\texistinggames: jprs(msg).map(el=>el.game).filter(g=>g.players.filter(ll=>ll.available).length > 0),\\r\\n\\t\\t\\t\\t\\tonline:true}\\r\\n\\t\\t\\t});\\r\\n\\t\\t\\tws.on('enter',(msg)=>{ log('enter');\\r\\n\\t\\t\\t\\tlog(jprs(msg));\\r\\n\\t\\t\\t\\tgame = {...jprs(msg),phasse:game.phases,gamesequence:game.gamesequence};\\r\\n\\t\\t\\t\\tlobby = { ...lobby,\\r\\n\\t\\t\\t\\t\\tonline:true,\\r\\n\\t\\t\\t\\t\\tplayer_id:Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 10)\\r\\n\\t\\t\\t\\t};\\r\\n\\t\\t\\t});\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tws.on('join',(msg)=>{ log('join');\\r\\n\\t\\t\\t\\tmsg = jprs(msg);\\r\\n\\t\\t\\t\\tlog(msg);\\r\\n\\t\\t\\t\\tgame.players[msg.slot] = msg.player;\\r\\n\\t\\t\\t\\tlog('available slots: ', game.players.reduce((acc,cur)=>acc + (cur.available) ? 1 : 0,0));\\r\\n\\t\\t\\t\\tif (game.players.reduce((acc,cur)=>acc + (cur.available) ? 1 : 0,0) == 0) finish();\\r\\n\\t\\t\\t});\\r\\n\\t\\t\\tws.on('set',(msg)=>{ //log('set'); \\r\\n\\t\\t\\t\\tlog(jprs(msg));\\r\\n\\t\\t\\t\\tgame = {...jprs(msg),phasse:game.phases,gamesequence:game.gamesequence};\\r\\n\\t\\t\\t});\\r\\n\\t\\t\\tfunc();\\r\\n\\t\\t\\tping();\\r\\n\\t\\t})\\r\\n\\t}\\r\\n\\tlet fetchexistinggames = () => initSocket(()=> ws.emit('message',jstr({'header':'fetchexisting'})));\\r\\n\\tlet enterexistinggame = (g) => {\\r\\n\\t\\tlet slot = g.players.findIndex(p=>p.available);\\r\\n\\t\\tif (!lobby.init) initgame(g.number_of_players); \\r\\n\\t\\tws.emit('message',jstr({'header':'enterexisting',game_id:g.game_id,player_name:lobby.screename,slot:slot}));\\r\\n\\t};\\r\\n\\tlet sendstate = () => lobby.online && ws.emit('message',jstr({...game,'header':'set','sender':lobby.player_id}));\\r\\n\\tlet registerws = () => ws.emit('message',jstr({...game,'header':'register','sender':lobby.player_id}));\\r\\n\\tlet initgame = (number_of_players) => {\\r\\n\\t\\tgame.label = lobby.screenname;\\r\\n\\t\\tlobby.init=true;\\r\\n\\t\\tgenplanetdeck();\\r\\n\\t\\tfor (let i = 0; i < number_of_players; i++){\\r\\n\\t\\t\\tgenplayer(i);\\r\\n\\t\\t}\\r\\n\\t\\tgen_research_deck();\\r\\n\\t\\tgengamesequence();\\r\\n\\t\\tif (!lobby.online) {\\r\\n\\t\\t\\tgen_game_id();\\r\\n\\t\\t\\tgen_player_names();\\r\\n\\t\\t} \\r\\n\\t};\\r\\n\\tlet gen_player_names = () => game.players.forEach((plyr,i)=>plyr.name = 'Player '+(i+1));\\r\\n\\tlet toggle_center_or_planets = () => game.displayinfo.center_or_planets = !game.displayinfo.center_or_planets;\\r\\n\\tlet togglepasstoplayer = () => {\\r\\n\\t\\tgame.passtoplayer = !game.passtoplayer;\\r\\n\\t\\topenFullscreen();\\r\\n\\t};\\r\\n\\tlet class_gen = (zone, item) => (game.displayinfo.selectionzone==zone) ? ((item.selected) ? \\\"selected\\\" : \\\"selectable\\\" )  : \\\"bordered\\\";\\r\\n\\t\\r\\n\\tlet gen_game_id = () => {\\r\\n\\t\\tgame.game_id ='';\\r\\n\\t\\tgame.game_id += Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 10);\\r\\n\\t};\\r\\n\\tlet knuthshuffle = (array) => {\\r\\n\\t\\tlet currentIndex = array.length;\\r\\n\\t\\tlet temporaryValue, randomIndex;\\r\\n\\t\\t// While there remain elements to shuffle...\\r\\n\\t\\twhile (0 !== currentIndex) {\\r\\n\\t\\t\\t// Pick a remaining element...\\r\\n\\t\\t\\trandomIndex = Math.floor(Math.random() * currentIndex);\\r\\n\\t\\t\\tcurrentIndex -= 1;\\r\\n\\r\\n\\t\\t\\t// And swap it with the current element.\\r\\n\\t\\t\\ttemporaryValue = array[currentIndex];\\r\\n\\t\\t\\tarray[currentIndex] = array[randomIndex];\\r\\n\\t\\t\\tarray[randomIndex] = temporaryValue;\\r\\n\\t\\t}\\r\\n\\t\\treturn array;\\r\\n\\t};\\r\\n\\tlet drag = (evt,item) => () => game.displayinfo.dragged=item;\\r\\n\\tlet drop = (evt,zone) => () => {\\r\\n\\t\\tlet el = document.getElementById('playedcards').getBoundingClientRect();\\r\\n\\t\\tif (evt.changedTouches[0].clientX > el.left\\r\\n\\t\\t&& evt.changedTouches[0].clientX < el.left+ el.width\\r\\n\\t\\t&& evt.changedTouches[0].clientY < el.top+el.height\\r\\n\\t\\t&& evt.changedTouches[0].clientY > el.top){\\r\\n\\t\\t\\tif(game.displayinfo.dragged!==null) \\r\\n\\t\\t\\t\\tchoosewrapper(game.displayinfo.dragged,zone);\\r\\n\\t\\t\\tgame.displayinfo.dragged!=null;\\r\\n\\t\\t}\\r\\n\\t\\tlet ll = document.querySelector('#dragged');\\r\\n\\t\\tll.style.visibility=\\\"hidden\\\";\\r\\n\\t};\\r\\n\\tlet move = (evt, img) => () => {\\r\\n\\t\\tlet touch = evt.targetTouches[0];\\r\\n\\t\\t// Place element where the finger is\\r\\n\\t\\tlet el = document.querySelector('#dragged');\\r\\n\\t\\tel.style.position = \\\"absolute\\\";\\r\\n\\t\\tel.style.visibility=\\\"visible\\\";\\r\\n\\t\\tel.style.top = touch.pageY-75+'px';\\r\\n\\t\\tel.style.left = touch.pageX-50+'px';\\r\\n\\t\\tel.style.width = \\\"100px\\\";\\r\\n\\t\\tel.style.height = \\\"137px\\\";\\r\\n\\t\\tel.style.zIndex = \\\"4\\\";\\r\\n\\t\\tel.style.backgroundImage=\\\"url('\\\"+img+\\\"')\\\";\\r\\n\\t};\\r\\n\\tlet newoffline = () => {\\r\\n\\t\\tlobby.online=false;\\r\\n\\t\\tgame.currentphase = 0;\\r\\n\\t\\tinitgame(2);\\r\\n\\t\\tfinish();;\\r\\n\\t};\\r\\n\\tlet setplayername = (name) => {\\r\\n\\t\\tlobby.screename = name;\\r\\n\\t\\tphaseincrement();\\r\\n\\t};\\r\\n\\tlet openFullscreen = () => {\\r\\n\\t\\tlet elem = document.getElementById(\\\"screen\\\");\\r\\n\\t\\tif (elem.requestFullscreen) {\\r\\n\\t\\telem.requestFullscreen();\\r\\n\\t\\t} else if (elem.mozRequestFullScreen) { /* Firefox */\\r\\n\\t\\telem.mozRequestFullScreen();\\r\\n\\t\\t} else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */\\r\\n\\t\\telem.webkitRequestFullscreen();\\r\\n\\t\\t} else if (elem.msRequestFullscreen) { /* IE/Edge */\\r\\n\\t\\telem.msRequestFullscreen();\\r\\n\\t\\t}\\r\\n\\t};\\r\\n\\t\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n\\t.show {\\r\\n\\t\\t    position: absolute;\\r\\n\\t\\t\\ttop: 20vh;\\r\\n\\t\\t\\theight: 25vh;\\r\\n\\t\\t\\twidth: 25vh;\\r\\n\\t\\t\\tbackground: rgb(80,80,80);\\r\\n\\t\\t\\tborder-radius: 0% 50% 50% 0%;\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\talign-items: center;\\r\\n\\t\\t\\tjustify-content: center;\\r\\n\\t\\t\\tcolor:rgb(49, 158, 177);\\r\\n\\t\\t\\tz-index:2;\\r\\n\\t}\\r\\n\\t.player {\\r\\n\\t\\tborder-radius: 5vh;\\r\\n\\t\\tbackground: rgb(80,80,80);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\t\\r\\n\\t}\\r\\n\\t.stars {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 50%;\\r\\n\\tleft: 50%;\\r\\n\\twidth: 2px;\\r\\n\\theight: 2px;\\r\\n\\tbox-shadow: 686px 466px #d4d4d4, 630px 365px whitesmoke, 1140px 224px #ededed, 1048px 344px white, 857px 70px #e3e3e3, 651px 400px #dbdbdb, 431px -107px #d1d1d1, -144px 151px #d4d4d4, 139px 402px #f7f7f7, 1090px -160px #c9c9c9, 1489px 75px #d6d6d6, -404px -113px #e0e0e0, -94px -358px #fafafa, 692px -211px #fcfcfc, 1414px 403px #e3e3e3, 445px -469px whitesmoke, 437px -173px #cfcfcf, -1474px 79px #e8e8e8, 286px -370px #e3e3e3, -389px -74px #f2f2f2, -386px 230px #cccccc, 1289px -415px #f0f0f0, 566px 6px #d1d1d1, 645px 53px #f7f7f7, 90px -232px #d4d4d4, 868px 214px #dedede, 633px -126px #c4c4c4, -1432px -324px #c4c4c4, 486px -11px #f0f0f0, 1484px 338px #f2f2f2, 1496px -127px #e8e8e8, 587px -446px #f0f0f0, 695px -142px #e6e6e6, 1145px 14px #f0f0f0, 339px -36px #d4d4d4, 193px -337px #ebebeb, -1364px -453px #ebebeb, 287px -252px whitesmoke, 888px 94px #fafafa, 485px 148px #c4c4c4, -619px -26px #d6d6d6, -1016px -251px #c9c9c9, -369px -387px #e3e3e3, -87px -433px #f2f2f2, -128px 162px #ededed, 285px 468px #cfcfcf, -715px -447px #cfcfcf, 1124px -404px #d9d9d9, 1209px 248px #e6e6e6, 831px -459px #f7f7f7, -1320px 390px #fafafa, -416px 189px #ebebeb, -1445px -2px #d6d6d6, -765px -181px #e3e3e3, -217px -471px #ededed, 1283px 76px #e6e6e6, -718px -474px #e0e0e0, 198px -71px #dbdbdb, 1009px -200px #f2f2f2, -1418px 200px #d4d4d4, 1354px -349px #dedede, -934px 243px #cfcfcf, -116px 465px #e8e8e8, -314px 446px #c9c9c9, -338px -311px #dbdbdb, 307px 92px #fcfcfc, -1414px 412px #c4c4c4, -1296px 472px #fcfcfc, -787px -76px #e0e0e0, -398px 466px #dbdbdb, -532px 144px #d6d6d6, -1449px -143px #c7c7c7, 755px -101px #d9d9d9, 222px 355px #dbdbdb, -1145px -318px #d4d4d4, 355px -463px whitesmoke, -807px -336px white, -398px -471px #c4c4c4, -935px 152px #d4d4d4, 1082px 166px #d1d1d1, 456px -159px #dedede, -818px 270px #dbdbdb, 63px 270px white, 60px 3px #c9c9c9, 560px 173px whitesmoke, 1217px -292px #ebebeb, -913px -419px #c2c2c2, -790px -386px #e6e6e6, 988px -472px #cfcfcf, -318px -476px #f2f2f2, -179px -282px #f7f7f7, 1079px -27px #fafafa, -1179px -466px #cccccc, 322px -193px #c7c7c7, -545px -269px #cccccc, -1188px 318px #e0e0e0, 19px 227px #d9d9d9, -1141px -437px #d9d9d9, 475px 86px #cfcfcf, 93px 208px #fcfcfc, -734px -222px #fcfcfc, -487px 61px #ebebeb, 1136px 107px #d6d6d6, 211px -291px #ebebeb, -1003px 91px #c2c2c2, 1379px 462px #e8e8e8, -85px -412px #e8e8e8, 549px -129px #cfcfcf, -269px -428px #c4c4c4, -442px 281px #c2c2c2, -116px -186px #c2c2c2, -1092px 252px #e8e8e8, 598px -47px #c4c4c4, 599px 430px #e0e0e0, 946px 225px #e3e3e3, 994px -441px #c9c9c9, -265px 4px #d4d4d4, 1376px -454px #d9d9d9, -963px -224px white, -202px -223px #cfcfcf, 1005px -201px #e3e3e3, -659px -302px #f2f2f2, -325px 397px #c2c2c2, -44px -391px #c2c2c2, 228px -223px #dedede, -603px 221px #dedede, -147px -397px #c9c9c9, 75px -394px #d9d9d9, -308px 239px #f0f0f0, -807px -74px #dbdbdb, -857px -235px #f0f0f0, 1055px 465px #d9d9d9, 307px 252px #cccccc, -1249px 25px #d1d1d1, 669px 304px #dbdbdb, -738px -341px #f0f0f0, -1063px -20px #ebebeb, -1476px -271px #e8e8e8, -20px -415px #cccccc, -1010px 338px #d4d4d4, -166px -3px #cfcfcf, 129px 7px #e0e0e0, 618px 10px #ededed, -1481px -273px #f2f2f2, -965px -193px #c4c4c4, 1271px 431px #f2f2f2, 991px -315px #c4c4c4, -918px 270px #d1d1d1, -1172px -216px #ebebeb, 1483px 449px #dedede, 728px 104px #e6e6e6, 144px -366px white, -656px 42px #f2f2f2, -527px -371px #f7f7f7, 76px 231px #d1d1d1, 1073px -183px #ededed, 520px 120px #e3e3e3, -163px 16px #cccccc, -1367px 82px #d6d6d6, -484px -131px whitesmoke, 279px -435px #e8e8e8, 446px -149px #e0e0e0, -735px 379px #ededed, -794px -442px #f2f2f2, 1314px 452px #c2c2c2, -1146px -65px #d6d6d6, -6px -390px #fafafa, 524px -183px #cccccc, 641px -148px #e3e3e3, 827px -341px #dedede, 150px 150px #d4d4d4, -1206px 417px #cccccc, -86px -451px #d1d1d1, 1144px -22px #e0e0e0, -336px -144px #c2c2c2, 436px 173px #c2c2c2, 506px -318px #fafafa, 167px 90px #cccccc, 128px 220px #ebebeb, -344px 424px #c2c2c2, 609px 393px #fcfcfc, 298px 211px #c2c2c2, -595px -339px #cccccc, 1184px -338px #c7c7c7, -1149px 118px #dbdbdb, -891px 14px #ebebeb, 107px -419px #d9d9d9, -233px -330px #f0f0f0, -1457px 443px #dedede, -217px 86px #d4d4d4, 1142px 83px #c4c4c4, 623px 309px #f7f7f7, 503px -216px #e8e8e8, -989px -176px #ebebeb, -269px 291px #e3e3e3, 483px 22px #fcfcfc, 1290px 302px #cccccc, -1016px -273px #c7c7c7, -1426px -65px #e3e3e3, 162px -341px #c7c7c7, -103px 335px #dbdbdb, 944px -441px #e3e3e3, 1151px 163px #e8e8e8, -1110px -42px #cfcfcf, -901px 15px #c4c4c4, 179px 60px #dbdbdb, 695px -320px #e3e3e3, -923px -348px white, 1102px 373px #e0e0e0, -823px 154px whitesmoke, -695px 424px #f2f2f2, 1421px -336px #d9d9d9, -947px -471px #fcfcfc, 1267px -410px #fafafa, 140px -470px #d1d1d1, -931px -476px #d4d4d4, 650px -354px #c7c7c7, -838px -426px #dedede, 810px 339px #d1d1d1, -1405px 343px #d9d9d9, 183px -17px #e3e3e3, -1275px -237px #f2f2f2, -666px -74px white, -1155px 61px #e6e6e6, -1478px 48px #ebebeb, -146px 288px #f0f0f0, 936px -277px #e3e3e3, 770px 409px #d6d6d6, 935px 443px #c4c4c4, -616px -408px #f0f0f0, -97px -268px #c9c9c9, -6px -292px white, 10px 262px #ebebeb, 791px 438px #f2f2f2, 470px -34px #d6d6d6, 679px -298px #d6d6d6, 1271px -303px whitesmoke, 480px 166px #e0e0e0, -502px -241px #d9d9d9, 599px -435px #d1d1d1, 1317px 176px #c2c2c2, 1124px -126px #d6d6d6, 17px -358px #c2c2c2, 1364px 232px #cccccc, -1176px -248px #c2c2c2, 1178px -175px white, 84px -98px #c9c9c9, -494px 305px #cccccc, -464px 476px whitesmoke, 269px -250px #e3e3e3, -381px 59px #e3e3e3, 805px -247px #e8e8e8, 103px -60px #d6d6d6, -1368px -210px #f0f0f0, 304px 39px whitesmoke, 1189px 457px #d9d9d9, -1171px 447px #ebebeb, -1447px -25px #f2f2f2, -507px -347px #f7f7f7, 835px -473px #cfcfcf, 544px 133px #cccccc, -254px 36px #c9c9c9, -134px 4px #d9d9d9, -727px -88px #ededed, 200px 92px #f7f7f7, -1372px -93px #e6e6e6, -16px -17px #d1d1d1, 707px -152px #cfcfcf, -442px 311px #c4c4c4, -77px 112px #ebebeb, -1488px 226px #c2c2c2, -1151px 431px white, 1180px -95px #d6d6d6, -836px -263px #f2f2f2, -35px 327px #fafafa, 1242px -238px #e8e8e8, -679px -273px #c4c4c4, 296px 401px #cfcfcf, -724px 70px #f0f0f0, -1350px -171px #f0f0f0, 53px 113px whitesmoke, 1112px -207px #fafafa, 276px -437px #d9d9d9, 513px 429px whitesmoke, 30px 343px #cccccc, 60px 86px #dbdbdb, 654px -157px #f2f2f2, 970px 299px #cfcfcf, -1247px -264px #ebebeb, -697px 301px #c7c7c7, -205px 50px #ebebeb, -332px 192px #fcfcfc, 1077px -374px #c9c9c9, -856px -449px #e6e6e6, 313px 389px #fcfcfc, 262px -378px #c7c7c7, -801px -206px #c7c7c7, -330px -8px #f7f7f7, 284px 3px #cccccc, -1264px 478px #cccccc, 1458px -160px whitesmoke, -906px -225px #dedede, 503px -98px #c7c7c7, 93px -84px #dedede, 1201px -347px #f7f7f7, 580px 265px #e0e0e0, 1495px -157px whitesmoke, -100px -255px #e8e8e8, 214px 462px #ebebeb, 20px -185px #ededed, 1134px -381px #ededed, -1263px 281px #ebebeb, -748px 113px #ebebeb, -1371px -137px whitesmoke, 13px -13px #cfcfcf, 1116px 101px #e6e6e6, -139px -410px #c7c7c7, 258px -83px #c9c9c9, -1336px 351px #e6e6e6, 502px 1px #e0e0e0, 268px -269px #c2c2c2, -549px 50px #c9c9c9, 1191px -363px #c7c7c7, -117px -271px #f2f2f2, 287px 288px #dbdbdb, -78px -95px #fafafa, -567px 228px #cfcfcf, -911px -285px #c2c2c2, 1242px -257px #fafafa, 1304px 336px #ededed, -66px -117px #c4c4c4, -560px 198px #c9c9c9, -1229px -245px whitesmoke, -980px 144px #d1d1d1, -982px -453px #ebebeb, -1056px 272px #d4d4d4, -30px -247px #e8e8e8, -741px 456px #d6d6d6, -1467px 397px #f2f2f2, -1341px 134px #dbdbdb, 1226px -408px #cfcfcf, 995px 345px #c7c7c7, 564px 167px #e6e6e6, -333px 33px #f7f7f7, -1198px 433px #ebebeb, 1308px 356px #e3e3e3, 997px 286px #d1d1d1, 734px 213px #ebebeb, -1256px -173px whitesmoke, 847px -200px #cfcfcf, -751px 429px #dedede;\\r\\n\\tanimation: fly 3s linear infinite;\\r\\n\\ttransform-style: preserve-3d;\\r\\n\\t}\\r\\n\\t.stars:before, .stars:after {\\r\\n\\tcontent: \\\"\\\";\\r\\n\\tposition: absolute;\\r\\n\\twidth: inherit;\\r\\n\\theight: inherit;\\r\\n\\tbox-shadow: inherit;\\r\\n\\t}\\r\\n\\t.stars:before {\\r\\n\\ttransform: translateZ(-300px);\\r\\n\\tanimation: fade1 3s linear infinite;\\r\\n\\t}\\r\\n\\t.stars:after {\\r\\n\\ttransform: translateZ(-600px);\\r\\n\\tanimation: fade2 3s linear infinite;\\r\\n\\t}\\r\\n\\r\\n\\t@keyframes fly {\\r\\n\\tfrom {\\r\\n\\t\\ttransform: translateZ(0px);\\r\\n\\t}\\r\\n\\tto {\\r\\n\\t\\ttransform: translateZ(300px);\\r\\n\\t}\\r\\n\\t}\\r\\n\\t@keyframes fade1 {\\r\\n\\tfrom {\\r\\n\\t\\topacity: .5;\\r\\n\\t}\\r\\n\\tto {\\r\\n\\t\\topacity: 1;\\r\\n\\t}\\r\\n\\t}\\r\\n\\t@keyframes fade2 {\\r\\n\\tfrom {\\r\\n\\t\\topacity: 0;\\r\\n\\t}\\r\\n\\tto {\\r\\n\\t\\topacity: .5;\\r\\n\\t}\\r\\n\\t}\\r\\n\\r\\n\\t.pass {\\r\\n\\t\\tborder-radius:1vh;\\r\\n\\t\\theight: 50px;\\r\\n\\t\\tmin-width: 200px;\\r\\n\\t\\tbackground:rgb(80,80,80);\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t}\\r\\n\\t.messagetoplayer{\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tbackground: rgb(80,80,80);\\r\\n\\t\\tborder-radius: 5vh;\\r\\n\\t\\twidth: 60%;\\r\\n\\t\\tmargin-left: 20%;\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop:75%;\\r\\n\\t}\\r\\n\\t.selectable{\\r\\n\\t\\tborder: solid rgb(114, 210, 223);\\r\\n\\t\\tborder-width: 1px;\\r\\n\\t}\\r\\n\\t.selected{\\r\\n\\t\\tborder: solid rgb(50, 190, 132);\\r\\n\\t\\tborder-width: 1px;\\r\\n\\t}\\r\\n\\t.flex {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\r\\n\\t.playerinfo {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t\\tjustify-content:flex-start;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 10%;\\r\\n\\t}\\r\\n\\r\\n\\t.playingfield {\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\tmin-height:100vh;\\r\\n\\t\\tmin-width: 100vw;\\r\\n\\t\\tmin-height:100vh;\\r\\n\\t\\tmin-width: 100vw;\\r\\n\\t\\tbackground: radial-gradient(rgb(82,48,103), rgb(10,10,10));\\r\\n\\t\\tbackground-repeat: no-repeat;\\r\\n\\t\\tbackground-size: cover;\\r\\n\\t}\\r\\n\\t\\r\\n\\t.options, .talloptions{\\r\\n\\t\\tbackground-image: url(\\\"/images/embackground.png\\\");\\r\\n\\t\\tbackground-repeat: no-repeat;\\r\\n\\t\\tdisplay:flex; \\r\\n\\t\\tflex-direction:row; \\r\\n\\t\\tjustify-content: space-around;\\r\\n\\t\\tposition: absolute; \\r\\n\\t\\tright:10%;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\theight: 15%;\\r\\n\\t\\twidth:80%;\\r\\n\\t\\tfont-size: 150%;\\r\\n\\t}\\r\\n\\t.talloptions{\\r\\n\\t\\theight:30%;\\r\\n\\t}\\r\\n\\t.ownedcards{\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t\\theight:20%;\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop:80%;\\r\\n\\t}\\r\\n\\t.hand{\\r\\n\\t\\tmargin: auto;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t\\tmax-width: 90%;\\r\\n\\t\\tmax-height: 100%;\\r\\n\\t\\toverflow-x: scroll;\\r\\n\\t\\toverflow-y: hidden;\\r\\n\\t}\\r\\n\\t.deck, .discard {\\r\\n\\t\\tborder-radius: 3vh;\\r\\n\\t\\tmin-width: 19vh;\\r\\n\\t\\tmax-width: 19vh;\\r\\n\\t\\tbackground-repeat:no-repeat;\\r\\n\\t\\ttext-align:center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tfont-size: 6vh;\\r\\n\\t}\\r\\n\\t.deck{\\r\\n\\t\\tmargin-right:auto;\\r\\n\\t\\tbackground-image:url('../images/card-draw.svg');\\r\\n\\t}\\r\\n\\t.discard{\\r\\n\\t\\tmargin-left:auto;\\r\\n\\t\\tbackground-image:url('../images/card-burn.svg');\\r\\n\\t}\\r\\n\\t.zone {\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\toverflow-x: scroll;\\r\\n\\t\\toverflow-y: hidden;\\r\\n\\t\\tdisplay:flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t}\\r\\n\\t.centerrow{\\r\\n\\t\\theight:40%;\\r\\n\\t\\tposition:absolute;\\r\\n\\t\\ttop:15%;\\r\\n\\t}\\r\\n\\t.researchrow{\\r\\n\\t\\theight:40%;\\r\\n\\t}\\r\\n\\t.researchrow > div{\\r\\n\\t\\theight:95%;\\r\\n\\t}\\r\\n\\t.playedcards{\\r\\n\\t\\theight:20%;\\r\\n\\t\\toverflow-x:scroll;\\r\\n\\t\\tposition:absolute;\\r\\n\\t\\ttop:55%;\\r\\n\\t\\tjustify-content: flex-start;\\r\\n\\t}\\r\\n\\t.bordered{\\r\\n\\t\\tborder: solid #000;\\r\\n\\t\\tborder-width: 1px;\\r\\n\\t}\\r\\n\\t::-webkit-scrollbar { \\r\\n\\t\\tdisplay: none;  \\r\\n\\t}\\r\\n\\t.playercountselector > p {\\r\\n\\t\\theight:33%; \\r\\n\\t\\ttext-align: center; \\r\\n\\t\\tfont-size: 300%;\\r\\n\\t\\tbackground-color: rgb(34, 26, 59);\\r\\n\\t\\tborder: solid #000;\\r\\n\\t\\tborder-width: 1px;\\r\\n\\t}\\r\\n\\t.playercountselector > input {\\r\\n\\t\\theight:33%; \\r\\n\\t\\ttext-align: center; \\r\\n\\t\\twidth:100%;\\r\\n\\t\\tfont-size: 300%;\\r\\n\\t\\tbackground-color: rgb(34, 26, 59);\\r\\n\\t\\tborder: solid #000;\\r\\n\\t\\tborder-width: 1px;\\r\\n\\t\\tcolor: rgb(49, 158, 177);\\r\\n\\t\\tpadding: 0px;\\r\\n\\t\\tmargin:0px;\\r\\n\\t}\\r\\n\\t.passtoplayer{\\r\\n\\t\\theight:80%;\\r\\n\\t\\twidth:100%;\\r\\n\\t\\ttop:10%;\\r\\n\\t\\tborder: solid #000;\\r\\n\\t\\tborder-width: 1px;\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tfont-size: 300%;\\r\\n\\t\\tcolor:white;\\r\\n\\t\\tbackground-color: rgb(34, 26, 59);\\r\\n\\r\\n\\t}\\r\\n</style>\\r\\n{#if mounted}\\r\\n\\t{#if game.currentphase==-4}\\r\\n\\t<div class=\\\"playercountselector\\\">\\r\\n\\t\\t<p> Choose your Screen Name</p>\\t\\r\\n\\t\\t<input type=\\\"text\\\" bind:value={lobby.screenname} on:keypress={(e)=>{if(e.key=='Enter') setplayername(lobby.screenname)} }>\\r\\n\\t\\t<p on:click=\\\"{()=>setplayername(lobby.screenname)}\\\" on:tap=\\\"{()=>setplayername(lobby.screenname)}\\\">Finished</p>\\r\\n\\t</div>\\r\\n\\t{:else if game.currentphase==-3}\\r\\n\\t<div class=\\\"playercountselector\\\">\\r\\n\\t\\t<p on:click=\\\"{()=>phaseincrement()}\\\" on:tap=\\\"{()=>phaseincrement()}\\\">Start a New Online Game</p>\\r\\n\\t\\t<p on:click=\\\"{()=>fetchexistinggames()}\\\" on:tap=\\\"{()=>fetchexistinggames()}\\\">Join an Existing Online Game</p>\\r\\n\\t\\t<p on:click=\\\"{()=>newoffline()}\\\" on:tap=\\\"{()=>newoffline()}\\\">Start a New Offline Game</p>\\r\\n\\t</div>\\r\\n\\t{:else if game.currentphase==-2}\\r\\n\\t<div class=\\\"playercountselector\\\">\\r\\n\\t\\t<p> Choose your Game's number of Players</p>\\r\\n\\t\\t<p on:click={(e) => newgame(2)} on:tap={(e) => newgame(2)}>2</p>\\r\\n\\t\\t<p on:click={(e) => newgame(3)} on:tap={(e) => newgame(3)}>3</p>\\r\\n\\t\\t<p on:click={(e) => newgame(4)} on:tap={(e) => newgame(4)}>4</p>\\r\\n\\t</div>\\r\\n\\t{:else if game.currentphase==-1}\\r\\n\\t\\t<div class=\\\"playercountselector\\\">\\r\\n\\t\\t\\t<p>Choose a Game to Join</p>\\r\\n\\t\\t\\t{#each lobby.existinggames as g}\\r\\n\\t\\t\\t\\t<p on:click=\\\"{()=>enterexistinggame(g)}\\\" on:tap=\\\"{()=>enterexistinggame(g)}\\\">{g.label+\\\"'s Game\\\"}</p>\\r\\n\\t\\t\\t{/each}\\r\\n\\t\\t</div>\\r\\n\\t{:else if game.passtoplayer && !lobby.online}\\r\\n\\t\\t<div class='passtoplayer' on:click=\\\"{()=>togglepasstoplayer()}\\\" on:tap=\\\"{()=>togglepasstoplayer()}\\\">\\r\\n\\t\\t\\tpass to next player\\r\\n\\t\\t</div>\\r\\n\\t{:else if !!game.winner}\\r\\n\\t\\t<div class='passtoplayer'>\\r\\n\\t\\t\\t{game.winner} WON!!!!\\r\\n\\t\\t</div>\\r\\n\\t{:else}\\r\\n\\t\\t<div class='stars'></div>\\r\\n\\t\\t<div id=\\\"screen\\\" style=\\\"height:100%;width:100%;\\\" class=\\\"flex\\\">\\r\\n\\t\\t\\t{#each game.players as player}\\r\\n\\t\\t\\t\\t{#if game.players[game.acting_player_index]!==undefined && ((lobby.screenname==player.name && lobby.online) || (game.players[game.acting_player_index].id==player.id && !lobby.online)) }\\r\\n\\t\\t\\t\\t\\t<div class=\\\"bordered playingfield\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div id='dragged'></div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"playerinfo bordered\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{#each game.players as p}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"width:{100/game.number_of_players}%\\\" class=\\\"flex player {(game.players[game.acting_player_index] !== undefined && p.name == game.players[game.acting_player_index].name) ? 'selectable' : 'bordered'}\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"width:33%; text-align: center;\\\"> Military Might {p.starfighters.small}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"width:33%; text-align: center;\\\"> Galactic Influence {p.influence.length}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"width:33%; text-align: center;\\\"> {p.name}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- <div style=\\\"width:100%; text-align: center;\\\" class=\\\"bordered\\\"> Remaining Influence throughout the Galaxy {game.influence.length}</div> -->\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<!-- stacks / planets toggle -->\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"show\\\" on:click={()=>toggle_center_or_planets()} on:tap={()=>toggle_center_or_planets()}>\\r\\n\\t\\t\\t\\t\\t\\t\\tshow {(game.displayinfo.center_or_planets) ? \\\"planets\\\" : \\\"center row\\\"}\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<!-- stacks -->\\r\\n\\t\\t\\t\\t\\t\\t{#if game.displayinfo.selectionzone=='research'}\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"zone researchrow\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{#each game.research_deck as card (card.id)}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Card on:click=\\\"{()=>choosewrapper(card,'research')}\\\" on:tap=\\\"{()=>choosewrapper(card,'research')}\\\" selectable={(game.displayinfo.selectionzone=='research')} {card}/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t{:else if game.displayinfo.center_or_planets}\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"flex zone centerrow\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{#each game.stacks.rolecards as card (card.name)}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Card {card} selectable={game.displayinfo.selectionzone=='rolecards'} pilecount=\\\"{game.stacks.pilecount[card.type]}\\\" on:click=\\\"{()=>choosewrapper(card,'rolecards')}\\\" on:tap=\\\"{()=>choosewrapper(card,'rolecards')}\\\" on:touchmove=\\\"{(event)=>move(event, '/images/'+card.type+'.png','rolecards')}\\\" on:touchstart=\\\"{(event)=>drag(event,card,'rolecards')}\\\" on:touchend=\\\"{(event)=>drop(event,'rolecards')}\\\"/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t\\t{#if !game.displayinfo.center_or_planets}\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"flex zone centerrow\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{#each player.unsettled_planets as planet (planet.id)}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<PlanetCard planet={planet} on:click={()=>choosewrapper(planet,'unsettled_planets')} on:tap={()=>choosewrapper(planet,'unsettled_planets')}/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{#each [...player.settled_planets, ...player.conquered_planets] as planet (planet.id)}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<PlanetCard planet={planet} selected={game.displayinfo.selectionzone=='settled_&_conquered_planets'} on:click={()=>choosewrapper(planet,'settled_&_conquered_planets')} on:tap={()=>choosewrapper(planet,'settled_&_conquered_planets')} />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t\\t<!-- played cards-->\\r\\n\\t\\t\\t\\t\\t\\t<div id=\\\"playedcards\\\" class=\\\"flex zone playedcards\\\" >\\r\\n\\t\\t\\t\\t\\t\\t\\t{#if game.displayinfo.showoptiontoskip}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <img src='./images/o.svg' alt='o' style=\\\"margin-right:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>choose([{name:'Skip'}])}\\\" on:tap=\\\"{()=>choose([{name:'Skip'}])}\\\"/> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"margin-right:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>choose([{name:'Skip'}])}\\\" on:tap=\\\"{()=>choose([{name:'Skip'}])}\\\">[Choose None]</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t\\t\\t<!-- <img src='./images/o.svg' alt='o' style=\\\"margin-right:auto\\\" class=\\\"bordered pass\\\" /> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"margin-right:auto\\\" class=\\\"bordered pass\\\">[____]</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t\\t\\t{#each game.players[game.acting_player_index].limbo as card (card.id)}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<Card mini={true} on:click={()=>unchoose(card)} on:tap={()=>unchoose(card)} {card}/>\\r\\n\\t\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t\\t\\t{#if game.passp }\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <img src='./images/x.svg' alt='x' style=\\\"margin-left:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>pass_priority()}\\\"on:tap=\\\"{()=>pass_priority()}\\\"/> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"margin-left:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>pass_priority()}\\\"on:tap=\\\"{()=>pass_priority()}\\\">[Pass to <br> Next Player]</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t{:else if game.passt}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <img src='./images/x.svg' alt='x' style=\\\"margin-left:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>pass_turn()}\\\" on:tap=\\\"{()=>pass_turn()}\\\"/> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"margin-left:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>pass_turn()}\\\" on:tap=\\\"{()=>pass_turn()}\\\">[End Turn]</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t{:else if game.displayinfo.allowformultipleselections && game.choices.length>0}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <img src='./images/x.svg' alt='x' style=\\\"margin-left:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>choose(game[game.displayinfo.choicelabel])}\\\" on:tap=\\\"{()=>choose(game[game.displayinfo.choicelabel])}\\\"/> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div style=\\\"margin-left:auto\\\" class=\\\"selectable pass\\\" on:click=\\\"{()=>choose(game[game.displayinfo.choicelabel])}\\\" on:tap=\\\"{()=>choose(game[game.displayinfo.choicelabel])}\\\">[Choose Selected]</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <img src='./images/x.svg' alt='x' style=\\\"margin-left:auto\\\" class=\\\"bordered pass\\\" /> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bordered pass\\\" >[______]</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"messagetoplayer bordered\\\">{game.messagetoplayer[game.messagetoplayer.length-1]}</div>\\r\\n\\t\\t\\t\\t\\t\\t<!-- hand -->\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"flex zone ownedcards\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class='bordered deck'>{player.deck.length}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class='hand'>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{#each player.hand as card (card.id)}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<Card card={card} mini={true} selectable={game.displayinfo.selectionzone=='hand'} on:touchstart={(event)=>drag(event, card,'hand')} on:touchend={(event)=>drop(event,'hand')} on:touchmove={(event)=>move(event, card.imgurl,'hand')} on:click={()=>{log(card);choosewrapper(card,'hand');}} on:tap={()=>choosewrapper(card,'hand')} />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"bordered discard\\\">{player.discard.length}</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t{/each}\\r\\n\\t\\t\\t<!-- game.options -->\\r\\n\\t\\t\\t{#if game.displayinfo.selectionzone=='options'}\\r\\n\\t\\t\\t\\t<div class=\\\"{( game.options[0] !== undefined && game.options[0].type !== undefined) ? 'talloptions' : 'options'}\\\">\\r\\n\\t\\t\\t\\t\\t{#each game.options as option (option.name)}\\r\\n\\t\\t\\t\\t\\t\\t{#if option.type !== undefined}\\r\\n\\t\\t\\t\\t\\t\\t\\t<PlanetCard planet={option} selectable={game.displayinfo.selectionzone=='options'} on:click={()=>choosewrapper(option,'options')} on:tap={()=>choosewrapper(option,'options')}/>\\r\\n\\t\\t\\t\\t\\t\\t\\t<PlanetCard planet={{...option,settled:true}} selectable={game.displayinfo.selectionzone=='options'} on:click={()=>choosewrapper(option,'options')} on:tap={()=>choosewrapper(option,'options')}/>\\r\\n\\t\\t\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"pass {(game.displayinfo.selectionzone=='options') ? ( (option.selected) ? 'selected' : 'selectable' ): 'bordered'}\\\" on:click=\\\"{()=>choosewrapper(option,'options')}\\\" on:tap=\\\"{()=>choosewrapper(option,'options')}\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{option.name}\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t</div>\\r\\n\\t{/if}\\r\\n{/if}\"],\"names\":[],\"mappings\":\"AAk4DC,KAAK,4BAAC,CAAC,AACF,QAAQ,CAAE,QAAQ,CACrB,GAAG,CAAE,IAAI,CACT,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CACzB,aAAa,CAAE,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAC5B,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,MAAM,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACvB,QAAQ,CAAC,AACX,CAAC,AACD,OAAO,4BAAC,CAAC,AACR,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CACzB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,AACpB,CAAC,AACD,MAAM,4BAAC,CAAC,AACR,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,CACX,UAAU,CAAE,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,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\"}"
};

const App = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let game,
		lobby,
		corephases,
		actioncardphases,
		mounted = false,
		ws,
		jstr = JSON.stringify;

	beforeUpdate(() => {
		
	});

	afterUpdate(() => {
		console.log(getActPlyr());
	}); // console.log('hand',game.players[0].hand.reduce((acc,cur) => acc+cur.name,''));
	// let card = game.players[0].hand[0];
	// console.log('removing ',card.name);
	// handToLimbo(game.players[0],card);

	// console.log('hand',game.players[0].hand.reduce((acc,cur) => acc+cur.name,''));
	onMount(() => {
		////////////////////////////////////////////////////////////////////////////////
		corephases = [
			/*colonize:*/
			{
				actn: [
					genActionPhase("Choose between Settling or Colonizing a Planet", ["colonize"], wrappedOffer(["Colonize", "Settle Colonies"])),
					genActionPhase("Choose an Unsettled Planet to Settle", ["colonize"], () => offer(false, false, ["unsettled_planets"], "subchoices"), ["Settle Colonies"]),
					genActionPhase("Settling your Planet", ["colonize"], () => settle_colonies(getSubChoice(), getActPlyr()), ["Settle Colonies"]),
					genActionPhase("Choose an Unsettled Planet to Colonize", ["colonize"], () => offer(false, false, ["unsettled_planets"], "subchoices"), ["Colonize"]),
					genActionPhase(
						"Colonizing your Planet",
						["colonize"],
						() => {
							colonize(getSubChoice(), getActPlyr().limbo, getActPlyr().limbo.filter(el => el.type == "colonize")[0]);
							finish(true);
						},
						["Colonize"]
					)
				],
				lead: [
					genLeadPhase("Choose between Settling or Colonizing a Planet", ["colonize"], wrappedOffer(["Colonize", "Settle Colonies"])),
					genLeadPhase("Choose an Unsettled Planet to Settle", ["colonize"], () => offerUnsettled(), ["Settle Colonies"]),
					genLeadPhase(
						"Settling your Planet",
						["colonize"],
						() => {
							settle_colonies(getSubChoice(), getActPlyr());
							finish();
						},
						["Settle Colonies"]
					),
					genLeadPhase("Choose an Unsettled Planet to Colonize", ["colonize"], () => offerUnsettled(), ["Colonize"]),
					genLeadPhase(
						"Colonizing your Planet",
						["colonize"],
						() => {
							if (getSubChoice().name == "Skip") finish();
							let planet = getSubChoice();
							if (planet.hosted_colonies.reduce((acc, cur) => acc + cur.icons.colonize, 0) >= planet.settle_cost) colonize(planet, getActPlyr().limbo, getActPlyr().limbo.filter(el => el.type == "colonize")[0]);
							finish(true);
						},
						["Colonize"]
					)
				],
				fllw: [
					genFollowPhase("Choose between Settling or Colonizing a Planet", ["colonize"], () => {
						if (0 == getActPlyr().permanents.filter(e => "bureaucracy" == e.type).length) {
							game.choices = [{ name: "Colonize" }];
							finish(!0);
						} else simpleOffer(["Colonize", "Settle Colonies"]);
					}),
					genFollowPhase("Choose an Unsettled Planet to Settle", ["colonize"], () => offerUnsettled(), ["Settle Colonies"]),
					genFollowPhase(
						"Settling your Planet",
						["colonize"],
						() => {
							settle_colonies(getSubChoice(), getActPlyr());
							finish(!0);
						},
						["Settle Colonies"]
					),
					genFollowPhase("Choose an Unsettled Planet to Colonize", ["colonize"], () => offerUnsettled(), ["Colonize"]),
					genFollowPhase(
						"Colonizing your Planet",
						["colonize"],
						() => {
							let planet = getSubChoices().find(planet => planet.hosted_colonies.reduce((acc, cur) => acc + cur.icons.colonize) >= planet.settle_cost);
							colonize(planet, getActPlyr().limbo, getActPlyr().limbo.filter(el => el.type == "colonize")[0]);
							finish(true);
						},
						["Colonize"]
					)
				],
				clnp: []
			},
			/*/producetrade:/*/
			{
				actn: [
					genActionPhase("Choose between Producing or Trading Resources", ["producetrade"], wrappedOffer(["produce", "trade"])),
					genActionPhase("Choose a Planet to Produce Resources on", ["producetrade"], () => offer(false, false, ["settled_&_conquered_planets"], "subchoices"), ["produce"]),
					genActionPhase(
						"Producing a Resource",
						["producetrade"],
						() => {
							produce(getSubChoices());
							finish(true);
						},
						["produce"]
					),
					genActionPhase("Choose a Planet to Trade Resources from", ["producetrade"], () => offer(false, false, ["settled_&_conquered_planets"], "subchoices"), ["trade"]),
					genActionPhase(
						"Trading a Resource",
						["producetrade"],
						() => {
							trade(getSubChoices(), getActPlyr());
							finish();
						},
						["trade"]
					)
				],
				lead: [
					genLeadPhase("Choose between Producing or Trading Resources", ["producetrade"], () => offer(false, false, ["options", [{ name: "produce" }, { name: "trade" }]], "choices")),
					genLeadPhase("Choose a Planet to Produce Resources on", ["producetrade"], () => offer(true, true, ["settled_&_conquered_planets"], "subchoices"), ["produce"]),
					genLeadPhase(
						"Producing a Resource",
						["producetrade"],
						() => {
							getActPlyr().activerole = "produce";
							let prd = produce(getSubChoices(), getActPlyr().bstIcons.produce);

							if (getActvActn() == "genetic_engineering") prd.forEach(plyr => plyr = [
								...plyr,
								{
									influence: [...plyr.influence, game.influence.pop()]
								}
							]);

							finish(true);
						},
						["produce"]
					),
					genLeadPhase("Choose a Planet to Trade Resources from", ["producetrade"], () => offer(true, true, ["settled_&_conquered_planets"], "subchoices"), ["trade"]),
					genLeadPhase(
						"Trading a Resource",
						["producetrade"],
						() => {
							getActPlyr().activerole = "trade";
							let prd = trade(getSubChoices(), getActPlyr(), getActPlyr().bstIcons.trade);

							if (getActvActn() == "diverse_markets") {
								for (let i in prd) {
									if (prd[i] > 1) {
										getActPlyr().influence.push(game.influence.pop());
									}
								}
							}

							if (getActvActn() == "specialization") {
								for (let i in Array.from(prd[getActPlyr().specialization])) {
									//what on earth is this doing?
									getActPlyr().influence.push(game.influence.pop());
								}
							}

							finish(true);
						},
						["trade"]
					)
				],
				fllw: [
					genFollowPhase("Choose a Planet to Produce Resources on", ["produce"], () => offer(!0, !0, ["settled_&_conquered_planets"], "subchoices")),
					genFollowPhase("Producing a Resource", ["produce"], () => {
						let e = game;
						getActPlyr().activerole = "produce";
						produce(e.subchoices, e.players[game.acting_player_index].bstIcons.produce);
						finish(!0);
					}),
					genFollowPhase("Choose a Planet to Trade Resources from", ["trade"], () => offer(!0, !0, ["settled_&_conquered_planets"], "subchoices")),
					genFollowPhase("Trading a Resource", ["trade"], () => {
						let e = game;
						getActPlyr().activerole = "trade";
						trade(e.subchoices, getActPlyr(), getActPlyr().bstIcons.trade);
						finish(!0);
					})
				],
				clnp: []
			},
			/*/politics:/*/
			{
				actn: [
					genActionPhase("Choose a Role Card to Replace Politics with", ["politics"], () => offer(false, false, ["rolecards"], "choices")),
					genActionPhase("Swapping the Role Card for your Politics Card", ["politics"], () => {
						politics(getActPlyr().limbo.filter(el => el.type == "politics")[0], getChoices()[0], getActPlyr());
						finish(true);
					})
				],
				lead: [],
				fllw: [],
				clnp: []
			},
			/*/research:/*/
			{
				actn: [
					genActionPhase("Choose up to 2 Cards from your Hand to Remove from the Game", ["research"], () => offer(false, true, ["hand"], "choices")),
					genActionPhase("Removing your Cards from the Game", ["research"], () => {
						research(getChoices(), getActPlyr());
						finish(true);
					})
				],
				lead: [
					genLeadPhase("Choose a Technology to Research", ["research"], () => offer(true, false, ["research"], "choices")),
					genLeadPhase("Researching your Technology", ["research"], () => {
						if (getChoice() == "Skip") {
							finish(true);
							return;
						}

						let card = getChoices()[0];
						let p = { advanced: 0, metallic: 0, fertile: 0 };
						[...getActPlyr().settled_planets, ...getActPlyr().conquered_planets].map(el => p[el.type]++);
						let condition = Object.values(card.planet_requirements).reduce((acc, cur, i) => acc ? cur > p[Object.keys(p)[i]] : acc, true);

						if (condition && getActPlyr().bstIcons.research >= card.research_cost) play(
							game.research_deck,
							card.is_permanent
							? getActPlyr().permanents
							: getActPlyr().limbo,
							card.is_permanent ? "" : "discard",
							card.id
						);

						finish(true);
					})
				],
				fllw: [
					genFollowPhase("Choose a Technology to Research", ["research"], () => offer(!0, !1, ["research"], "choices")),
					genFollowPhase("Researching your Technology", ["survey"], () => {
						let e = game;

						if ("Skip" != e.choices[0].name) {
							let a = { advanced: 0, metallic: 0, fertile: 0 };

							[
								...e.players[game.acting_player_index].settled_planets,
								...e.players[game.acting_player_index].conquered_planets
							].map(e => {
								a[e.type]++;
							});

							let p = !0;
							for (let i in e.choices[0].planet_requirements) e.choices[0].planet_requirements[i] > a[i] && (p = !1);
							p && e.players[game.acting_player_index].bstIcons.research >= e.choices[0].research_cost && play(e.research_deck, e.players[game.acting_player_index].limbo, "discard", e.choices[0].id);
						}

						finish(!0);
					})
				],
				clnp: []
			},
			/*/survey:/*/
			{
				actn: [
					genActionPhase("Surveying your Empire", ["survey"], () => {
						survey(getActPlyr());
						finish(true);
					})
				],
				lead: [
					genLeadPhase("Choose a Planet from your Galaxy to Explore", ["survey"], () => {
						for (let i = 0; i < getActPlyr().bstIcons.survey; i++) {
							explore_planet(getActPlyr());
						}

						offer(true, false, ["options", game.options], "choices");
					}),
					genLeadPhase("Surveying your Empire", ["survey"], () => {
						if (getChoice() == "Skip") finish();
						catalog_planet(getActPlyr());
						finish(true);
					})
				],
				fllw: [
					genFollowPhase("Choose a Planet from your Galaxy to Explore", ["survey"], () => {
						let e = game;
						for (let a = 0; a < e.players[game.acting_player_index].bstIcons.survey - 1; a++) explore_planet(e.players[game.acting_player_index]);
						offer(!0, !1, ["options"], "choices");
					}),
					genFollowPhase("Surveying your Empire", ["survey"], () => {
						if (getChoice() == "Skip") finish();
						catalog_planet(game.players[game.acting_player_index]);
						finish(!0);
					})
				],
				clnp: [
					{
						"": () => {
							
						}
					}
				]
			},
			/*/warfare:/*/
			{
				actn: [
					genActionPhase("Choose between Collecting a Starfighter or Conquering a Planet", ["warfare"], wrappedOffer(["Conquer a Planet", "Collect a Starfighter"])),
					genActionPhase(
						"Adding a Starfighter to your Fleet",
						["warfare"],
						() => {
							warfare(getActPlyr());
							finish(true);
						},
						["Collect a Starfighter"]
					),
					genActionPhase("Choose a Planet to Conquer", ["warfare"], () => offer(false, false, ["unsettled_planets"], "subchoices"), ["Conquer a Planet"]),
					genActionPhase(
						"Conquering your planet",
						["warfare"],
						() => {
							conquer(getSubChoice(), getActPlyr());
							finish(true);
						},
						["Conquer a Planet"]
					)
				],
				lead: [
					genLeadPhase("Choose between Collecting Starfighters or Conquering a Planet", ["warfare"], wrappedOffer(["Conquer a Planet", "Collect Starfighters"])),
					genLeadPhase(
						"Adding Starfighters to your Fleet",
						["warfare"],
						() => {
							range(1, getActPlyr().bstIcons.warfare).forEach(() => warfare(getActPlyr()));
							finish(true);
						},
						["Collect Starfighters"]
					),
					genLeadPhase("Choose a Planet to Conquer", ["warfare"], () => offerUnsettled(), ["Conquer a Planet"]),
					genLeadPhase(
						"Conquering your planet",
						["warfare"],
						() => {
							conquer(getSubChoice(), getActPlyr());
							finish(true);
						},
						["Conquer a Planet"]
					)
				],
				fllw: [
					genFollowPhase("Choose between Collecting Starfighters or Conquering a Planet", ["warfare"], () => {
						if (0 == game.players[game.acting_player_index].permanents.filter(e => "bureaucracy" == e.type).length) {
							let e = game;
							e.choices = [{ name: "Collect Starfighters" }];
							finish(!0);
						} else offer(
							!1,
							!1,
							[
								"options",
								[{ name: "Conquer a Planet" }, { name: "Collect Starfighters" }]
							],
							"choices");
					}),
					genFollowPhase(
						"Adding Starfighters to your Fleet",
						["warfare"],
						() => {
							for (let e = 0; e < game.players[game.acting_player_index].bstIcons.warfare; e++) warfare(game.players[game.acting_player_index]);
							finish(!0);
						},
						["Collect Starfighters"]
					),
					genFollowPhase("Choose a Planet to Conquer", ["warfare"], () => offer(!1, !1, ["unsettled_planets"], "subchoices"), ["Conquer a Planet"]),
					genFollowPhase(
						"Conquering your planet",
						["warfare"],
						() => {
							conquer(game.subchoices[0], game.players[game.acting_player_index]);
							finish(!0);
						},
						["Conquer a Planet"]
					)
				],
				clnp: [
					{
						"": () => {
							
						}
					}
				]
			}
		];

		actioncardphases = [
			// #######################################################################################################################################################################################
			// improved_colonize 
			genActionPhase("Choose wether or not to Settle a Planet", ["improved_colonize"], () => offer(true, false, ["options", [{ name: "settle" }, { name: "Skip" }]], "choices")),
			genActionPhase("Choose a Planet to Settle", ["improved_colonize"], () => offerUnsettled(), ["settle"]),
			genActionPhase(
				"Settling your Planet",
				["improved_colonize"],
				() => {
					settle_colonies(getSubChoice(), getActvPlyr());
					finish(true);
				},
				["settle"]
			),
			genActionPhase("Choose between Settling or Colonizing a Planet", ["improved_colonize"], wrappedOffer(["Colonize", "Settle Colonies"])),
			genActionPhase("Choose an Unsettled Planet to Settle", ["improved_colonize"], () => offerUnsettled(), ["Settle Colonies"]),
			genActionPhase(
				"Settling your Planet",
				["improved_colonize"],
				() => {
					settle_colonies(getSubChoice(), getActPlyr());
					finish(true);
				},
				["Settle Colonies"]
			),
			genActionPhase("Choose an Unsettled Planet to Colonize", ["improved_colonize"], () => offerUnsettled(), ["Colonize"]),
			genActionPhase(
				"Colonizing your Planet",
				["improved_colonize"],
				() => {
					colonize(getSubChoice(), getActPlyr().limbo, getActPlyr().limbo.filter(el => el.type == "improved_colonize")[0]);
					finish(true);
				},
				["Colonize"]
			),
			// #######################################################################################################################################################################################
			// improved_produce : 4
			genActionPhase("Choose an empty Production Zone to Produce in", ["improved_production"], () => offer(true, false, ["settled_&_conquered_planets"], "choices")),
			genActionPhase("Producing your Resource", ["improved_production"], () => {
				if (getChoice() == "Skip") finish();
				produce(game.choices);
				finish(true);
			}),
			genActionPhase("Choose an empty Production Zone to Produce in", ["improved_production"], () => offer(true, false, ["settled_&_conquered_planets"], "choices")),
			genActionPhase("Producing your Resource", ["improved_production"], () => {
				if (getChoice() == "Skip") finish();
				produce(game.choices);
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// improved_trade : 1
			genActionPhase("Trading your Stocks and Bonds", ["improved_trade"], () => {
				game.players[game.acting_player_index].influence.push(game.influence.pop());
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// improved_research : 2
			genActionPhase("Choose up to 3 Cards from your Hand to Remove from the Game", ["improved_research"], () => {
				draw(getActPlyr());
				offer(false, true, ["hand"], "choices");
			}),
			genActionPhase("Removing your Cards from the Game", ["improved_research"], () => {
				research(getChoices(), getActPlyr(), 3);
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// improved_survey : 1
			genActionPhase("Drawing your Cards", ["improved_survey"], () => {
				draw(getActPlyr());
				draw(getActPlyr());
				draw(getActPlyr());
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// improved_warfare : 4
			genActionPhase("Choose between Collecting a Starfighter or Conquering a Planet", ["improved_warfare"], wrappedOffer("Conquer a Planet")),
			genActionPhase(
				"Adding a Starfighter to your Fleet",
				["improved_warfare"],
				() => {
					warfare(getActPlyr());
					warfare(getActPlyr());
					finish(true);
				},
				["Collect a Starfighter"]
			),
			genActionPhase("Choose a Planet to Conquer", ["improved_warfare"], () => offerUnsettled(), ["Conquer a Planet"]),
			genActionPhase(
				"Conquering your planet",
				["improved_warfare"],
				() => {
					conquer(getSubChoice(), getActPlyr());
					finish(true);
				},
				["Conquer a Planet"]
			),
			// #######################################################################################################################################################################################
			// mobilization : 4
			genActionPhase("Collecting your Star Fighters", ["mobilization"], () => {
				warfare(getActPlyr());
				warfare(getActPlyr());
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// survey_team : 1
			genActionPhase("Adding Top Card of the Planet deck to your Empire", ["survey_team"], () => {
				let { game, game: { acting_player: player, planet_deck } } = get();
				player = game.players[game.acting_player_index];
				let planet = planet_deck.pop();
				player.unsettled_planets.push(planet);
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// war_path : 4
			genActionPhase("Choose a Planet to Conquer", ["war_path"], () => offerUnsettled()),
			genActionPhase("Conquering your planet", ["war_path"], () => {
				if (getChoice() == "Skip") finish();
				conquer(getChoice(), getActPlyr());
				finish(true);
			}),
			genActionPhase("Choose a Planet to Conquer", ["war_path"], () => offerUnsettled()),
			genActionPhase("Conquering your planet", ["war_path"], () => {
				if (getChoice() == "Skip") finish();
				conquer(getChoice(), getActPlyr());
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// terraforming : 2
			genActionPhase("Choose an Unsettled Planet to Terraform", ["terraforming"], () => offerUnsettled()),
			genActionPhase(
				"Terraforming your Planet",
				["terraforming"],
				() => {
					colonize(getChoice(), getActPlyr().limbo, getActPlyr().limbo.filter(el => el.type == "terraforming")[0]);

					if (getChoice().hosted_colonies.length > 0) {
						let c = getChoice().hosted_colonies.reduce((acc, cur) => acc + cur.icons.colonize, 0);
						if (c >= getChoice().settle_cost) settle_colonies(getChoice(), getActPlyr());
					}

					finish(true);
				},
				["Colonize"]
			),
			// #######################################################################################################################################################################################
			// genetic_engineering :1
			// UNIMPLIMENTED
			genActionPhase("Engineering Genetics", ["genetic_engineering"], finish),
			// #######################################################################################################################################################################################
			// artificial_intelligence : 4
			genActionPhase("Select a Role Card to take into your Hand", ["artificial_intelligence"], () => offer(false, false, ["rolecards"], "choices")),
			genActionPhase("Adding Role Card to your Machine Learning Model", ["artificial_intelligence"], () => {
				let { game, game: { acting_player: player } } = get();
				player = game.players[game.acting_player_index];

				if (game.stacks.pilecount[game.choices[0].type] >= 1) {
					player.hand.push(Object.assign({ id: gen_unique_id() }, game.stacks.rolecards[game.stacks[game.choices[0].type]]));
					game.stacks.pilecount[game.choices[0].type]--;
				}

				finish(true);
			}),
			genActionPhase("Select a Role Card to take into your Hand", ["artificial_intelligence"], () => offer(false, false, ["rolecards"], "choices")),
			genActionPhase("Adding Role Card to your Machine Learning Model", ["artificial_intelligence"], () => {
				let { game, game: { acting_player: player } } = get();
				player = game.players[game.acting_player_index];

				if (game.stacks.pilecount[game.choices[0].type] >= 1) {
					player.hand.push(Object.assign({ id: gen_unique_id() }, game.stacks.rolecards[game.stacks[game.choices[0].type]]));
					game.stacks.pilecount[game.choices[0].type]--;
				}

				finish(true);
			}),
			// #######################################################################################################################################################################################
			// diverse_markets : 1
			// UNIMPLIMENTED
			genActionPhase("Diversifying Markets", ["diverse_markets"], finish),
			// #######################################################################################################################################################################################
			// specialization : 2
			genActionPhase("Choose a Resource to Specialize in", ["specialization"], wrappedOffer("red")),
			genActionPhase("Specializaing in your Seleted Resource", ["specialization"], () => {
				getActPlyr().specialization = getChoice();
				finish(true);
			}),
			// #######################################################################################################################################################################################
			// data_network : 3
			genActionPhase("Drawing Your Cards", ["data_network"], () => {
				draw(getActPlyr());
				draw(getActPlyr());
				finish(true);
			}),
			genActionPhase("Choose any number of Cards from your Hand to Remove from the Game", ["data_network"], () => offer(true, true, ["hand"], "choices")),
			genActionPhase("Removing the Selected Cards from the Game", ["data_network"], () => {
				if (getChoice() == "Skip") finish();
				let { game, game: { choices, acting_player: player } } = get();
				player = game.players[game.acting_player_index];
				research(choices, player, choices.length);
				finish(true);
			})
		];

		let nonce = 0;

		game = {
			minPlyrs: 2,
			maaxPlyrs: 4,
			passtoplayer: false,
			nonce: 0,
			displayinfo: {
				selectionzone: "",
				dragged: null,
				showoptiontoskip: false,
				allowformultipleselections: false,
				center_or_planets: true, //true = center, false = planets
				choicelabel: "choices"
			},
			subchoices: [],
			influence: [
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1
			],
			messagetoplayer: ["Waiting for other players to join"],
			options: [],
			planet_deck: [],
			currentphase: -4,
			leading_player_index: 0,
			acting_player_index: 0,
			number_of_players: 2,
			started: false,
			gamephases: [
				{
					start: [
						{
							"set active player": () => {
								if (game.started) {
									game.started = true;
									game.passt = false;
									game.leading_player_index = (game.leading_player_index + 1) % game.number_of_players;
									game.acting_player_index = game.leading_player_index;
									game.leadingplayer = game.players[game.leading_player_index];
									game.acting_player = game.players[game.leading_player_index];
									openFullscreen();
								}

								if (game.leadingplayer !== undefined) {
									game.players[game.leading_player_index].rounds++;
								}

								let planets = [
									...game.players[game.leading_player_index].settled_planets,
									...game.players[game.leading_player_index].conquered_planets
								];

								for (let p in planets) {
									tallyIcons(game.players[game.leading_player_index], planets[p]);
								}

								for (let p in game.players[game.leading_player_index].permanents) {
									tallyIcons(game.players[game.leading_player_index], permanents[p]);
								}

								finish(true);
							}
						},
						{
							Productivity: () => {
								if (getActPlyr().permanents.filter(el => el.type == "productivity").length != 0) {
									getActPlyr().actionrolesequence = "aar";
								}

								finish();
							}
						},
						{
							"Choose an Order to Perform Your Action and Role Phases": () => {
								if (getActPlyr().permanents.filter(el => el.type == "logistics").length != 0) {
									let options = ["Action Phase then Role Phase", "Role Phase then Action Phase"];

									if (getActPlyr().permanents.filter(el => el.type == "productivity").length != 0) {
										//add aar,ara,and raa as options
										options.push("Action Phase then another Action Phase then Role Phase");

										options.push("Action Phase then Role Phase then another Action Phase");
										options.push("Role Phase then Action Phase then another Action Phase");
									}

									//offer ar or ra
									simpleOffer(options);
								} else {
									finish();
								}
							}
						},
						{
							Logistics: () => {
								if (getActPlyr().permanents.filter(el => el.type == "logistics").length != 0) {
									if (getChoice() == "Action Phase then Role Phase") {
										getActPlyr().actionrolesequence = "ar";
									} else if (getChoice() == "Role Phase then Action Phase") {
										getActPlyr().actionrolesequence = "ra";
									} else if (getChoice() == "Action Phase then another Action Phase then Role Phase") {
										getActPlyr().actionrolesequence = "aar";
									} else if (getChoice() == "Action Phase then Role Phase then another Action Phase") {
										getActPlyr().actionrolesequence = "ara";
									} else if (getChoice() == "Role Phase then Action Phase then another Action Phase") {
										getActPlyr().actionrolesequence = "raa";
									}

									finish(true);
								} else {
									finish();
								}
							}
						}
					]
				},
				{
					action: [
						{
							"Choose an Action to Play": () => {
								offer(true, false, ["hand"], "choices");
							}
						},
						{
							"Playing your Action": () => {
								if (getChoice() == "Skip") {
									finish();
								} else {
									let card = getChoices()[0], plyr = getActPlyr();
									plyr.activeaction = card.type;
									handToLimbo(plyr, card);
									finish(true);
								}
							}
						},
						...getActionCorePhases(),
						...getActionCardPhases()
					]
				},
				{
					role: [
						{
							"Choose a Role Card to Lead with": () => {
								offer(false, false, ["rolecards"], "choices");
							}
						},
						{
							"Performing your Role": () => {
								let card = getChoices()[0];

								if (game.stacks.pilecount[card.type] >= 1) {
									if (card.type == "producetrade") {
										getActPlyr().bstIcons["produce"]++;
										getActPlyr().bstIcons["trade"]++;
									} else {
										getActPlyr().bstIcons[card.type]++;
									}

									let newcard = Object.assign(
										{
											id: gen_unique_id(),
											finDest: "discard",
											selected: true
										},
										game.stacks.rolecards[game.stacks[card.type]]
									);

									getActPlyr().limbo = [...getActPlyr().limbo, newcard];
									game.stacks.pilecount[card.type]--;
								} else if (card.type != "colonize") {
									getActPlyr().bstIcons[card.type]++;
								}

								getActPlyr().activerole = card.type;
								finish(true);
							}
						}
					]
				},
				{
					lead: [
						{
							"Choose cards from your hand to Boost the effectiveness of your Role": () => {
								offer(true, true, ["hand"], "choices");
							}
						},
						{
							"Boosting your Role": () => {
								if (getChoice() == "Skip") {
									finish();
								} else {
									getChoices().forEach(card => {
										boostWithIcons(getActPlyr(), card);
										card.finDest = "discard";
									});

									//TODO: tally up icons on planets
									//TODO: tally up icons on technologies
									finish(true);
								}
							}
						},
						...getLeadCorePhases(),
						{
							"Pass the device to the Next Player": () => {
								game.displayinfo.selectionzone = "";
								game.passp = true;
							}
						},
						{
							"You passed Priority": () => {
								game.passp = false;
								finish(true);
							}
						}
					]
				},
				{
					follow: [
						{
							"Choose between Following or Dissent the Leading Role": () => {
								simpleOffer(["dissent", getLeadPlyr().activerole]);
							}
						},
						{
							Dissenting: () => {
								getActPlyr().activerole = getChoice();

								if (getActPlyr().activerole != "dissent") {
									let card = getChoices()[0];

									if (game.stacks.pilecount[card.name] >= 1) {
										getActPlyr().bstIcons[card.name]++;

										let newcard = Object.assign(
											{
												id: gen_unique_id(),
												finDest: "discard",
												selected: true
											},
											game.stacks.rolecards[game.stacks[card.name]]
										);

										getActPlyr().limbo = [...getActPlyr().limbo, newcard];
										game.stacks.pilecount[card.name]--;
									} else if (card.name != "colonize") {
										boostWithIcons(getActPlyr(), card);
									}

									finish(true);
								} else {
									draw(getActPlyr());

									if (getActPlyr().permanents.filter(el => el.type == "dissension").length != 0) {
										draw(getActPlyr());
									}

									finish(true);
								}
							}
						},
						{
							"Choose cards from your hand to Boost the effectiveness of your Role": () => {
								if (getActPlyr().activerole == "dissent") {
									finish(); //will auto pass to next phase if follow has been selected
								} else {
									offer(true, true, ["hand"], "choices");
								}
							}
						},
						{
							"Boosting your Role": () => {
								if (getActPlyr().activerole == "dissent") {
									finish();
								} else {
									if (getChoice() == "Skip") {
										finish();
									} else {
										let cards = getChoices;

										for (let i in cards) {
											boostWithIcons(getActPlyr(), cards[i]);
										}

										//TODO: tally up icons on planets
										//TODO: tally up icons on technologies
										finish(true);
									}
								}
							}
						},
						...getFollowCorePhases(),
						{
							"Pass the device to the Next Player": () => {
								game.displayinfo.selectionzone = "";
								game.passp = true;
							}
						},
						{
							"You passed Priority": () => {
								game.passp = false;
								finish(true);
							}
						}
					]
				},
				// discard : 2
				{
					discard: [
						{
							"Would you like to Mobilize against a Planet": () => {
								if (getActPlyr().activeaction != "mobilization") {
									finish();
								} else {
									offer(true, false, ["options", [{ name: "mobilize" }, { name: "skip" }]], "choices");
								}
							}
						},
						{
							"Choose a Planet to Mobilize Against": () => {
								if (getActPlyr().activeaction != "mobilization" || getChoice() != "mobilize") {
									finish();
								} else {
									offerUnsettled();
								}
							}
						},
						{
							"Mobalizing against your Planet": () => {
								if (getActPlyr().activeaction != "mobilization") {
									finish();
								} else {
									conquer(getSubChoice(), getActPlyr());
									finish(true);
								}
							}
						},
						{
							"Would you like to Streamline Your Empire": () => {
								if (getActPlyr().permanents.filter(el => el.type == "streamlining").length == 0) {
									finish();
								} else {
									offer(
										false,
										false,
										[
											"options",
											[{ name: "Decline" }, { name: "Streamline Empire" }]
										],
										"choices");
								}
							}
						},
						{
							"Choose a Card from Your Hand to Remove from the Game": () => {
								if (getActPlyr().permanents.filter(el => el.type == "streamlining").length == 0 || getChoice() != "Streamline Empire") {
									finish();
								} else {
									offer(true, false, ["hand"], "subchoices");
								}
							}
						},
						{
							"Streamlining Your Empire": () => {
								if (getActPlyr().permanents.filter(el => el.type == "streamlining").length == 0 || getChoice() != "Streamline Empire" || getChoice() == "Skip") {
									finish();
								} else {
									research(getChoices(), getActPlyr(), 1);
								}
							}
						},
						{
							"Would you like to Utilize Your Empire's Hyperefficiency": () => {
								if (getActPlyr().permanents.filter(el => el.type == "hyperefficiency").length == 0) {
									finish();
								} else {
									simpleOffer(["Decline", "Utilize Hyperefficiency"]);
								}
							}
						},
						{
							"Choose a Card from Your Hand to Remove from the Game": () => {
								if (getActPlyr().permanents.filter(el => el.type == "hyperefficiency").length == 0 || getChoice() != "Utilize Hyperefficiency") {
									finish();
								} else {
									offer(true, true, ["hand"], "subchoices");
								}
							}
						},
						{
							"Your Empire is Hyperefficient": () => {
								if (getActPlyr().permanents.filter(el => el.type == "hyperefficiency").length == 0 || getChoice() != "Utilize Hyperefficiency" || getChoice() == "Skip") {
									finish();
								} else {
									research(getChoices(), getActPlyr(), getChoices().length);
								}
							}
						},
						{
							"Choose any Cards you would like to Discard": () => {
								offer(true, true, ["hand"], "choices");
							}
						},
						{
							"Discarding your Selected Cards": () => {
								if (getChoice() == "Skip") {
									finish();
								} else {
									getChoices().forEach(card => {
										getActPlyr().discard = [...getActPlyr().discard, card];
										getActPlyr().limbo = getActPlyr().limbo.filter(c => c.id != card.id);
									});

									finish(true);
								}
							}
						}
					]
				},
				//cleanup : 1
				{
					cleanup: [
						{
							"Drawing up to your Hand Size": () => {
								cleanup();
								let handsize = getActPlyr().handsize;

								for (let index in getActPlyr().settled_planets) {
									handsize += getActPlyr().settled_planets[index].handsize_modifier;
								}

								for (let index in getActPlyr().conquered_planets) {
									handsize += getActPlyr().conquered_planets[index].handsize_modifier;
								}

								let l = getActPlyr().hand.length;

								if (l < handsize) {
									draw(getActPlyr(), handsize - l);
								}

								game.players.forEach(resetIconBoost);

								if (game.started && checkforendgame() && game.players.reduce((t, p) => t + p.rounds, 0) % game.number_of_players == 0) {
									totalinfluence();
									game.nextphase = endgame;
								}

								finish(true);
							}
						},
						{
							"Pass the device to the Next Player": () => {
								game.displayinfo.selectionzone = "";
								game.displayinfo.showoptiontoskip = false;
								game.displayinfo.allowformultipleselections = false;
								game.passp = false;
								game.passt = true;
							}
						},
						{
							"You passed the Turn": () => {
								game.passt = false;
								finish(true);
							}
						}
					]
				}
			],
			players: [],
			winner: false,
			stacks: {
				pilecount: {
					research: 20,
					producetrade: 16,
					colonize: 20,
					warfare: 16,
					survey: 20
				},
				survey: 0,
				warfare: 1,
				colonize: 2,
				producetrade: 3,
				research: 4, //indexes
				rolecards: [
					genEmptyCard("survey", "Survey", { survey: 1 }),
					genEmptyCard("warfare", "Warfare", { warfare: 1 }),
					genEmptyCard("colonize", "Colonize", { colonize: 1 }),
					genEmptyCard("producetrade", "Produce / Trade", { produce: 1, trade: 1 }),
					genEmptyCard("research", "Research", { research: 1 }, { research_deck: [] })
				]
			}
		};

		let url = location.origin.replace(/^http/, "ws");

		lobby = {
			screenname: "",
			url,
			sets: ["Base Game"],
			number_of_players: [2, 3, 4],
			existinggames: []
		};

		game.nonce = nonce;
		mounted = true;
	});

	///////////////////////////////////////////////////////////////////////////////
	let offerUnsettled = () => offer(false, false, ["unsettled_planets"], "subchoices"),
		getActionCardPhases = () => actioncardphases,
		getActvActn = () => getActPlyr().activeaction,
		getActvRole = () => getActPlyr().activerole,
		getChoice = () => game.choices[0].name,
		getChoices = () => game.choices,
		getSubChoice = () => getSubChoices()[0],
		getSubChoices = () => game.subchoices,
		finish = (cond = false) => phasefinishfunction(cond),
		getActPlyr = () => game.players[game.acting_player_index],
		getLeadPlyr = () => game.players[game.leading_player_index],
		simpleOffer = choices => offer(false, false, ["options", choices.reduce((acc, cur) => [...acc, { name: cur }], [])], "choices"),
		wrappedOffer = choices => () => simpleOffer(choices),
		getActionCorePhases = () => corephases.reduce((acc, cur) => [...acc, cur.actn], []).reduce((acc, cur) => [...acc, ...cur], []),
		getLeadCorePhases = () => corephases.reduce((acc, cur) => [...acc, cur.lead], []).reduce((acc, cur) => [...acc, ...cur], []),
		getFollowCorePhases = () => corephases.reduce((acc, cur) => [...acc, cur.fllw], []).reduce((acc, cur) => [...acc, ...cur], []),
		genActionPhase = (name, actions, phase, choices = [], cond = false) => ({
			[name]: () => {
				if (actions.includes(getActvActn()) && (choices.length == 0 || choices.includes(getChoice()))) {
					phase();
				} else {
					finish(cond);
				}
			}
		}),
		genLeadPhase = (name, actions, phase, choices = [], cond = false) => ({
			[name]: () => {
				if (actions.includes(getActvRole()) && (choices.length == 0 || choices.includes(getChoice()))) {
					phase();
				} else {
					finish(cond);
				}
			}
		}),
		genFollowPhase = (name, actions, phase, choices = [], cond = false) => ({
			[name]: () => {
				if (actions.includes(getActvRole()) && (choices.length == 0 || choices.includes(getChoice()))) {
					phase();
				} else {
					finish(cond);
				}
			}
		}),
		genEmptyCard = (type, name, symbols, extras = {}) => ({
			type,
			selected: false,
			name,
			selected: false,
			icons: {
				...{
					survey: 0,
					warfare: 0,
					colonize: 0,
					produce: 0,
					trade: 0,
					research: 1
				},
				...symbols
			},
			image: null,
			...extras
		}),
		tallyIcons = (dest, src) => ["survey", "warfare", "trade", "produce", "research"].forEach(icon => dest.icons[icon] += src.icons[icon]),
		handToLimbo = (plyr, card) => {
			playToField("limbo", plyr, card, "discard");
			rmFromField("hand", plyr, card);
		},
		playToField = (fld, plyr, card, fDest) => plyr[fld] = [...plyr[fld], { ...card, finDest: fDest }],
		rmFromField = (fld, plyr, card) => plyr[fld] = plyr[fld].filter(el => card.id != el.id),
		boostWithIcons = (plyr, src) => Object.keys(src.icons).forEach(icon => plyr.bstIcons[icon] += src.icons[icon]),
		resetIconBoost = plyr => plyr.bstIcons = {
			survey: 0,
			warfare: 0,
			colonize: 0,
			produce: 0,
			trade: 0,
			research: 0
		},
		displayPlanets = () => game.displayinfo.center_or_planets = false,
		displayCenter = () => game.displayinfo.center_or_planets = true,
		clearChoices = () => game[game.displayinfo.choicelabel] = [],
		setDisplayInfo = (zone, multiple, skippable, label) => game.displayinfo = {
			...game.displayinfo,
			...{
				selectionzone: zone,
				allowformultipleselections: multiple,
				showoptiontoskip: skippable,
				choicelabel: label
			}
		},
		getAllCards = plyr => [...plyr.deck, ...plyr.discard, ...plyr.limbo, ...plyr.hand],
		chkForPerm = perm => getActPlyr().permanents.filter(el => el.type == perm).length != 0,
		range = (min, max) => min <= max ? [...range(min, max - 1), max] : [],
		produceTradeHelper = (filled, planets, resources, func = () => {
				
			}) => {
			let prd = { blue: 0, green: 0, purple: 0, red: 0 };

			planets.forEach(planet => planet.production_zones.forEach(zone => {
				if (!zone.filled && resources > 0) {
					zone.filled = filled;
					prd[zone.type]++;
					resources--;
					func();
				}
			}));

			return prd;
		};

	let offer = (skippable, multiple, [field_label, choices], choice_label, callback) => {
		setDisplayInfo(field_label, multiple, skippable, choice_label); /*option to skip | sets game.displayinfo.showoptiontoskip=boolean */ /*allows multiple choices | sets game.displayinfo.allowformultipleselections=boolean */ /* available cards to choose from | game.displayinfo.selectionzone={'hand|discard|options|planets|research|rolecards'}, sets choices=array if specified*/ /* label for where the choice is stored | set with game[label]=*/ /*callback that handles the choice or finishes the phase*/

		switch (field_label) {
			case "hand":
				choices = getActPlyr().hand;
				break;
			case "research":
				choices = game.research_deck;
				break;
			case "discard":
				choices = getActPlyr().discard;
				break;
			case "planets":
				choices = game.planet_deck;
				break;
			case "rolecards":
				choices = game.stacks.rolecards;
				displayCenter();
				break;
			case "unsettled_planets":
				choices = getActPlyr().unsettled_planets;
				displayPlanets();
				break;
			case "settled_planets":
				choices = getActPlyr().settled_planets;
				displayPlanets();
				break;
			case "conquered_planets":
				choices = getActPlyr().conquered_planets;
				displayPlanets();
				break;
			case "settled_&_conquered_planets":
				choices = [...getActPlyr().settled_planets, ...getActPlyr().conquered_planets];
				displayPlanets();
				break;
		}

		clearChoices();
		present_as_choice(choices);
		sendstate();
	};

	let discard = (source_array, destination_array, id) => {
		let toRemove = source_array.find(e => id == e.id);
		source_array = source_array.filter(e => e.id != toRemove.id);
	};

	//draw deck->hand
	let totalinfluence = () => {
		game.players.forEach(plyr => {
			plyr.influence = plyr.influence.reduce((acc, cur) => acc + cur, 0) + getAllCards(plyr).reduce((acc, cur) => acc + cur.influence);
		});
	};

	let endgame = () => {
		//display victor
		let scores = game.players.map(e => e.influence);

		let winner = "";
		let highest = scores[0];

		game.players.map(e => {
			if (highest < e.influence) {
				winner = e.name;
				highest = e.influence;
			}
		});
	};

	let checkforendgame = () => {
		let depletedstacks = game.stacks.pilecount.reduce((acc, cur) => acc + (cur < 1) ? 1 : 0, 0);

		let stacklimit = game.number_of_players == 1 || game.number_of_players == 2
		? 1
		: 2;

		return stacklimit <= depletedstacks || game.influence.length == 0;
	};

	let draw = (player, quantity = 1) => {
		for (let i = 0; i < quantity; i++) {
			if (player.deck.length == 0) {
				if (player.discard.length == 0) return player;
				player.deck = knuthshuffle([...player.discard]);
				player.discard = [];
			}

			player.hand = [...player.hand, player.deck.pop()];
			player.deck = player.deck;
		}

		return player;
	};

	let play = (source_array, destination_array, finDest, id) => {
		let toRemove = source_array.find(e => id == e.id);
		source_array = source_array.filter(e => e.id != toRemove.id);
	};

	let cleanup = () => {
		getActPlyr().limbo.forEach(card => {
			getActPlyr()[card.finDest] = [...getActPlyr()[card.finDest], card];
		});
	};

	let remove_from_game = (source_array, toRemove) => {
		//remove_from_game hand->exile\
		toRemove.finDest = "exile";

		return source_array.filter(e => e.id != toRemove.id);
	};

	let present_as_choice = options => game.options = options;

	let settle_colonies = (planet, plyr) => {
		let planets = [...plyr.settled_planets, ...plyr.conquered_planets];
		let reduction = [...planets, ...getLeadPlyr().permanents].reduce((acc, cur) => acc + cur.icons.colonize, 0);

		if (planet.settle_cost - reduction <= planet.hosted_colonies.length) {
			if (chkForPerm("abundance") && planet.production_zones.length != 0) {
				planet.production_zones = planet.production_zones.map(pz => {
					return { type: pz.type, filled: true };
				});
			}

			plyr.discard = [...plyr.discard, ...planet.hosted_colonies];
			planet.hosted_colonies = [];
			planet.settled = true;
			discard(plyr.unsettled_planets, plyr.settled_planets, planet.id);
		}
	};

	//produce poduction_pile->host
	let produce = (planets, resources = 1) => produceTradeHelper(true, planets, resources);

	//trade host->production_pile, influence_pile->player_influence
	//let trade = (planets, player, resources=1) => produceTradeHelper(false,planets,resources,()=>player.influence.push(game.influence.pop()));
	let trade = (plnt, plyr, res) => {
		let prd = { blue: 0, green: 0, purple: 0, red: 0 };
		if (res < 1) return prd;

		for (let i = 0; i < plnt.length; i++) {
			for (let j = 0; j < plnt[i].production_zones.length; j++) {
				if (res > 0 && plnt[i].production_zones[j].filled) {
					if (game.influence.length != 1) game.influence = game.influence.slice(1);
					plnt[i].production_zones[j].filled = false;
					prd[plnt[i].production_zones[j].type]++;
					plyr.influence = [...plyr.influence, 1];
					res--;
				}
			}
		}

		return prd;
	};

	//politics hand->limbo->exile, stacks->hand
	let politics = (politics_card, card, player) => {
		politics_card.finDest = "exile";

		if (game.stacks.pilecount[card.type] >= 1) {
			player.hand = [
				...player.hand,
				{
					...game.stacks.rolecards[game.stacks[card.type]],
					"id": gen_unique_id()
				}
			];

			game.stacks.pilecount[card.type]--;
		}
	};

	//research hand->exile
	let research = (cards, player, limit = 2) => {
		for (let i = 0; i < cards.length && i < limit; i++) {
			getActPlyr().limbo = remove_from_game(getActPlyr().limbo, cards[i]);
		}
	};

	//survey deck->hand
	let survey = player => player = draw(player, 2);

	//colonize hand/limbo->host
	let colonize = (planet, source_array, card, isRole = false) => {
		let l = isRole ? getActPlyr().bstIcons.colonize : 1;

		for (let i = 0; i < l; i++) {
			let toRemove = source_array.find(e => card.type == e.type && e.finDest != "exile");
			planet.hosted_colonies = [...planet.hosted_colonies, toRemove];
			source_array = source_array.filter((e, i) => e.id != toRemove.id);
		}
	};

	//warfare starship_pile->player_starship_pile
	let warfare = player => player.starfighters.small++;

	//conquer player_starship_pile->starship_pile, player_unconquered_planets->player_conquered_planets
	let conquer = (planet, player) => {
		if (chkForPerm("scorched_earth_policy")) {
			planet.production_zones = [];
			planet.conquer_cost -= 2;

			if (planet.conquer_cost < 0) {
				planet.conquer_cost = 0;
			}
		}

		if (player.starfighters.small >= planet.conquer_cost) {
			if (chkForPerm("abundance")) {
				if (planet.production_zones.length != 0) {
					planet.production_zones = planet.production_zones.map(pz => {
						return { type: pz.type, filled: true };
					});
				}
			}

			player.starfighters.small -= planet.conquer_cost;
			planet = select_via_id(player.unsettled_planets, planet.id);
			planet.conquered = true;
			player.conquered_planets.push(planet);
		}
	};

	let select_via_id = (source, id) => {
		let temp = source.find(p => p.id == id);
		source = source.filter(p => p.id != id);
		return temp;
	};

	let gen_unique_id = () => {
		game.nonce++;
		return game.nonce;
	};

	let explore_planet = player => {
		let planet = game.planet_deck.pop();
		player.limbo = [...player.limbo, { ...planet, "finDest": "planetdeck" }];
		game.options = [...game.options, planet];
	};

	let catalog_planet = player => {
		game.choices[0].finDest = "unsetttled";
		player.unsettled_planets = [...player.unsettled_planets, game.choices[0]];
		player.limbo = player.limbo.filter(p => p.id != game.choices[0].id);
		player.limbo.filter(card => card.finDest == "planetdeck").forEach(planet => discard(player.limbo, game.planet_deck, planet.id));
	};

	let phasefinishfunction = (send = false) => {
		game.currentphase = (game.currentphase + 1) % game.gamesequence.length;
		let jsobj = game.gamesequence[game.currentphase];
		let nextphase, msg;

		for (let key in jsobj) {
			msg = key;
			nextphase = jsobj[key];
		}

		if (game.nextphase !== endgame) {
			game.nextphase = nextphase;
			game.messagetoplayer.push(msg);
		}

		if (send) sendstate();
		game.nextphase();
	};

	let sendstate = () => lobby.online && ws.emit("message", jstr({
		...game,
		"header": "set",
		"sender": lobby.player_id
	}));

	let knuthshuffle = array => {
		let currentIndex = array.length;
		let temporaryValue, randomIndex;

		// While there remain elements to shuffle...
		while (0 !== currentIndex) {
			// Pick a remaining element...
			randomIndex = Math.floor(Math.random() * currentIndex);

			currentIndex -= 1;

			// And swap it with the current element.
			temporaryValue = array[currentIndex];

			array[currentIndex] = array[randomIndex];
			array[randomIndex] = temporaryValue;
		}

		return array;
	};

	let openFullscreen = () => {
		let elem = document.getElementById("screen");

		if (elem.requestFullscreen) {
			elem.requestFullscreen();
		} else if (elem.mozRequestFullScreen) {
			/* Firefox */
			elem.mozRequestFullScreen();
		} else if (elem.webkitRequestFullscreen) {
			/* Chrome, Safari and Opera */
			elem.webkitRequestFullscreen();
		} else if (elem.msRequestFullscreen) {
			/* IE/Edge */
			elem.msRequestFullscreen();
		}
	};

	$$result.css.add(css$5);

	return `${mounted
	? `${game.currentphase == -4
		? `<div class="${"playercountselector svelte-zurr77"}"><p class="${"svelte-zurr77"}">Choose your Screen Name</p>	
		<input type="${"text"}" class="${"svelte-zurr77"}"${add_attribute("value", lobby.screenname, 1)}>
		<p class="${"svelte-zurr77"}">Finished</p></div>`
		: `${game.currentphase == -3
			? `<div class="${"playercountselector svelte-zurr77"}"><p class="${"svelte-zurr77"}">Start a New Online Game</p>
		<p class="${"svelte-zurr77"}">Join an Existing Online Game</p>
		<p class="${"svelte-zurr77"}">Start a New Offline Game</p></div>`
			: `${game.currentphase == -2
				? `<div class="${"playercountselector svelte-zurr77"}"><p class="${"svelte-zurr77"}">Choose your Game&#39;s number of Players</p>
		<p class="${"svelte-zurr77"}">2</p>
		<p class="${"svelte-zurr77"}">3</p>
		<p class="${"svelte-zurr77"}">4</p></div>`
				: `${game.currentphase == -1
					? `<div class="${"playercountselector svelte-zurr77"}"><p class="${"svelte-zurr77"}">Choose a Game to Join</p>
			${each(lobby.existinggames, g => `<p class="${"svelte-zurr77"}">${escape(g.label + "'s Game")}</p>`)}</div>`
					: `${game.passtoplayer && !lobby.online
						? `<div class="${"passtoplayer svelte-zurr77"}">pass to next player
		</div>`
						: `${!!game.winner
							? `<div class="${"passtoplayer svelte-zurr77"}">${escape(game.winner)} WON!!!!
		</div>`
							: `<div class="${"stars svelte-zurr77"}"></div>
		<div id="${"screen"}" style="${"height:100%;width:100%;"}" class="${"flex svelte-zurr77"}">${each(game.players, player => `${game.players[game.acting_player_index] !== undefined && (lobby.screenname == player.name && lobby.online || game.players[game.acting_player_index].id == player.id && !lobby.online)
								? `<div class="${"bordered playingfield svelte-zurr77"}"><div id="${"dragged"}" class="${"svelte-zurr77"}"></div>
						<div class="${"playerinfo bordered svelte-zurr77"}">${each(game.players, p => `<div style="${"width:" + escape(100 / game.number_of_players) + "%"}" class="${"flex player " + escape(game.players[game.acting_player_index] !== undefined && p.name == game.players[game.acting_player_index].name
									? "selectable"
									: "bordered") + " svelte-zurr77"}"><div style="${"width:33%; text-align: center;"}" class="${"svelte-zurr77"}">Military Might ${escape(p.starfighters.small)}</div>
									<div style="${"width:33%; text-align: center;"}" class="${"svelte-zurr77"}">Galactic Influence ${escape(p.influence.length)}</div>
									<div style="${"width:33%; text-align: center;"}" class="${"svelte-zurr77"}">${escape(p.name)}</div>
								</div>`)}
							</div>
						
						<div class="${"show svelte-zurr77"}">show ${escape(game.displayinfo.center_or_planets
									? "planets"
									: "center row")}</div>
						
						${game.displayinfo.selectionzone == "research"
									? `<div class="${"zone researchrow svelte-zurr77"}">${each(game.research_deck, card => `${validate_component(Card, "Card").$$render(
											$$result,
											{
												selectable: game.displayinfo.selectionzone == "research",
												card
											},
											{},
											{}
										)}`)}
							</div>`
									: `${game.displayinfo.center_or_planets
										? `<div class="${"flex zone centerrow svelte-zurr77"}">${each(game.stacks.rolecards, card => `${validate_component(Card, "Card").$$render(
												$$result,
												{
													card,
													selectable: game.displayinfo.selectionzone == "rolecards",
													pilecount: game.stacks.pilecount[card.type]
												},
												{},
												{}
											)}`)}
							</div>`
										: ``}`}
						${!game.displayinfo.center_or_planets
									? `<div class="${"flex zone centerrow svelte-zurr77"}">${each(player.unsettled_planets, planet => `${validate_component(PlanetCard, "PlanetCard").$$render($$result, { planet }, {}, {})}`)}
								${each([...player.settled_planets, ...player.conquered_planets], planet => `${validate_component(PlanetCard, "PlanetCard").$$render(
											$$result,
											{
												planet,
												selected: game.displayinfo.selectionzone == "settled_&_conquered_planets"
											},
											{},
											{}
										)}`)}
							</div>`
									: ``}
						
						<div id="${"playedcards"}" class="${"flex zone playedcards svelte-zurr77"}">${game.displayinfo.showoptiontoskip
									? `
								
								<div style="${"margin-right:auto"}" class="${"selectable pass svelte-zurr77"}">[Choose None]</div>`
									: `
								<div style="${"margin-right:auto"}" class="${"bordered pass svelte-zurr77"}">[____]</div>`}
							${each(game.players[game.acting_player_index].limbo, card => `${validate_component(Card, "Card").$$render($$result, { mini: true, card }, {}, {})}`)}
							${game.passp
									? `
								<div style="${"margin-left:auto"}" class="${"selectable pass svelte-zurr77"}">[Pass to <br class="${"svelte-zurr77"}"> Next Player]</div>`
									: `${game.passt
										? `
								
								<div style="${"margin-left:auto"}" class="${"selectable pass svelte-zurr77"}">[End Turn]</div>`
										: `${game.displayinfo.allowformultipleselections && game.choices.length > 0
											? `
								
								<div style="${"margin-left:auto"}" class="${"selectable pass svelte-zurr77"}">[Choose Selected]</div>`
											: `
								
								<div class="${"bordered pass svelte-zurr77"}">[______]</div>`}`}`}</div>
						<div class="${"messagetoplayer bordered svelte-zurr77"}">${escape(game.messagetoplayer[game.messagetoplayer.length - 1])}</div>
						
						<div class="${"flex zone ownedcards svelte-zurr77"}"><div class="${"bordered deck svelte-zurr77"}">${escape(player.deck.length)}</div>
							<div class="${"hand svelte-zurr77"}">${each(player.hand, card => `${validate_component(Card, "Card").$$render(
										$$result,
										{
											card,
											mini: true,
											selectable: game.displayinfo.selectionzone == "hand"
										},
										{},
										{}
									)}`)}</div>
							<div class="${"bordered discard svelte-zurr77"}">${escape(player.discard.length)}</div></div>
					</div>`
								: ``}`)}
			
			${game.displayinfo.selectionzone == "options"
								? `<div class="${escape(null_to_empty(game.options[0] !== undefined && game.options[0].type !== undefined
									? "talloptions"
									: "options")) + " svelte-zurr77"}">${each(game.options, option => `${option.type !== undefined
									? `${validate_component(PlanetCard, "PlanetCard").$$render(
											$$result,
											{
												planet: option,
												selectable: game.displayinfo.selectionzone == "options"
											},
											{},
											{}
										)}
							${validate_component(PlanetCard, "PlanetCard").$$render(
											$$result,
											{
												planet: { ...option, settled: true },
												selectable: game.displayinfo.selectionzone == "options"
											},
											{},
											{}
										)}`
									: `<div class="${"pass " + escape(game.displayinfo.selectionzone == "options"
										? option.selected ? "selected" : "selectable"
										: "bordered") + " svelte-zurr77"}">${escape(option.name)}
							</div>`}`)}</div>`
								: ``}</div>`}`}`}`}`}`}`
	: ``}`;
});

/* src\routes\index.svelte generated by Svelte v3.20.1 */

const Routes = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	return `${validate_component(App, "App").$$render($$result, {}, {}, {})}`;
});

/* src\node_modules\@sapper\internal\layout.svelte generated by Svelte v3.20.1 */

const Layout = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	return `${$$slots.default ? $$slots.default({}) : ``}`;
});

/* src\node_modules\@sapper\internal\error.svelte generated by Svelte v3.20.1 */

const Error$1 = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { error } = $$props;
	let { status } = $$props;
	if ($$props.error === void 0 && $$bindings.error && error !== void 0) $$bindings.error(error);
	if ($$props.status === void 0 && $$bindings.status && status !== void 0) $$bindings.status(status);

	return `<h1>${escape(status)}</h1>

<p>${escape(error.message)}</p>

${ `<pre>${escape(error.stack)}</pre>`
	}`;
});

// This file is generated by Sapper — do not edit it!

const manifest = {
	server_routes: [
		
	],

	pages: [
		{
			// index.svelte
			pattern: /^\/$/,
			parts: [
				{ name: "index", file: "index.svelte", component: Routes }
			]
		}
	],

	root: Layout,
	root_preload: () => {},
	error: Error$1
};

const build_dir = "__sapper__/dev";

const src_dir = "src";

const subscriber_queue = [];
/**
 * Create a `Writable` store that allows both updating and reading by subscription.
 * @param {*=}value initial value
 * @param {StartStopNotifier=}start start and stop notifications for subscriptions
 */
function writable(value, start = noop) {
    let stop;
    const subscribers = [];
    function set(new_value) {
        if (safe_not_equal(value, new_value)) {
            value = new_value;
            if (stop) { // store is ready
                const run_queue = !subscriber_queue.length;
                for (let i = 0; i < subscribers.length; i += 1) {
                    const s = subscribers[i];
                    s[1]();
                    subscriber_queue.push(s, value);
                }
                if (run_queue) {
                    for (let i = 0; i < subscriber_queue.length; i += 2) {
                        subscriber_queue[i][0](subscriber_queue[i + 1]);
                    }
                    subscriber_queue.length = 0;
                }
            }
        }
    }
    function update(fn) {
        set(fn(value));
    }
    function subscribe(run, invalidate = noop) {
        const subscriber = [run, invalidate];
        subscribers.push(subscriber);
        if (subscribers.length === 1) {
            stop = start(set) || noop;
        }
        run(value);
        return () => {
            const index = subscribers.indexOf(subscriber);
            if (index !== -1) {
                subscribers.splice(index, 1);
            }
            if (subscribers.length === 0) {
                stop();
                stop = null;
            }
        };
    }
    return { set, update, subscribe };
}

const CONTEXT_KEY = {};

/* src\node_modules\@sapper\internal\App.svelte generated by Svelte v3.20.1 */

const App$1 = create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { stores } = $$props;
	let { error } = $$props;
	let { status } = $$props;
	let { segments } = $$props;
	let { level0 } = $$props;
	let { level1 = null } = $$props;
	setContext(CONTEXT_KEY, stores);
	if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0) $$bindings.stores(stores);
	if ($$props.error === void 0 && $$bindings.error && error !== void 0) $$bindings.error(error);
	if ($$props.status === void 0 && $$bindings.status && status !== void 0) $$bindings.status(status);
	if ($$props.segments === void 0 && $$bindings.segments && segments !== void 0) $$bindings.segments(segments);
	if ($$props.level0 === void 0 && $$bindings.level0 && level0 !== void 0) $$bindings.level0(level0);
	if ($$props.level1 === void 0 && $$bindings.level1 && level1 !== void 0) $$bindings.level1(level1);

	return `


${validate_component(Layout, "Layout").$$render($$result, Object.assign({ segment: segments[0] }, level0.props), {}, {
		default: () => `${error
		? `${validate_component(Error$1, "Error").$$render($$result, { error, status }, {}, {})}`
		: `${validate_component(level1.component || missing_component, "svelte:component").$$render($$result, Object.assign(level1.props), {}, {})}`}`
	})}`;
});

/**
 * @param typeMap [Object] Map of MIME type -> Array[extensions]
 * @param ...
 */
function Mime() {
  this._types = Object.create(null);
  this._extensions = Object.create(null);

  for (var i = 0; i < arguments.length; i++) {
    this.define(arguments[i]);
  }

  this.define = this.define.bind(this);
  this.getType = this.getType.bind(this);
  this.getExtension = this.getExtension.bind(this);
}

/**
 * Define mimetype -> extension mappings.  Each key is a mime-type that maps
 * to an array of extensions associated with the type.  The first extension is
 * used as the default extension for the type.
 *
 * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});
 *
 * If a type declares an extension that has already been defined, an error will
 * be thrown.  To suppress this error and force the extension to be associated
 * with the new type, pass `force`=true.  Alternatively, you may prefix the
 * extension with "*" to map the type to extension, without mapping the
 * extension to the type.
 *
 * e.g. mime.define({'audio/wav', ['wav']}, {'audio/x-wav', ['*wav']});
 *
 *
 * @param map (Object) type definitions
 * @param force (Boolean) if true, force overriding of existing definitions
 */
Mime.prototype.define = function(typeMap, force) {
  for (var type in typeMap) {
    var extensions = typeMap[type].map(function(t) {return t.toLowerCase()});
    type = type.toLowerCase();

    for (var i = 0; i < extensions.length; i++) {
      var ext = extensions[i];

      // '*' prefix = not the preferred type for this extension.  So fixup the
      // extension, and skip it.
      if (ext[0] == '*') {
        continue;
      }

      if (!force && (ext in this._types)) {
        throw new Error(
          'Attempt to change mapping for "' + ext +
          '" extension from "' + this._types[ext] + '" to "' + type +
          '". Pass `force=true` to allow this, otherwise remove "' + ext +
          '" from the list of extensions for "' + type + '".'
        );
      }

      this._types[ext] = type;
    }

    // Use first extension as default
    if (force || !this._extensions[type]) {
      var ext = extensions[0];
      this._extensions[type] = (ext[0] != '*') ? ext : ext.substr(1);
    }
  }
};

/**
 * Lookup a mime type based on extension
 */
Mime.prototype.getType = function(path) {
  path = String(path);
  var last = path.replace(/^.*[/\\]/, '').toLowerCase();
  var ext = last.replace(/^.*\./, '').toLowerCase();

  var hasPath = last.length < path.length;
  var hasDot = ext.length < last.length - 1;

  return (hasDot || !hasPath) && this._types[ext] || null;
};

/**
 * Return file extension associated with a mime type
 */
Mime.prototype.getExtension = function(type) {
  type = /^\s*([^;\s]*)/.test(type) && RegExp.$1;
  return type && this._extensions[type.toLowerCase()] || null;
};

var Mime_1 = Mime;

var standard = {"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};

var lite = new Mime_1(standard);

function get_server_route_handler(routes) {
	async function handle_route(route, req, res, next) {
		req.params = route.params(route.pattern.exec(req.path));

		const method = req.method.toLowerCase();
		// 'delete' cannot be exported from a module because it is a keyword,
		// so check for 'del' instead
		const method_export = method === 'delete' ? 'del' : method;
		const handle_method = route.handlers[method_export];
		if (handle_method) {
			if (process.env.SAPPER_EXPORT) {
				const { write, end, setHeader } = res;
				const chunks = [];
				const headers = {};

				// intercept data so that it can be exported
				res.write = function(chunk) {
					chunks.push(Buffer.from(chunk));
					write.apply(res, arguments);
				};

				res.setHeader = function(name, value) {
					headers[name.toLowerCase()] = value;
					setHeader.apply(res, arguments);
				};

				res.end = function(chunk) {
					if (chunk) chunks.push(Buffer.from(chunk));
					end.apply(res, arguments);

					process.send({
						__sapper__: true,
						event: 'file',
						url: req.url,
						method: req.method,
						status: res.statusCode,
						type: headers['content-type'],
						body: Buffer.concat(chunks).toString()
					});
				};
			}

			const handle_next = (err) => {
				if (err) {
					res.statusCode = 500;
					res.end(err.message);
				} else {
					process.nextTick(next);
				}
			};

			try {
				await handle_method(req, res, handle_next);
			} catch (err) {
				console.error(err);
				handle_next(err);
			}
		} else {
			// no matching handler for method
			process.nextTick(next);
		}
	}

	return function find_route(req, res, next) {
		for (const route of routes) {
			if (route.pattern.test(req.path)) {
				handle_route(route, req, res, next);
				return;
			}
		}

		next();
	};
}

/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */

/**
 * Module exports.
 * @public
 */

var parse_1 = parse;
var serialize_1 = serialize;

/**
 * Module variables.
 * @private
 */

var decode = decodeURIComponent;
var encode = encodeURIComponent;
var pairSplitRegExp = /; */;

/**
 * RegExp to match field-content in RFC 7230 sec 3.2
 *
 * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]
 * field-vchar   = VCHAR / obs-text
 * obs-text      = %x80-FF
 */

var fieldContentRegExp = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;

/**
 * Parse a cookie header.
 *
 * Parse the given cookie header string into an object
 * The object has the various cookies as keys(names) => values
 *
 * @param {string} str
 * @param {object} [options]
 * @return {object}
 * @public
 */

function parse(str, options) {
  if (typeof str !== 'string') {
    throw new TypeError('argument str must be a string');
  }

  var obj = {};
  var opt = options || {};
  var pairs = str.split(pairSplitRegExp);
  var dec = opt.decode || decode;

  for (var i = 0; i < pairs.length; i++) {
    var pair = pairs[i];
    var eq_idx = pair.indexOf('=');

    // skip things that don't look like key=value
    if (eq_idx < 0) {
      continue;
    }

    var key = pair.substr(0, eq_idx).trim();
    var val = pair.substr(++eq_idx, pair.length).trim();

    // quoted values
    if ('"' == val[0]) {
      val = val.slice(1, -1);
    }

    // only assign once
    if (undefined == obj[key]) {
      obj[key] = tryDecode(val, dec);
    }
  }

  return obj;
}

/**
 * Serialize data into a cookie header.
 *
 * Serialize the a name value pair into a cookie string suitable for
 * http headers. An optional options object specified cookie parameters.
 *
 * serialize('foo', 'bar', { httpOnly: true })
 *   => "foo=bar; httpOnly"
 *
 * @param {string} name
 * @param {string} val
 * @param {object} [options]
 * @return {string}
 * @public
 */

function serialize(name, val, options) {
  var opt = options || {};
  var enc = opt.encode || encode;

  if (typeof enc !== 'function') {
    throw new TypeError('option encode is invalid');
  }

  if (!fieldContentRegExp.test(name)) {
    throw new TypeError('argument name is invalid');
  }

  var value = enc(val);

  if (value && !fieldContentRegExp.test(value)) {
    throw new TypeError('argument val is invalid');
  }

  var str = name + '=' + value;

  if (null != opt.maxAge) {
    var maxAge = opt.maxAge - 0;
    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');
    str += '; Max-Age=' + Math.floor(maxAge);
  }

  if (opt.domain) {
    if (!fieldContentRegExp.test(opt.domain)) {
      throw new TypeError('option domain is invalid');
    }

    str += '; Domain=' + opt.domain;
  }

  if (opt.path) {
    if (!fieldContentRegExp.test(opt.path)) {
      throw new TypeError('option path is invalid');
    }

    str += '; Path=' + opt.path;
  }

  if (opt.expires) {
    if (typeof opt.expires.toUTCString !== 'function') {
      throw new TypeError('option expires is invalid');
    }

    str += '; Expires=' + opt.expires.toUTCString();
  }

  if (opt.httpOnly) {
    str += '; HttpOnly';
  }

  if (opt.secure) {
    str += '; Secure';
  }

  if (opt.sameSite) {
    var sameSite = typeof opt.sameSite === 'string'
      ? opt.sameSite.toLowerCase() : opt.sameSite;

    switch (sameSite) {
      case true:
        str += '; SameSite=Strict';
        break;
      case 'lax':
        str += '; SameSite=Lax';
        break;
      case 'strict':
        str += '; SameSite=Strict';
        break;
      case 'none':
        str += '; SameSite=None';
        break;
      default:
        throw new TypeError('option sameSite is invalid');
    }
  }

  return str;
}

/**
 * Try decoding a string using a decoding function.
 *
 * @param {string} str
 * @param {function} decode
 * @private
 */

function tryDecode(str, decode) {
  try {
    return decode(str);
  } catch (e) {
    return str;
  }
}

var cookie = {
	parse: parse_1,
	serialize: serialize_1
};

var chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$';
var unsafeChars = /[<>\b\f\n\r\t\0\u2028\u2029]/g;
var reserved = /^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;
var escaped$1 = {
    '<': '\\u003C',
    '>': '\\u003E',
    '/': '\\u002F',
    '\\': '\\\\',
    '\b': '\\b',
    '\f': '\\f',
    '\n': '\\n',
    '\r': '\\r',
    '\t': '\\t',
    '\0': '\\0',
    '\u2028': '\\u2028',
    '\u2029': '\\u2029'
};
var objectProtoOwnPropertyNames = Object.getOwnPropertyNames(Object.prototype).sort().join('\0');
function devalue(value) {
    var counts = new Map();
    function walk(thing) {
        if (typeof thing === 'function') {
            throw new Error("Cannot stringify a function");
        }
        if (counts.has(thing)) {
            counts.set(thing, counts.get(thing) + 1);
            return;
        }
        counts.set(thing, 1);
        if (!isPrimitive(thing)) {
            var type = getType(thing);
            switch (type) {
                case 'Number':
                case 'String':
                case 'Boolean':
                case 'Date':
                case 'RegExp':
                    return;
                case 'Array':
                    thing.forEach(walk);
                    break;
                case 'Set':
                case 'Map':
                    Array.from(thing).forEach(walk);
                    break;
                default:
                    var proto = Object.getPrototypeOf(thing);
                    if (proto !== Object.prototype &&
                        proto !== null &&
                        Object.getOwnPropertyNames(proto).sort().join('\0') !== objectProtoOwnPropertyNames) {
                        throw new Error("Cannot stringify arbitrary non-POJOs");
                    }
                    if (Object.getOwnPropertySymbols(thing).length > 0) {
                        throw new Error("Cannot stringify POJOs with symbolic keys");
                    }
                    Object.keys(thing).forEach(function (key) { return walk(thing[key]); });
            }
        }
    }
    walk(value);
    var names = new Map();
    Array.from(counts)
        .filter(function (entry) { return entry[1] > 1; })
        .sort(function (a, b) { return b[1] - a[1]; })
        .forEach(function (entry, i) {
        names.set(entry[0], getName(i));
    });
    function stringify(thing) {
        if (names.has(thing)) {
            return names.get(thing);
        }
        if (isPrimitive(thing)) {
            return stringifyPrimitive(thing);
        }
        var type = getType(thing);
        switch (type) {
            case 'Number':
            case 'String':
            case 'Boolean':
                return "Object(" + stringify(thing.valueOf()) + ")";
            case 'RegExp':
                return thing.toString();
            case 'Date':
                return "new Date(" + thing.getTime() + ")";
            case 'Array':
                var members = thing.map(function (v, i) { return i in thing ? stringify(v) : ''; });
                var tail = thing.length === 0 || (thing.length - 1 in thing) ? '' : ',';
                return "[" + members.join(',') + tail + "]";
            case 'Set':
            case 'Map':
                return "new " + type + "([" + Array.from(thing).map(stringify).join(',') + "])";
            default:
                var obj = "{" + Object.keys(thing).map(function (key) { return safeKey(key) + ":" + stringify(thing[key]); }).join(',') + "}";
                var proto = Object.getPrototypeOf(thing);
                if (proto === null) {
                    return Object.keys(thing).length > 0
                        ? "Object.assign(Object.create(null)," + obj + ")"
                        : "Object.create(null)";
                }
                return obj;
        }
    }
    var str = stringify(value);
    if (names.size) {
        var params_1 = [];
        var statements_1 = [];
        var values_1 = [];
        names.forEach(function (name, thing) {
            params_1.push(name);
            if (isPrimitive(thing)) {
                values_1.push(stringifyPrimitive(thing));
                return;
            }
            var type = getType(thing);
            switch (type) {
                case 'Number':
                case 'String':
                case 'Boolean':
                    values_1.push("Object(" + stringify(thing.valueOf()) + ")");
                    break;
                case 'RegExp':
                    values_1.push(thing.toString());
                    break;
                case 'Date':
                    values_1.push("new Date(" + thing.getTime() + ")");
                    break;
                case 'Array':
                    values_1.push("Array(" + thing.length + ")");
                    thing.forEach(function (v, i) {
                        statements_1.push(name + "[" + i + "]=" + stringify(v));
                    });
                    break;
                case 'Set':
                    values_1.push("new Set");
                    statements_1.push(name + "." + Array.from(thing).map(function (v) { return "add(" + stringify(v) + ")"; }).join('.'));
                    break;
                case 'Map':
                    values_1.push("new Map");
                    statements_1.push(name + "." + Array.from(thing).map(function (_a) {
                        var k = _a[0], v = _a[1];
                        return "set(" + stringify(k) + ", " + stringify(v) + ")";
                    }).join('.'));
                    break;
                default:
                    values_1.push(Object.getPrototypeOf(thing) === null ? 'Object.create(null)' : '{}');
                    Object.keys(thing).forEach(function (key) {
                        statements_1.push("" + name + safeProp(key) + "=" + stringify(thing[key]));
                    });
            }
        });
        statements_1.push("return " + str);
        return "(function(" + params_1.join(',') + "){" + statements_1.join(';') + "}(" + values_1.join(',') + "))";
    }
    else {
        return str;
    }
}
function getName(num) {
    var name = '';
    do {
        name = chars[num % chars.length] + name;
        num = ~~(num / chars.length) - 1;
    } while (num >= 0);
    return reserved.test(name) ? name + "_" : name;
}
function isPrimitive(thing) {
    return Object(thing) !== thing;
}
function stringifyPrimitive(thing) {
    if (typeof thing === 'string')
        return stringifyString(thing);
    if (thing === void 0)
        return 'void 0';
    if (thing === 0 && 1 / thing < 0)
        return '-0';
    var str = String(thing);
    if (typeof thing === 'number')
        return str.replace(/^(-)?0\./, '$1.');
    return str;
}
function getType(thing) {
    return Object.prototype.toString.call(thing).slice(8, -1);
}
function escapeUnsafeChar(c) {
    return escaped$1[c] || c;
}
function escapeUnsafeChars(str) {
    return str.replace(unsafeChars, escapeUnsafeChar);
}
function safeKey(key) {
    return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key) ? key : escapeUnsafeChars(JSON.stringify(key));
}
function safeProp(key) {
    return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key) ? "." + key : "[" + escapeUnsafeChars(JSON.stringify(key)) + "]";
}
function stringifyString(str) {
    var result = '"';
    for (var i = 0; i < str.length; i += 1) {
        var char = str.charAt(i);
        var code = char.charCodeAt(0);
        if (char === '"') {
            result += '\\"';
        }
        else if (char in escaped$1) {
            result += escaped$1[char];
        }
        else if (code >= 0xd800 && code <= 0xdfff) {
            var next = str.charCodeAt(i + 1);
            // If this is the beginning of a [high, low] surrogate pair,
            // add the next two characters, otherwise escape
            if (code <= 0xdbff && (next >= 0xdc00 && next <= 0xdfff)) {
                result += char + str[++i];
            }
            else {
                result += "\\u" + code.toString(16).toUpperCase();
            }
        }
        else {
            result += char;
        }
    }
    result += '"';
    return result;
}

// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js

// fix for "Readable" isn't a named export issue
const Readable = Stream.Readable;

const BUFFER = Symbol('buffer');
const TYPE = Symbol('type');

class Blob {
	constructor() {
		this[TYPE] = '';

		const blobParts = arguments[0];
		const options = arguments[1];

		const buffers = [];
		let size = 0;

		if (blobParts) {
			const a = blobParts;
			const length = Number(a.length);
			for (let i = 0; i < length; i++) {
				const element = a[i];
				let buffer;
				if (element instanceof Buffer) {
					buffer = element;
				} else if (ArrayBuffer.isView(element)) {
					buffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);
				} else if (element instanceof ArrayBuffer) {
					buffer = Buffer.from(element);
				} else if (element instanceof Blob) {
					buffer = element[BUFFER];
				} else {
					buffer = Buffer.from(typeof element === 'string' ? element : String(element));
				}
				size += buffer.length;
				buffers.push(buffer);
			}
		}

		this[BUFFER] = Buffer.concat(buffers);

		let type = options && options.type !== undefined && String(options.type).toLowerCase();
		if (type && !/[^\u0020-\u007E]/.test(type)) {
			this[TYPE] = type;
		}
	}
	get size() {
		return this[BUFFER].length;
	}
	get type() {
		return this[TYPE];
	}
	text() {
		return Promise.resolve(this[BUFFER].toString());
	}
	arrayBuffer() {
		const buf = this[BUFFER];
		const ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
		return Promise.resolve(ab);
	}
	stream() {
		const readable = new Readable();
		readable._read = function () {};
		readable.push(this[BUFFER]);
		readable.push(null);
		return readable;
	}
	toString() {
		return '[object Blob]';
	}
	slice() {
		const size = this.size;

		const start = arguments[0];
		const end = arguments[1];
		let relativeStart, relativeEnd;
		if (start === undefined) {
			relativeStart = 0;
		} else if (start < 0) {
			relativeStart = Math.max(size + start, 0);
		} else {
			relativeStart = Math.min(start, size);
		}
		if (end === undefined) {
			relativeEnd = size;
		} else if (end < 0) {
			relativeEnd = Math.max(size + end, 0);
		} else {
			relativeEnd = Math.min(end, size);
		}
		const span = Math.max(relativeEnd - relativeStart, 0);

		const buffer = this[BUFFER];
		const slicedBuffer = buffer.slice(relativeStart, relativeStart + span);
		const blob = new Blob([], { type: arguments[2] });
		blob[BUFFER] = slicedBuffer;
		return blob;
	}
}

Object.defineProperties(Blob.prototype, {
	size: { enumerable: true },
	type: { enumerable: true },
	slice: { enumerable: true }
});

Object.defineProperty(Blob.prototype, Symbol.toStringTag, {
	value: 'Blob',
	writable: false,
	enumerable: false,
	configurable: true
});

/**
 * fetch-error.js
 *
 * FetchError interface for operational errors
 */

/**
 * Create FetchError instance
 *
 * @param   String      message      Error message for human
 * @param   String      type         Error type for machine
 * @param   String      systemError  For Node.js system error
 * @return  FetchError
 */
function FetchError(message, type, systemError) {
  Error.call(this, message);

  this.message = message;
  this.type = type;

  // when err.type is `system`, err.code contains system error code
  if (systemError) {
    this.code = this.errno = systemError.code;
  }

  // hide custom error implementation details from end-users
  Error.captureStackTrace(this, this.constructor);
}

FetchError.prototype = Object.create(Error.prototype);
FetchError.prototype.constructor = FetchError;
FetchError.prototype.name = 'FetchError';

let convert;
try {
	convert = require('encoding').convert;
} catch (e) {}

const INTERNALS = Symbol('Body internals');

// fix an issue where "PassThrough" isn't a named export for node <10
const PassThrough = Stream.PassThrough;

/**
 * Body mixin
 *
 * Ref: https://fetch.spec.whatwg.org/#body
 *
 * @param   Stream  body  Readable stream
 * @param   Object  opts  Response options
 * @return  Void
 */
function Body(body) {
	var _this = this;

	var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
	    _ref$size = _ref.size;

	let size = _ref$size === undefined ? 0 : _ref$size;
	var _ref$timeout = _ref.timeout;
	let timeout = _ref$timeout === undefined ? 0 : _ref$timeout;

	if (body == null) {
		// body is undefined or null
		body = null;
	} else if (isURLSearchParams(body)) {
		// body is a URLSearchParams
		body = Buffer.from(body.toString());
	} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {
		// body is ArrayBuffer
		body = Buffer.from(body);
	} else if (ArrayBuffer.isView(body)) {
		// body is ArrayBufferView
		body = Buffer.from(body.buffer, body.byteOffset, body.byteLength);
	} else if (body instanceof Stream) ; else {
		// none of the above
		// coerce to string then buffer
		body = Buffer.from(String(body));
	}
	this[INTERNALS] = {
		body,
		disturbed: false,
		error: null
	};
	this.size = size;
	this.timeout = timeout;

	if (body instanceof Stream) {
		body.on('error', function (err) {
			const error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);
			_this[INTERNALS].error = error;
		});
	}
}

Body.prototype = {
	get body() {
		return this[INTERNALS].body;
	},

	get bodyUsed() {
		return this[INTERNALS].disturbed;
	},

	/**
  * Decode response as ArrayBuffer
  *
  * @return  Promise
  */
	arrayBuffer() {
		return consumeBody.call(this).then(function (buf) {
			return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
		});
	},

	/**
  * Return raw response as Blob
  *
  * @return Promise
  */
	blob() {
		let ct = this.headers && this.headers.get('content-type') || '';
		return consumeBody.call(this).then(function (buf) {
			return Object.assign(
			// Prevent copying
			new Blob([], {
				type: ct.toLowerCase()
			}), {
				[BUFFER]: buf
			});
		});
	},

	/**
  * Decode response as json
  *
  * @return  Promise
  */
	json() {
		var _this2 = this;

		return consumeBody.call(this).then(function (buffer) {
			try {
				return JSON.parse(buffer.toString());
			} catch (err) {
				return Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));
			}
		});
	},

	/**
  * Decode response as text
  *
  * @return  Promise
  */
	text() {
		return consumeBody.call(this).then(function (buffer) {
			return buffer.toString();
		});
	},

	/**
  * Decode response as buffer (non-spec api)
  *
  * @return  Promise
  */
	buffer() {
		return consumeBody.call(this);
	},

	/**
  * Decode response as text, while automatically detecting the encoding and
  * trying to decode to UTF-8 (non-spec api)
  *
  * @return  Promise
  */
	textConverted() {
		var _this3 = this;

		return consumeBody.call(this).then(function (buffer) {
			return convertBody(buffer, _this3.headers);
		});
	}
};

// In browsers, all properties are enumerable.
Object.defineProperties(Body.prototype, {
	body: { enumerable: true },
	bodyUsed: { enumerable: true },
	arrayBuffer: { enumerable: true },
	blob: { enumerable: true },
	json: { enumerable: true },
	text: { enumerable: true }
});

Body.mixIn = function (proto) {
	for (const name of Object.getOwnPropertyNames(Body.prototype)) {
		// istanbul ignore else: future proof
		if (!(name in proto)) {
			const desc = Object.getOwnPropertyDescriptor(Body.prototype, name);
			Object.defineProperty(proto, name, desc);
		}
	}
};

/**
 * Consume and convert an entire Body to a Buffer.
 *
 * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body
 *
 * @return  Promise
 */
function consumeBody() {
	var _this4 = this;

	if (this[INTERNALS].disturbed) {
		return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));
	}

	this[INTERNALS].disturbed = true;

	if (this[INTERNALS].error) {
		return Body.Promise.reject(this[INTERNALS].error);
	}

	let body = this.body;

	// body is null
	if (body === null) {
		return Body.Promise.resolve(Buffer.alloc(0));
	}

	// body is blob
	if (isBlob(body)) {
		body = body.stream();
	}

	// body is buffer
	if (Buffer.isBuffer(body)) {
		return Body.Promise.resolve(body);
	}

	// istanbul ignore if: should never happen
	if (!(body instanceof Stream)) {
		return Body.Promise.resolve(Buffer.alloc(0));
	}

	// body is stream
	// get ready to actually consume the body
	let accum = [];
	let accumBytes = 0;
	let abort = false;

	return new Body.Promise(function (resolve, reject) {
		let resTimeout;

		// allow timeout on slow response body
		if (_this4.timeout) {
			resTimeout = setTimeout(function () {
				abort = true;
				reject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));
			}, _this4.timeout);
		}

		// handle stream errors
		body.on('error', function (err) {
			if (err.name === 'AbortError') {
				// if the request was aborted, reject with this Error
				abort = true;
				reject(err);
			} else {
				// other errors, such as incorrect content-encoding
				reject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));
			}
		});

		body.on('data', function (chunk) {
			if (abort || chunk === null) {
				return;
			}

			if (_this4.size && accumBytes + chunk.length > _this4.size) {
				abort = true;
				reject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));
				return;
			}

			accumBytes += chunk.length;
			accum.push(chunk);
		});

		body.on('end', function () {
			if (abort) {
				return;
			}

			clearTimeout(resTimeout);

			try {
				resolve(Buffer.concat(accum, accumBytes));
			} catch (err) {
				// handle streams that have accumulated too much data (issue #414)
				reject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));
			}
		});
	});
}

/**
 * Detect buffer encoding and convert to target encoding
 * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding
 *
 * @param   Buffer  buffer    Incoming buffer
 * @param   String  encoding  Target encoding
 * @return  String
 */
function convertBody(buffer, headers) {
	if (typeof convert !== 'function') {
		throw new Error('The package `encoding` must be installed to use the textConverted() function');
	}

	const ct = headers.get('content-type');
	let charset = 'utf-8';
	let res, str;

	// header
	if (ct) {
		res = /charset=([^;]*)/i.exec(ct);
	}

	// no charset in content type, peek at response body for at most 1024 bytes
	str = buffer.slice(0, 1024).toString();

	// html5
	if (!res && str) {
		res = /<meta.+?charset=(['"])(.+?)\1/i.exec(str);
	}

	// html4
	if (!res && str) {
		res = /<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(str);

		if (res) {
			res = /charset=(.*)/i.exec(res.pop());
		}
	}

	// xml
	if (!res && str) {
		res = /<\?xml.+?encoding=(['"])(.+?)\1/i.exec(str);
	}

	// found charset
	if (res) {
		charset = res.pop();

		// prevent decode issues when sites use incorrect encoding
		// ref: https://hsivonen.fi/encoding-menu/
		if (charset === 'gb2312' || charset === 'gbk') {
			charset = 'gb18030';
		}
	}

	// turn raw buffers into a single utf-8 buffer
	return convert(buffer, 'UTF-8', charset).toString();
}

/**
 * Detect a URLSearchParams object
 * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143
 *
 * @param   Object  obj     Object to detect by type or brand
 * @return  String
 */
function isURLSearchParams(obj) {
	// Duck-typing as a necessary condition.
	if (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {
		return false;
	}

	// Brand-checking and more duck-typing as optional condition.
	return obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';
}

/**
 * Check if `obj` is a W3C `Blob` object (which `File` inherits from)
 * @param  {*} obj
 * @return {boolean}
 */
function isBlob(obj) {
	return typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);
}

/**
 * Clone body given Res/Req instance
 *
 * @param   Mixed  instance  Response or Request instance
 * @return  Mixed
 */
function clone(instance) {
	let p1, p2;
	let body = instance.body;

	// don't allow cloning a used body
	if (instance.bodyUsed) {
		throw new Error('cannot clone body after it is used');
	}

	// check that body is a stream and not form-data object
	// note: we can't clone the form-data object without having it as a dependency
	if (body instanceof Stream && typeof body.getBoundary !== 'function') {
		// tee instance body
		p1 = new PassThrough();
		p2 = new PassThrough();
		body.pipe(p1);
		body.pipe(p2);
		// set instance body to teed body and return the other teed body
		instance[INTERNALS].body = p1;
		body = p2;
	}

	return body;
}

/**
 * Performs the operation "extract a `Content-Type` value from |object|" as
 * specified in the specification:
 * https://fetch.spec.whatwg.org/#concept-bodyinit-extract
 *
 * This function assumes that instance.body is present.
 *
 * @param   Mixed  instance  Any options.body input
 */
function extractContentType(body) {
	if (body === null) {
		// body is null
		return null;
	} else if (typeof body === 'string') {
		// body is string
		return 'text/plain;charset=UTF-8';
	} else if (isURLSearchParams(body)) {
		// body is a URLSearchParams
		return 'application/x-www-form-urlencoded;charset=UTF-8';
	} else if (isBlob(body)) {
		// body is blob
		return body.type || null;
	} else if (Buffer.isBuffer(body)) {
		// body is buffer
		return null;
	} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {
		// body is ArrayBuffer
		return null;
	} else if (ArrayBuffer.isView(body)) {
		// body is ArrayBufferView
		return null;
	} else if (typeof body.getBoundary === 'function') {
		// detect form data input from form-data module
		return `multipart/form-data;boundary=${body.getBoundary()}`;
	} else if (body instanceof Stream) {
		// body is stream
		// can't really do much about this
		return null;
	} else {
		// Body constructor defaults other things to string
		return 'text/plain;charset=UTF-8';
	}
}

/**
 * The Fetch Standard treats this as if "total bytes" is a property on the body.
 * For us, we have to explicitly get it with a function.
 *
 * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes
 *
 * @param   Body    instance   Instance of Body
 * @return  Number?            Number of bytes, or null if not possible
 */
function getTotalBytes(instance) {
	const body = instance.body;


	if (body === null) {
		// body is null
		return 0;
	} else if (isBlob(body)) {
		return body.size;
	} else if (Buffer.isBuffer(body)) {
		// body is buffer
		return body.length;
	} else if (body && typeof body.getLengthSync === 'function') {
		// detect form data input from form-data module
		if (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x
		body.hasKnownLength && body.hasKnownLength()) {
			// 2.x
			return body.getLengthSync();
		}
		return null;
	} else {
		// body is stream
		return null;
	}
}

/**
 * Write a Body to a Node.js WritableStream (e.g. http.Request) object.
 *
 * @param   Body    instance   Instance of Body
 * @return  Void
 */
function writeToStream(dest, instance) {
	const body = instance.body;


	if (body === null) {
		// body is null
		dest.end();
	} else if (isBlob(body)) {
		body.stream().pipe(dest);
	} else if (Buffer.isBuffer(body)) {
		// body is buffer
		dest.write(body);
		dest.end();
	} else {
		// body is stream
		body.pipe(dest);
	}
}

// expose Promise
Body.Promise = global.Promise;

/**
 * headers.js
 *
 * Headers class offers convenient helpers
 */

const invalidTokenRegex = /[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/;
const invalidHeaderCharRegex = /[^\t\x20-\x7e\x80-\xff]/;

function validateName(name) {
	name = `${name}`;
	if (invalidTokenRegex.test(name) || name === '') {
		throw new TypeError(`${name} is not a legal HTTP header name`);
	}
}

function validateValue(value) {
	value = `${value}`;
	if (invalidHeaderCharRegex.test(value)) {
		throw new TypeError(`${value} is not a legal HTTP header value`);
	}
}

/**
 * Find the key in the map object given a header name.
 *
 * Returns undefined if not found.
 *
 * @param   String  name  Header name
 * @return  String|Undefined
 */
function find(map, name) {
	name = name.toLowerCase();
	for (const key in map) {
		if (key.toLowerCase() === name) {
			return key;
		}
	}
	return undefined;
}

const MAP = Symbol('map');
class Headers {
	/**
  * Headers class
  *
  * @param   Object  headers  Response headers
  * @return  Void
  */
	constructor() {
		let init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;

		this[MAP] = Object.create(null);

		if (init instanceof Headers) {
			const rawHeaders = init.raw();
			const headerNames = Object.keys(rawHeaders);

			for (const headerName of headerNames) {
				for (const value of rawHeaders[headerName]) {
					this.append(headerName, value);
				}
			}

			return;
		}

		// We don't worry about converting prop to ByteString here as append()
		// will handle it.
		if (init == null) ; else if (typeof init === 'object') {
			const method = init[Symbol.iterator];
			if (method != null) {
				if (typeof method !== 'function') {
					throw new TypeError('Header pairs must be iterable');
				}

				// sequence<sequence<ByteString>>
				// Note: per spec we have to first exhaust the lists then process them
				const pairs = [];
				for (const pair of init) {
					if (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {
						throw new TypeError('Each header pair must be iterable');
					}
					pairs.push(Array.from(pair));
				}

				for (const pair of pairs) {
					if (pair.length !== 2) {
						throw new TypeError('Each header pair must be a name/value tuple');
					}
					this.append(pair[0], pair[1]);
				}
			} else {
				// record<ByteString, ByteString>
				for (const key of Object.keys(init)) {
					const value = init[key];
					this.append(key, value);
				}
			}
		} else {
			throw new TypeError('Provided initializer must be an object');
		}
	}

	/**
  * Return combined header value given name
  *
  * @param   String  name  Header name
  * @return  Mixed
  */
	get(name) {
		name = `${name}`;
		validateName(name);
		const key = find(this[MAP], name);
		if (key === undefined) {
			return null;
		}

		return this[MAP][key].join(', ');
	}

	/**
  * Iterate over all headers
  *
  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)
  * @param   Boolean   thisArg   `this` context for callback function
  * @return  Void
  */
	forEach(callback) {
		let thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

		let pairs = getHeaders(this);
		let i = 0;
		while (i < pairs.length) {
			var _pairs$i = pairs[i];
			const name = _pairs$i[0],
			      value = _pairs$i[1];

			callback.call(thisArg, value, name, this);
			pairs = getHeaders(this);
			i++;
		}
	}

	/**
  * Overwrite header values given name
  *
  * @param   String  name   Header name
  * @param   String  value  Header value
  * @return  Void
  */
	set(name, value) {
		name = `${name}`;
		value = `${value}`;
		validateName(name);
		validateValue(value);
		const key = find(this[MAP], name);
		this[MAP][key !== undefined ? key : name] = [value];
	}

	/**
  * Append a value onto existing header
  *
  * @param   String  name   Header name
  * @param   String  value  Header value
  * @return  Void
  */
	append(name, value) {
		name = `${name}`;
		value = `${value}`;
		validateName(name);
		validateValue(value);
		const key = find(this[MAP], name);
		if (key !== undefined) {
			this[MAP][key].push(value);
		} else {
			this[MAP][name] = [value];
		}
	}

	/**
  * Check for header name existence
  *
  * @param   String   name  Header name
  * @return  Boolean
  */
	has(name) {
		name = `${name}`;
		validateName(name);
		return find(this[MAP], name) !== undefined;
	}

	/**
  * Delete all header values given name
  *
  * @param   String  name  Header name
  * @return  Void
  */
	delete(name) {
		name = `${name}`;
		validateName(name);
		const key = find(this[MAP], name);
		if (key !== undefined) {
			delete this[MAP][key];
		}
	}

	/**
  * Return raw headers (non-spec api)
  *
  * @return  Object
  */
	raw() {
		return this[MAP];
	}

	/**
  * Get an iterator on keys.
  *
  * @return  Iterator
  */
	keys() {
		return createHeadersIterator(this, 'key');
	}

	/**
  * Get an iterator on values.
  *
  * @return  Iterator
  */
	values() {
		return createHeadersIterator(this, 'value');
	}

	/**
  * Get an iterator on entries.
  *
  * This is the default iterator of the Headers object.
  *
  * @return  Iterator
  */
	[Symbol.iterator]() {
		return createHeadersIterator(this, 'key+value');
	}
}
Headers.prototype.entries = Headers.prototype[Symbol.iterator];

Object.defineProperty(Headers.prototype, Symbol.toStringTag, {
	value: 'Headers',
	writable: false,
	enumerable: false,
	configurable: true
});

Object.defineProperties(Headers.prototype, {
	get: { enumerable: true },
	forEach: { enumerable: true },
	set: { enumerable: true },
	append: { enumerable: true },
	has: { enumerable: true },
	delete: { enumerable: true },
	keys: { enumerable: true },
	values: { enumerable: true },
	entries: { enumerable: true }
});

function getHeaders(headers) {
	let kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';

	const keys = Object.keys(headers[MAP]).sort();
	return keys.map(kind === 'key' ? function (k) {
		return k.toLowerCase();
	} : kind === 'value' ? function (k) {
		return headers[MAP][k].join(', ');
	} : function (k) {
		return [k.toLowerCase(), headers[MAP][k].join(', ')];
	});
}

const INTERNAL = Symbol('internal');

function createHeadersIterator(target, kind) {
	const iterator = Object.create(HeadersIteratorPrototype);
	iterator[INTERNAL] = {
		target,
		kind,
		index: 0
	};
	return iterator;
}

const HeadersIteratorPrototype = Object.setPrototypeOf({
	next() {
		// istanbul ignore if
		if (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {
			throw new TypeError('Value of `this` is not a HeadersIterator');
		}

		var _INTERNAL = this[INTERNAL];
		const target = _INTERNAL.target,
		      kind = _INTERNAL.kind,
		      index = _INTERNAL.index;

		const values = getHeaders(target, kind);
		const len = values.length;
		if (index >= len) {
			return {
				value: undefined,
				done: true
			};
		}

		this[INTERNAL].index = index + 1;

		return {
			value: values[index],
			done: false
		};
	}
}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));

Object.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {
	value: 'HeadersIterator',
	writable: false,
	enumerable: false,
	configurable: true
});

/**
 * Export the Headers object in a form that Node.js can consume.
 *
 * @param   Headers  headers
 * @return  Object
 */
function exportNodeCompatibleHeaders(headers) {
	const obj = Object.assign({ __proto__: null }, headers[MAP]);

	// http.request() only supports string as Host header. This hack makes
	// specifying custom Host header possible.
	const hostHeaderKey = find(headers[MAP], 'Host');
	if (hostHeaderKey !== undefined) {
		obj[hostHeaderKey] = obj[hostHeaderKey][0];
	}

	return obj;
}

/**
 * Create a Headers object from an object of headers, ignoring those that do
 * not conform to HTTP grammar productions.
 *
 * @param   Object  obj  Object of headers
 * @return  Headers
 */
function createHeadersLenient(obj) {
	const headers = new Headers();
	for (const name of Object.keys(obj)) {
		if (invalidTokenRegex.test(name)) {
			continue;
		}
		if (Array.isArray(obj[name])) {
			for (const val of obj[name]) {
				if (invalidHeaderCharRegex.test(val)) {
					continue;
				}
				if (headers[MAP][name] === undefined) {
					headers[MAP][name] = [val];
				} else {
					headers[MAP][name].push(val);
				}
			}
		} else if (!invalidHeaderCharRegex.test(obj[name])) {
			headers[MAP][name] = [obj[name]];
		}
	}
	return headers;
}

const INTERNALS$1 = Symbol('Response internals');

// fix an issue where "STATUS_CODES" aren't a named export for node <10
const STATUS_CODES = http.STATUS_CODES;

/**
 * Response class
 *
 * @param   Stream  body  Readable stream
 * @param   Object  opts  Response options
 * @return  Void
 */
class Response {
	constructor() {
		let body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
		let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

		Body.call(this, body, opts);

		const status = opts.status || 200;
		const headers = new Headers(opts.headers);

		if (body != null && !headers.has('Content-Type')) {
			const contentType = extractContentType(body);
			if (contentType) {
				headers.append('Content-Type', contentType);
			}
		}

		this[INTERNALS$1] = {
			url: opts.url,
			status,
			statusText: opts.statusText || STATUS_CODES[status],
			headers,
			counter: opts.counter
		};
	}

	get url() {
		return this[INTERNALS$1].url || '';
	}

	get status() {
		return this[INTERNALS$1].status;
	}

	/**
  * Convenience property representing if the request ended normally
  */
	get ok() {
		return this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;
	}

	get redirected() {
		return this[INTERNALS$1].counter > 0;
	}

	get statusText() {
		return this[INTERNALS$1].statusText;
	}

	get headers() {
		return this[INTERNALS$1].headers;
	}

	/**
  * Clone this response
  *
  * @return  Response
  */
	clone() {
		return new Response(clone(this), {
			url: this.url,
			status: this.status,
			statusText: this.statusText,
			headers: this.headers,
			ok: this.ok,
			redirected: this.redirected
		});
	}
}

Body.mixIn(Response.prototype);

Object.defineProperties(Response.prototype, {
	url: { enumerable: true },
	status: { enumerable: true },
	ok: { enumerable: true },
	redirected: { enumerable: true },
	statusText: { enumerable: true },
	headers: { enumerable: true },
	clone: { enumerable: true }
});

Object.defineProperty(Response.prototype, Symbol.toStringTag, {
	value: 'Response',
	writable: false,
	enumerable: false,
	configurable: true
});

const INTERNALS$2 = Symbol('Request internals');

// fix an issue where "format", "parse" aren't a named export for node <10
const parse_url = Url.parse;
const format_url = Url.format;

const streamDestructionSupported = 'destroy' in Stream.Readable.prototype;

/**
 * Check if a value is an instance of Request.
 *
 * @param   Mixed   input
 * @return  Boolean
 */
function isRequest(input) {
	return typeof input === 'object' && typeof input[INTERNALS$2] === 'object';
}

function isAbortSignal(signal) {
	const proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);
	return !!(proto && proto.constructor.name === 'AbortSignal');
}

/**
 * Request class
 *
 * @param   Mixed   input  Url or Request instance
 * @param   Object  init   Custom options
 * @return  Void
 */
class Request {
	constructor(input) {
		let init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

		let parsedURL;

		// normalize input
		if (!isRequest(input)) {
			if (input && input.href) {
				// in order to support Node.js' Url objects; though WHATWG's URL objects
				// will fall into this branch also (since their `toString()` will return
				// `href` property anyway)
				parsedURL = parse_url(input.href);
			} else {
				// coerce input to a string before attempting to parse
				parsedURL = parse_url(`${input}`);
			}
			input = {};
		} else {
			parsedURL = parse_url(input.url);
		}

		let method = init.method || input.method || 'GET';
		method = method.toUpperCase();

		if ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {
			throw new TypeError('Request with GET/HEAD method cannot have body');
		}

		let inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;

		Body.call(this, inputBody, {
			timeout: init.timeout || input.timeout || 0,
			size: init.size || input.size || 0
		});

		const headers = new Headers(init.headers || input.headers || {});

		if (inputBody != null && !headers.has('Content-Type')) {
			const contentType = extractContentType(inputBody);
			if (contentType) {
				headers.append('Content-Type', contentType);
			}
		}

		let signal = isRequest(input) ? input.signal : null;
		if ('signal' in init) signal = init.signal;

		if (signal != null && !isAbortSignal(signal)) {
			throw new TypeError('Expected signal to be an instanceof AbortSignal');
		}

		this[INTERNALS$2] = {
			method,
			redirect: init.redirect || input.redirect || 'follow',
			headers,
			parsedURL,
			signal
		};

		// node-fetch-only options
		this.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;
		this.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;
		this.counter = init.counter || input.counter || 0;
		this.agent = init.agent || input.agent;
	}

	get method() {
		return this[INTERNALS$2].method;
	}

	get url() {
		return format_url(this[INTERNALS$2].parsedURL);
	}

	get headers() {
		return this[INTERNALS$2].headers;
	}

	get redirect() {
		return this[INTERNALS$2].redirect;
	}

	get signal() {
		return this[INTERNALS$2].signal;
	}

	/**
  * Clone this request
  *
  * @return  Request
  */
	clone() {
		return new Request(this);
	}
}

Body.mixIn(Request.prototype);

Object.defineProperty(Request.prototype, Symbol.toStringTag, {
	value: 'Request',
	writable: false,
	enumerable: false,
	configurable: true
});

Object.defineProperties(Request.prototype, {
	method: { enumerable: true },
	url: { enumerable: true },
	headers: { enumerable: true },
	redirect: { enumerable: true },
	clone: { enumerable: true },
	signal: { enumerable: true }
});

/**
 * Convert a Request to Node.js http request options.
 *
 * @param   Request  A Request instance
 * @return  Object   The options object to be passed to http.request
 */
function getNodeRequestOptions(request) {
	const parsedURL = request[INTERNALS$2].parsedURL;
	const headers = new Headers(request[INTERNALS$2].headers);

	// fetch step 1.3
	if (!headers.has('Accept')) {
		headers.set('Accept', '*/*');
	}

	// Basic fetch
	if (!parsedURL.protocol || !parsedURL.hostname) {
		throw new TypeError('Only absolute URLs are supported');
	}

	if (!/^https?:$/.test(parsedURL.protocol)) {
		throw new TypeError('Only HTTP(S) protocols are supported');
	}

	if (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {
		throw new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');
	}

	// HTTP-network-or-cache fetch steps 2.4-2.7
	let contentLengthValue = null;
	if (request.body == null && /^(POST|PUT)$/i.test(request.method)) {
		contentLengthValue = '0';
	}
	if (request.body != null) {
		const totalBytes = getTotalBytes(request);
		if (typeof totalBytes === 'number') {
			contentLengthValue = String(totalBytes);
		}
	}
	if (contentLengthValue) {
		headers.set('Content-Length', contentLengthValue);
	}

	// HTTP-network-or-cache fetch step 2.11
	if (!headers.has('User-Agent')) {
		headers.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');
	}

	// HTTP-network-or-cache fetch step 2.15
	if (request.compress && !headers.has('Accept-Encoding')) {
		headers.set('Accept-Encoding', 'gzip,deflate');
	}

	let agent = request.agent;
	if (typeof agent === 'function') {
		agent = agent(parsedURL);
	}

	if (!headers.has('Connection') && !agent) {
		headers.set('Connection', 'close');
	}

	// HTTP-network fetch step 4.2
	// chunked encoding is handled by Node.js

	return Object.assign({}, parsedURL, {
		method: request.method,
		headers: exportNodeCompatibleHeaders(headers),
		agent
	});
}

/**
 * abort-error.js
 *
 * AbortError interface for cancelled requests
 */

/**
 * Create AbortError instance
 *
 * @param   String      message      Error message for human
 * @return  AbortError
 */
function AbortError(message) {
  Error.call(this, message);

  this.type = 'aborted';
  this.message = message;

  // hide custom error implementation details from end-users
  Error.captureStackTrace(this, this.constructor);
}

AbortError.prototype = Object.create(Error.prototype);
AbortError.prototype.constructor = AbortError;
AbortError.prototype.name = 'AbortError';

// fix an issue where "PassThrough", "resolve" aren't a named export for node <10
const PassThrough$1 = Stream.PassThrough;
const resolve_url = Url.resolve;

/**
 * Fetch function
 *
 * @param   Mixed    url   Absolute url or Request instance
 * @param   Object   opts  Fetch options
 * @return  Promise
 */
function fetch(url, opts) {

	// allow custom promise
	if (!fetch.Promise) {
		throw new Error('native promise missing, set fetch.Promise to your favorite alternative');
	}

	Body.Promise = fetch.Promise;

	// wrap http.request into fetch
	return new fetch.Promise(function (resolve, reject) {
		// build request object
		const request = new Request(url, opts);
		const options = getNodeRequestOptions(request);

		const send = (options.protocol === 'https:' ? https : http).request;
		const signal = request.signal;

		let response = null;

		const abort = function abort() {
			let error = new AbortError('The user aborted a request.');
			reject(error);
			if (request.body && request.body instanceof Stream.Readable) {
				request.body.destroy(error);
			}
			if (!response || !response.body) return;
			response.body.emit('error', error);
		};

		if (signal && signal.aborted) {
			abort();
			return;
		}

		const abortAndFinalize = function abortAndFinalize() {
			abort();
			finalize();
		};

		// send request
		const req = send(options);
		let reqTimeout;

		if (signal) {
			signal.addEventListener('abort', abortAndFinalize);
		}

		function finalize() {
			req.abort();
			if (signal) signal.removeEventListener('abort', abortAndFinalize);
			clearTimeout(reqTimeout);
		}

		if (request.timeout) {
			req.once('socket', function (socket) {
				reqTimeout = setTimeout(function () {
					reject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));
					finalize();
				}, request.timeout);
			});
		}

		req.on('error', function (err) {
			reject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));
			finalize();
		});

		req.on('response', function (res) {
			clearTimeout(reqTimeout);

			const headers = createHeadersLenient(res.headers);

			// HTTP fetch step 5
			if (fetch.isRedirect(res.statusCode)) {
				// HTTP fetch step 5.2
				const location = headers.get('Location');

				// HTTP fetch step 5.3
				const locationURL = location === null ? null : resolve_url(request.url, location);

				// HTTP fetch step 5.5
				switch (request.redirect) {
					case 'error':
						reject(new FetchError(`redirect mode is set to error: ${request.url}`, 'no-redirect'));
						finalize();
						return;
					case 'manual':
						// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.
						if (locationURL !== null) {
							// handle corrupted header
							try {
								headers.set('Location', locationURL);
							} catch (err) {
								// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request
								reject(err);
							}
						}
						break;
					case 'follow':
						// HTTP-redirect fetch step 2
						if (locationURL === null) {
							break;
						}

						// HTTP-redirect fetch step 5
						if (request.counter >= request.follow) {
							reject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));
							finalize();
							return;
						}

						// HTTP-redirect fetch step 6 (counter increment)
						// Create a new Request object.
						const requestOpts = {
							headers: new Headers(request.headers),
							follow: request.follow,
							counter: request.counter + 1,
							agent: request.agent,
							compress: request.compress,
							method: request.method,
							body: request.body,
							signal: request.signal,
							timeout: request.timeout
						};

						// HTTP-redirect fetch step 9
						if (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {
							reject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));
							finalize();
							return;
						}

						// HTTP-redirect fetch step 11
						if (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {
							requestOpts.method = 'GET';
							requestOpts.body = undefined;
							requestOpts.headers.delete('content-length');
						}

						// HTTP-redirect fetch step 15
						resolve(fetch(new Request(locationURL, requestOpts)));
						finalize();
						return;
				}
			}

			// prepare response
			res.once('end', function () {
				if (signal) signal.removeEventListener('abort', abortAndFinalize);
			});
			let body = res.pipe(new PassThrough$1());

			const response_options = {
				url: request.url,
				status: res.statusCode,
				statusText: res.statusMessage,
				headers: headers,
				size: request.size,
				timeout: request.timeout,
				counter: request.counter
			};

			// HTTP-network fetch step 12.1.1.3
			const codings = headers.get('Content-Encoding');

			// HTTP-network fetch step 12.1.1.4: handle content codings

			// in following scenarios we ignore compression support
			// 1. compression support is disabled
			// 2. HEAD request
			// 3. no Content-Encoding header
			// 4. no content response (204)
			// 5. content not modified response (304)
			if (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {
				response = new Response(body, response_options);
				resolve(response);
				return;
			}

			// For Node v6+
			// Be less strict when decoding compressed responses, since sometimes
			// servers send slightly invalid responses that are still accepted
			// by common browsers.
			// Always using Z_SYNC_FLUSH is what cURL does.
			const zlibOptions = {
				flush: zlib.Z_SYNC_FLUSH,
				finishFlush: zlib.Z_SYNC_FLUSH
			};

			// for gzip
			if (codings == 'gzip' || codings == 'x-gzip') {
				body = body.pipe(zlib.createGunzip(zlibOptions));
				response = new Response(body, response_options);
				resolve(response);
				return;
			}

			// for deflate
			if (codings == 'deflate' || codings == 'x-deflate') {
				// handle the infamous raw deflate response from old servers
				// a hack for old IIS and Apache servers
				const raw = res.pipe(new PassThrough$1());
				raw.once('data', function (chunk) {
					// see http://stackoverflow.com/questions/37519828
					if ((chunk[0] & 0x0F) === 0x08) {
						body = body.pipe(zlib.createInflate());
					} else {
						body = body.pipe(zlib.createInflateRaw());
					}
					response = new Response(body, response_options);
					resolve(response);
				});
				return;
			}

			// for br
			if (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {
				body = body.pipe(zlib.createBrotliDecompress());
				response = new Response(body, response_options);
				resolve(response);
				return;
			}

			// otherwise, use response as-is
			response = new Response(body, response_options);
			resolve(response);
		});

		writeToStream(req, request);
	});
}
/**
 * Redirect code matching
 *
 * @param   Number   code  Status code
 * @return  Boolean
 */
fetch.isRedirect = function (code) {
	return code === 301 || code === 302 || code === 303 || code === 307 || code === 308;
};

// expose Promise
fetch.Promise = global.Promise;

function get_page_handler(
	manifest,
	session_getter
) {
	const get_build_info =  () => JSON.parse(fs.readFileSync(path.join(build_dir, 'build.json'), 'utf-8'))
		;

	const template =  () => read_template(src_dir)
		;

	const has_service_worker = fs.existsSync(path.join(build_dir, 'service-worker.js'));

	const { server_routes, pages } = manifest;
	const error_route = manifest.error;

	function bail(req, res, err) {
		console.error(err);

		const message =  escape_html(err.message) ;

		res.statusCode = 500;
		res.end(`<pre>${message}</pre>`);
	}

	function handle_error(req, res, statusCode, error) {
		handle_page({
			pattern: null,
			parts: [
				{ name: null, component: error_route }
			]
		}, req, res, statusCode, error || new Error('Unknown error in preload function'));
	}

	async function handle_page(page, req, res, status = 200, error = null) {
		const is_service_worker_index = req.path === '/service-worker-index.html';
		const build_info




 = get_build_info();

		res.setHeader('Content-Type', 'text/html');
		res.setHeader('Cache-Control',  'no-cache' );

		// preload main.js and current route
		// TODO detect other stuff we can preload? images, CSS, fonts?
		let preloaded_chunks = Array.isArray(build_info.assets.main) ? build_info.assets.main : [build_info.assets.main];
		if (!error && !is_service_worker_index) {
			page.parts.forEach(part => {
				if (!part) return;

				// using concat because it could be a string or an array. thanks webpack!
				preloaded_chunks = preloaded_chunks.concat(build_info.assets[part.name]);
			});
		}

		if (build_info.bundler === 'rollup') {
			// TODO add dependencies and CSS
			const link = preloaded_chunks
				.filter(file => file && !file.match(/\.map$/))
				.map(file => `<${req.baseUrl}/client/${file}>;rel="modulepreload"`)
				.join(', ');

			res.setHeader('Link', link);
		} else {
			const link = preloaded_chunks
				.filter(file => file && !file.match(/\.map$/))
				.map((file) => {
					const as = /\.css$/.test(file) ? 'style' : 'script';
					return `<${req.baseUrl}/client/${file}>;rel="preload";as="${as}"`;
				})
				.join(', ');

			res.setHeader('Link', link);
		}

		const session = session_getter(req, res);

		let redirect;
		let preload_error;

		const preload_context = {
			redirect: (statusCode, location) => {
				if (redirect && (redirect.statusCode !== statusCode || redirect.location !== location)) {
					throw new Error(`Conflicting redirects`);
				}
				location = location.replace(/^\//g, ''); // leading slash (only)
				redirect = { statusCode, location };
			},
			error: (statusCode, message) => {
				preload_error = { statusCode, message };
			},
			fetch: (url, opts) => {
				const parsed = new Url.URL(url, `http://127.0.0.1:${process.env.PORT}${req.baseUrl ? req.baseUrl + '/' :''}`);

				if (opts) {
					opts = Object.assign({}, opts);

					const include_cookies = (
						opts.credentials === 'include' ||
						opts.credentials === 'same-origin' && parsed.origin === `http://127.0.0.1:${process.env.PORT}`
					);

					if (include_cookies) {
						opts.headers = Object.assign({}, opts.headers);

						const cookies = Object.assign(
							{},
							cookie.parse(req.headers.cookie || ''),
							cookie.parse(opts.headers.cookie || '')
						);

						const set_cookie = res.getHeader('Set-Cookie');
						(Array.isArray(set_cookie) ? set_cookie : [set_cookie]).forEach(str => {
							const match = /([^=]+)=([^;]+)/.exec(str);
							if (match) cookies[match[1]] = match[2];
						});

						const str = Object.keys(cookies)
							.map(key => `${key}=${cookies[key]}`)
							.join('; ');

						opts.headers.cookie = str;
					}
				}

				return fetch(parsed.href, opts);
			}
		};

		let preloaded;
		let match;
		let params;

		try {
			const root_preloaded = manifest.root_preload
				? manifest.root_preload.call(preload_context, {
					host: req.headers.host,
					path: req.path,
					query: req.query,
					params: {}
				}, session)
				: {};

			match = error ? null : page.pattern.exec(req.path);


			let toPreload = [root_preloaded];
			if (!is_service_worker_index) {
				toPreload = toPreload.concat(page.parts.map(part => {
					if (!part) return null;

					// the deepest level is used below, to initialise the store
					params = part.params ? part.params(match) : {};

					return part.preload
						? part.preload.call(preload_context, {
							host: req.headers.host,
							path: req.path,
							query: req.query,
							params
						}, session)
						: {};
				}));
			}

			preloaded = await Promise.all(toPreload);
		} catch (err) {
			if (error) {
				return bail(req, res, err)
			}

			preload_error = { statusCode: 500, message: err };
			preloaded = []; // appease TypeScript
		}

		try {
			if (redirect) {
				const location = Url.resolve((req.baseUrl || '') + '/', redirect.location);

				res.statusCode = redirect.statusCode;
				res.setHeader('Location', location);
				res.end();

				return;
			}

			if (preload_error) {
				handle_error(req, res, preload_error.statusCode, preload_error.message);
				return;
			}

			const segments = req.path.split('/').filter(Boolean);

			// TODO make this less confusing
			const layout_segments = [segments[0]];
			let l = 1;

			page.parts.forEach((part, i) => {
				layout_segments[l] = segments[i + 1];
				if (!part) return null;
				l++;
			});

			const props = {
				stores: {
					page: {
						subscribe: writable({
							host: req.headers.host,
							path: req.path,
							query: req.query,
							params
						}).subscribe
					},
					preloading: {
						subscribe: writable(null).subscribe
					},
					session: writable(session)
				},
				segments: layout_segments,
				status: error ? status : 200,
				error: error ? error instanceof Error ? error : { message: error } : null,
				level0: {
					props: preloaded[0]
				},
				level1: {
					segment: segments[0],
					props: {}
				}
			};

			if (!is_service_worker_index) {
				let l = 1;
				for (let i = 0; i < page.parts.length; i += 1) {
					const part = page.parts[i];
					if (!part) continue;

					props[`level${l++}`] = {
						component: part.component,
						props: preloaded[i + 1] || {},
						segment: segments[i]
					};
				}
			}

			const { html, head, css } = App$1.render(props);

			const serialized = {
				preloaded: `[${preloaded.map(data => try_serialize(data)).join(',')}]`,
				session: session && try_serialize(session, err => {
					throw new Error(`Failed to serialize session data: ${err.message}`);
				}),
				error: error && try_serialize(props.error)
			};

			let script = `__SAPPER__={${[
				error && `error:${serialized.error},status:${status}`,
				`baseUrl:"${req.baseUrl}"`,
				serialized.preloaded && `preloaded:${serialized.preloaded}`,
				serialized.session && `session:${serialized.session}`
			].filter(Boolean).join(',')}};`;

			if (has_service_worker) {
				script += `if('serviceWorker' in navigator)navigator.serviceWorker.register('${req.baseUrl}/service-worker.js');`;
			}

			const file = [].concat(build_info.assets.main).filter(file => file && /\.js$/.test(file))[0];
			const main = `${req.baseUrl}/client/${file}`;

			if (build_info.bundler === 'rollup') {
				if (build_info.legacy_assets) {
					const legacy_main = `${req.baseUrl}/client/legacy/${build_info.legacy_assets.main}`;
					script += `(function(){try{eval("async function x(){}");var main="${main}"}catch(e){main="${legacy_main}"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="${req.baseUrl}/client/shimport@${build_info.shimport}.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());`;
				} else {
					script += `var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="${main}";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="${req.baseUrl}/client/shimport@${build_info.shimport}.js";s.setAttribute("data-main","${main}")}document.head.appendChild(s)`;
				}
			} else {
				script += `</script><script src="${main}">`;
			}

			let styles;

			// TODO make this consistent across apps
			// TODO embed build_info in placeholder.ts
			if (build_info.css && build_info.css.main) {
				const css_chunks = new Set();
				if (build_info.css.main) css_chunks.add(build_info.css.main);
				page.parts.forEach(part => {
					if (!part) return;
					const css_chunks_for_part = build_info.css.chunks[part.file];

					if (css_chunks_for_part) {
						css_chunks_for_part.forEach(file => {
							css_chunks.add(file);
						});
					}
				});

				styles = Array.from(css_chunks)
					.map(href => `<link rel="stylesheet" href="client/${href}">`)
					.join('');
			} else {
				styles = (css && css.code ? `<style>${css.code}</style>` : '');
			}

			// users can set a CSP nonce using res.locals.nonce
			const nonce_attr = (res.locals && res.locals.nonce) ? ` nonce="${res.locals.nonce}"` : '';

			const body = template()
				.replace('%sapper.base%', () => `<base href="${req.baseUrl}/">`)
				.replace('%sapper.scripts%', () => `<script${nonce_attr}>${script}</script>`)
				.replace('%sapper.html%', () => html)
				.replace('%sapper.head%', () => `<noscript id='sapper-head-start'></noscript>${head}<noscript id='sapper-head-end'></noscript>`)
				.replace('%sapper.styles%', () => styles);

			res.statusCode = status;
			res.end(body);
		} catch(err) {
			if (error) {
				bail(req, res, err);
			} else {
				handle_error(req, res, 500, err);
			}
		}
	}

	return function find_route(req, res, next) {
		if (req.path === '/service-worker-index.html') {
			const homePage = pages.find(page => page.pattern.test('/'));
			handle_page(homePage, req, res);
			return;
		}

		for (const page of pages) {
			if (page.pattern.test(req.path)) {
				handle_page(page, req, res);
				return;
			}
		}

		handle_error(req, res, 404, 'Not found');
	};
}

function read_template(dir = build_dir) {
	return fs.readFileSync(`${dir}/template.html`, 'utf-8');
}

function try_serialize(data, fail) {
	try {
		return devalue(data);
	} catch (err) {
		if (fail) fail(err);
		return null;
	}
}

function escape_html(html) {
	const chars = {
		'"' : 'quot',
		"'": '#39',
		'&': 'amp',
		'<' : 'lt',
		'>' : 'gt'
	};

	return html.replace(/["'&<>]/g, c => `&${chars[c]};`);
}

function middleware(opts


 = {}) {
	const { session, ignore } = opts;

	let emitted_basepath = false;

	return compose_handlers(ignore, [
		(req, res, next) => {
			if (req.baseUrl === undefined) {
				let { originalUrl } = req;
				if (req.url === '/' && originalUrl[originalUrl.length - 1] !== '/') {
					originalUrl += '/';
				}

				req.baseUrl = originalUrl
					? originalUrl.slice(0, -req.url.length)
					: '';
			}

			if (!emitted_basepath && process.send) {
				process.send({
					__sapper__: true,
					event: 'basepath',
					basepath: req.baseUrl
				});

				emitted_basepath = true;
			}

			if (req.path === undefined) {
				req.path = req.url.replace(/\?.*/, '');
			}

			next();
		},

		fs.existsSync(path.join(build_dir, 'service-worker.js')) && serve({
			pathname: '/service-worker.js',
			cache_control: 'no-cache, no-store, must-revalidate'
		}),

		fs.existsSync(path.join(build_dir, 'service-worker.js.map')) && serve({
			pathname: '/service-worker.js.map',
			cache_control: 'no-cache, no-store, must-revalidate'
		}),

		serve({
			prefix: '/client/',
			cache_control:  'no-cache' 
		}),

		get_server_route_handler(manifest.server_routes),

		get_page_handler(manifest, session || noop$1)
	].filter(Boolean));
}

function compose_handlers(ignore, handlers) {
	const total = handlers.length;

	function nth_handler(n, req, res, next) {
		if (n >= total) {
			return next();
		}

		handlers[n](req, res, () => nth_handler(n+1, req, res, next));
	}

	return !ignore
		? (req, res, next) => nth_handler(0, req, res, next)
		: (req, res, next) => {
			if (should_ignore(req.path, ignore)) {
				next();
			} else {
				nth_handler(0, req, res, next);
			}
		};
}

function should_ignore(uri, val) {
	if (Array.isArray(val)) return val.some(x => should_ignore(uri, x));
	if (val instanceof RegExp) return val.test(uri);
	if (typeof val === 'function') return val(uri);
	return uri.startsWith(val.charCodeAt(0) === 47 ? val : `/${val}`);
}

function serve({ prefix, pathname, cache_control }



) {
	const filter = pathname
		? (req) => req.path === pathname
		: (req) => req.path.startsWith(prefix);

	const read =  (file) => fs.readFileSync(path.join(build_dir, file))
		;

	return (req, res, next) => {
		if (filter(req)) {
			const type = lite.getType(req.path);

			try {
				const file = path.posix.normalize(decodeURIComponent(req.path));
				const data = read(file);

				res.setHeader('Content-Type', type);
				res.setHeader('Cache-Control', cache_control);
				res.end(data);
			} catch (err) {
				res.statusCode = 404;
				res.end('not found');
			}
		} else {
			next();
		}
	};
}

function noop$1(){}

const { PORT, NODE_ENV } = process.env;
const dev = NODE_ENV === 'development';
const jstr = JSON.stringify;
let server = http.createServer();
polka({server}) // You can also use Express
	.use(
		compression({ threshold: 0 }),
		sirv('static', { dev }),
		middleware()
	)
	.listen(PORT, err => {
		if (err) console.log('error', err);
	});

let games = [];
let generatenewgame = (state) => { console.log('new game generated: ', state.label);
	state = {...state, game_id:games.length};
	games = [...games,{game:state}];
	return state.game_id;
};
console.log('server started');
let regPlyr = (socket,msg) => socket.join(msg.game_id);
let setState = (msg) => games[msg.game_id] = { game: msg };
let ws = io(server).on('connection', socket => {
	console.log('connection made');
	socket.on('message', msg => {
		msg = JSON.parse(msg);
		switch (msg.header) {
			case 'register' :  console.log(msg.header);
				regPlyr(socket,msg);
				break;
			case 'set' :  //console.log(msg.header);
				setState(msg);
				socket.to(msg.game_id).emit('set',jstr(msg));
				break;
			case 'newgame' : console.log(msg.header);
				socket.emit('id',generatenewgame(msg.game)); 
				break;
			case 'ping': //console.log(msg.header);
				socket.emit(jstr({ header: "pong" }));
				break;
			case 'remove' :  console.log(msg.header);
				games = games.splice(msg.game_id,1);
				break;
			case 'fetchexisting' :  console.log(msg.header);
				socket.emit('fetch',jstr(games));
				break;
			case 'enterexisting' : console.log(msg.header);
				let game_id = msg.game_id,
					game = games[game_id].game,
					slot = msg.slot,
					player_name = msg.player_name;
				if(slot == -1) break;
				game.players[slot] = {...game.players[slot], name:player_name, available:false};
				regPlyr(socket,msg);
				if (game.currentphase < 0) game.currentphase = 0;
				socket.emit('enter',jstr(game));
				ws.to(game_id).emit('join',jstr({slot:slot,player:game.players[slot]}));
				break;
		}
	});
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL2ludGVybmFsL2luZGV4Lm1qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0ljb24uc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvSWNvbkJhci5zdmVsdGUiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9UZWNoLnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1BsYW5ldENhcmQuc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQ2FyZC5zdmVsdGUiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BcHAuc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL25vZGVfbW9kdWxlcy9Ac2FwcGVyL2ludGVybmFsL2Vycm9yLnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy9ub2RlX21vZHVsZXMvQHNhcHBlci9pbnRlcm5hbC9tYW5pZmVzdC1zZXJ2ZXIubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zdG9yZS9pbmRleC5tanMiLCIuLi8uLi8uLi9zcmMvbm9kZV9tb2R1bGVzL0BzYXBwZXIvaW50ZXJuYWwvc2hhcmVkLm1qcyIsIi4uLy4uLy4uL3NyYy9ub2RlX21vZHVsZXMvQHNhcHBlci9pbnRlcm5hbC9BcHAuc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL25vZGVfbW9kdWxlcy9Ac2FwcGVyL3NlcnZlci5tanMiLCIuLi8uLi8uLi9zcmMvc2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG5vb3AoKSB7IH1cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3QgayBpbiBzcmMpXG4gICAgICAgIHRhcltrXSA9IHNyY1trXTtcbiAgICByZXR1cm4gdGFyO1xufVxuZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuICAgIGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcbiAgICAgICAgbG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJ1bihmbikge1xuICAgIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcbiAgICBmbnMuZm9yRWFjaChydW4pO1xufVxuZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8ICgoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbn1cbmZ1bmN0aW9uIG5vdF9lcXVhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuICAgIGlmIChzdG9yZSAhPSBudWxsICYmIHR5cGVvZiBzdG9yZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgaXMgbm90IGEgc3RvcmUgd2l0aCBhICdzdWJzY3JpYmUnIG1ldGhvZGApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHN1YnNjcmliZShzdG9yZSwgLi4uY2FsbGJhY2tzKSB7XG4gICAgaWYgKHN0b3JlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgfVxuICAgIGNvbnN0IHVuc3ViID0gc3RvcmUuc3Vic2NyaWJlKC4uLmNhbGxiYWNrcyk7XG4gICAgcmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG4gICAgbGV0IHZhbHVlO1xuICAgIHN1YnNjcmliZShzdG9yZSwgXyA9PiB2YWx1ZSA9IF8pKCk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gY29tcG9uZW50X3N1YnNjcmliZShjb21wb25lbnQsIHN0b3JlLCBjYWxsYmFjaykge1xuICAgIGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goc3Vic2NyaWJlKHN0b3JlLCBjYWxsYmFjaykpO1xufVxuZnVuY3Rpb24gY3JlYXRlX3Nsb3QoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuICAgIGlmIChkZWZpbml0aW9uKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY3R4ID0gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKTtcbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb25bMF0oc2xvdF9jdHgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuICAgIHJldHVybiBkZWZpbml0aW9uWzFdICYmIGZuXG4gICAgICAgID8gYXNzaWduKCQkc2NvcGUuY3R4LnNsaWNlKCksIGRlZmluaXRpb25bMV0oZm4oY3R4KSkpXG4gICAgICAgIDogJCRzY29wZS5jdHg7XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jaGFuZ2VzKGRlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBmbikge1xuICAgIGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG4gICAgICAgIGNvbnN0IGxldHMgPSBkZWZpbml0aW9uWzJdKGZuKGRpcnR5KSk7XG4gICAgICAgIGlmICgkJHNjb3BlLmRpcnR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZXRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbGV0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gTWF0aC5tYXgoJCRzY29wZS5kaXJ0eS5sZW5ndGgsIGxldHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICQkc2NvcGUuZGlydHkgfCBsZXRzO1xuICAgIH1cbiAgICByZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgbGV0IHJhbiA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBpZiAocmFuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgICBmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgIH07XG59XG5mdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X3N0b3JlX3ZhbHVlKHN0b3JlLCByZXQsIHZhbHVlID0gcmV0KSB7XG4gICAgc3RvcmUuc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gcmV0O1xufVxuY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbmZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuICAgIHJldHVybiBhY3Rpb25fcmVzdWx0ICYmIGlzX2Z1bmN0aW9uKGFjdGlvbl9yZXN1bHQuZGVzdHJveSkgPyBhY3Rpb25fcmVzdWx0LmRlc3Ryb3kgOiBub29wO1xufVxuXG5jb25zdCBpc19jbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmxldCBub3cgPSBpc19jbGllbnRcbiAgICA/ICgpID0+IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKVxuICAgIDogKCkgPT4gRGF0ZS5ub3coKTtcbmxldCByYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcbi8vIHVzZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gc2V0X25vdyhmbikge1xuICAgIG5vdyA9IGZuO1xufVxuZnVuY3Rpb24gc2V0X3JhZihmbikge1xuICAgIHJhZiA9IGZuO1xufVxuXG5jb25zdCB0YXNrcyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIHJ1bl90YXNrcyhub3cpIHtcbiAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBpZiAoIXRhc2suYyhub3cpKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgICAgICB0YXNrLmYoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0YXNrcy5zaXplICE9PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbn1cbi8qKlxuICogRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seSFcbiAqL1xuZnVuY3Rpb24gY2xlYXJfbG9vcHMoKSB7XG4gICAgdGFza3MuY2xlYXIoKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXNrIHRoYXQgcnVucyBvbiBlYWNoIHJhZiBmcmFtZVxuICogdW50aWwgaXQgcmV0dXJucyBhIGZhbHN5IHZhbHVlIG9yIGlzIGFib3J0ZWRcbiAqL1xuZnVuY3Rpb24gbG9vcChjYWxsYmFjaykge1xuICAgIGxldCB0YXNrO1xuICAgIGlmICh0YXNrcy5zaXplID09PSAwKVxuICAgICAgICByYWYocnVuX3Rhc2tzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlOiBuZXcgUHJvbWlzZShmdWxmaWxsID0+IHtcbiAgICAgICAgICAgIHRhc2tzLmFkZCh0YXNrID0geyBjOiBjYWxsYmFjaywgZjogZnVsZmlsbCB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIGFib3J0KCkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5mdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChpdGVyYXRpb25zW2ldKVxuICAgICAgICAgICAgaXRlcmF0aW9uc1tpXS5kKGRldGFjaGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZWxlbWVudChuYW1lKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5mdW5jdGlvbiBlbGVtZW50X2lzKG5hbWUsIGlzKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSwgeyBpcyB9KTtcbn1cbmZ1bmN0aW9uIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMob2JqLCBleGNsdWRlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0ge307XG4gICAgZm9yIChjb25zdCBrIGluIG9iaikge1xuICAgICAgICBpZiAoaGFzX3Byb3Aob2JqLCBrKVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgJiYgZXhjbHVkZS5pbmRleE9mKGspID09PSAtMSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGFyZ2V0W2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBzdmdfZWxlbWVudChuYW1lKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHRleHQoZGF0YSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhKTtcbn1cbmZ1bmN0aW9uIHNwYWNlKCkge1xuICAgIHJldHVybiB0ZXh0KCcgJyk7XG59XG5mdW5jdGlvbiBlbXB0eSgpIHtcbiAgICByZXR1cm4gdGV4dCgnJyk7XG59XG5mdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcHJldmVudF9kZWZhdWx0KGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RvcF9wcm9wYWdhdGlvbihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzZWxmKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpXG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG5vZGUuX19wcm90b19fKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJyB8fCBkZXNjcmlwdG9yc1trZXldICYmIGRlc2NyaXB0b3JzW2tleV0uc2V0KSB7XG4gICAgICAgICAgICBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChwcm9wIGluIG5vZGUpIHtcbiAgICAgICAgbm9kZVtwcm9wXSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXR0cihub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXApIHtcbiAgICBjb25zdCB2YWx1ZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGdyb3VwW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICB2YWx1ZS5wdXNoKGdyb3VwW2ldLl9fdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09ICcnID8gdW5kZWZpbmVkIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Zykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gbm9kZS5hdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vZGVzLnNwbGljZShpLCAxKVswXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3ZnID8gc3ZnX2VsZW1lbnQobmFtZSkgOiBlbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gJycgKyBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVzLnNwbGljZShpLCAxKVswXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dChkYXRhKTtcbn1cbmZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC5kYXRhICE9PSBkYXRhKVxuICAgICAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsIHx8IGlucHV0LnZhbHVlKSB7XG4gICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcbiAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuICAgIGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpIHx8IHNlbGVjdC5vcHRpb25zWzBdO1xuICAgIHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5mdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG4gICAgcmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCBvcHRpb24gPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuZnVuY3Rpb24gYWRkX3Jlc2l6ZV9saXN0ZW5lcihlbGVtZW50LCBmbikge1xuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB9XG4gICAgY29uc3Qgb2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb2JqZWN0Jyk7XG4gICAgb2JqZWN0LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBvdmVyZmxvdzogaGlkZGVuOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7Jyk7XG4gICAgb2JqZWN0LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIG9iamVjdC50eXBlID0gJ3RleHQvaHRtbCc7XG4gICAgb2JqZWN0LnRhYkluZGV4ID0gLTE7XG4gICAgbGV0IHdpbjtcbiAgICBvYmplY3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgICB3aW4gPSBvYmplY3QuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZm4pO1xuICAgIH07XG4gICAgaWYgKC9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob2JqZWN0KTtcbiAgICAgICAgb2JqZWN0LmRhdGEgPSAnYWJvdXQ6YmxhbmsnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb2JqZWN0LmRhdGEgPSAnYWJvdXQ6YmxhbmsnO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgd2luICYmIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyICYmIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmbik7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0W3RvZ2dsZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xufVxuZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UsIGRldGFpbCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoaHRtbCwgYW5jaG9yID0gbnVsbCkge1xuICAgICAgICB0aGlzLmUgPSBlbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5hID0gYW5jaG9yO1xuICAgICAgICB0aGlzLnUoaHRtbCk7XG4gICAgfVxuICAgIG0odGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnQodGFyZ2V0LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ID0gdGFyZ2V0O1xuICAgIH1cbiAgICB1KGh0bWwpIHtcbiAgICAgICAgdGhpcy5lLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHRoaXMubiA9IEFycmF5LmZyb20odGhpcy5lLmNoaWxkTm9kZXMpO1xuICAgIH1cbiAgICBwKGh0bWwpIHtcbiAgICAgICAgdGhpcy5kKCk7XG4gICAgICAgIHRoaXMudShodG1sKTtcbiAgICAgICAgdGhpcy5tKHRoaXMudCwgdGhpcy5hKTtcbiAgICB9XG4gICAgZCgpIHtcbiAgICAgICAgdGhpcy5uLmZvckVhY2goZGV0YWNoKTtcbiAgICB9XG59XG5cbmNvbnN0IGFjdGl2ZV9kb2NzID0gbmV3IFNldCgpO1xubGV0IGFjdGl2ZSA9IDA7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9zdHJpbmctaGFzaC9ibG9iL21hc3Rlci9pbmRleC5qc1xuZnVuY3Rpb24gaGFzaChzdHIpIHtcbiAgICBsZXQgaGFzaCA9IDUzODE7XG4gICAgbGV0IGkgPSBzdHIubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pXG4gICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSBeIHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBoYXNoID4+PiAwO1xufVxuZnVuY3Rpb24gY3JlYXRlX3J1bGUobm9kZSwgYSwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNlLCBmbiwgdWlkID0gMCkge1xuICAgIGNvbnN0IHN0ZXAgPSAxNi42NjYgLyBkdXJhdGlvbjtcbiAgICBsZXQga2V5ZnJhbWVzID0gJ3tcXG4nO1xuICAgIGZvciAobGV0IHAgPSAwOyBwIDw9IDE7IHAgKz0gc3RlcCkge1xuICAgICAgICBjb25zdCB0ID0gYSArIChiIC0gYSkgKiBlYXNlKHApO1xuICAgICAgICBrZXlmcmFtZXMgKz0gcCAqIDEwMCArIGAleyR7Zm4odCwgMSAtIHQpfX1cXG5gO1xuICAgIH1cbiAgICBjb25zdCBydWxlID0ga2V5ZnJhbWVzICsgYDEwMCUgeyR7Zm4oYiwgMSAtIGIpfX1cXG59YDtcbiAgICBjb25zdCBuYW1lID0gYF9fc3ZlbHRlXyR7aGFzaChydWxlKX1fJHt1aWR9YDtcbiAgICBjb25zdCBkb2MgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgYWN0aXZlX2RvY3MuYWRkKGRvYyk7XG4gICAgY29uc3Qgc3R5bGVzaGVldCA9IGRvYy5fX3N2ZWx0ZV9zdHlsZXNoZWV0IHx8IChkb2MuX19zdmVsdGVfc3R5bGVzaGVldCA9IGRvYy5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQoJ3N0eWxlJykpLnNoZWV0KTtcbiAgICBjb25zdCBjdXJyZW50X3J1bGVzID0gZG9jLl9fc3ZlbHRlX3J1bGVzIHx8IChkb2MuX19zdmVsdGVfcnVsZXMgPSB7fSk7XG4gICAgaWYgKCFjdXJyZW50X3J1bGVzW25hbWVdKSB7XG4gICAgICAgIGN1cnJlbnRfcnVsZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICBzdHlsZXNoZWV0Lmluc2VydFJ1bGUoYEBrZXlmcmFtZXMgJHtuYW1lfSAke3J1bGV9YCwgc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb24gPSBub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJztcbiAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IGAke2FuaW1hdGlvbiA/IGAke2FuaW1hdGlvbn0sIGAgOiBgYH0ke25hbWV9ICR7ZHVyYXRpb259bXMgbGluZWFyICR7ZGVsYXl9bXMgMSBib3RoYDtcbiAgICBhY3RpdmUgKz0gMTtcbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpIHtcbiAgICBjb25zdCBwcmV2aW91cyA9IChub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJykuc3BsaXQoJywgJyk7XG4gICAgY29uc3QgbmV4dCA9IHByZXZpb3VzLmZpbHRlcihuYW1lXG4gICAgICAgID8gYW5pbSA9PiBhbmltLmluZGV4T2YobmFtZSkgPCAwIC8vIHJlbW92ZSBzcGVjaWZpYyBhbmltYXRpb25cbiAgICAgICAgOiBhbmltID0+IGFuaW0uaW5kZXhPZignX19zdmVsdGUnKSA9PT0gLTEgLy8gcmVtb3ZlIGFsbCBTdmVsdGUgYW5pbWF0aW9uc1xuICAgICk7XG4gICAgY29uc3QgZGVsZXRlZCA9IHByZXZpb3VzLmxlbmd0aCAtIG5leHQubGVuZ3RoO1xuICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gbmV4dC5qb2luKCcsICcpO1xuICAgICAgICBhY3RpdmUgLT0gZGVsZXRlZDtcbiAgICAgICAgaWYgKCFhY3RpdmUpXG4gICAgICAgICAgICBjbGVhcl9ydWxlcygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsZWFyX3J1bGVzKCkge1xuICAgIHJhZigoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGFjdGl2ZV9kb2NzLmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlc2hlZXQgPSBkb2MuX19zdmVsdGVfc3R5bGVzaGVldDtcbiAgICAgICAgICAgIGxldCBpID0gc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQuZGVsZXRlUnVsZShpKTtcbiAgICAgICAgICAgIGRvYy5fX3N2ZWx0ZV9ydWxlcyA9IHt9O1xuICAgICAgICB9KTtcbiAgICAgICAgYWN0aXZlX2RvY3MuY2xlYXIoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2FuaW1hdGlvbihub2RlLCBmcm9tLCBmbiwgcGFyYW1zKSB7XG4gICAgaWYgKCFmcm9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB0byA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGZyb20ubGVmdCA9PT0gdG8ubGVmdCAmJiBmcm9tLnJpZ2h0ID09PSB0by5yaWdodCAmJiBmcm9tLnRvcCA9PT0gdG8udG9wICYmIGZyb20uYm90dG9tID09PSB0by5ib3R0b20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogc2hvdWxkIHRoaXMgYmUgc2VwYXJhdGVkIGZyb20gZGVzdHJ1Y3R1cmluZz8gT3Igc3RhcnQvZW5kIGFkZGVkIHRvIHB1YmxpYyBhcGkgYW5kIGRvY3VtZW50YXRpb24/XG4gICAgc3RhcnQ6IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86XG4gICAgZW5kID0gc3RhcnRfdGltZSArIGR1cmF0aW9uLCB0aWNrID0gbm9vcCwgY3NzIH0gPSBmbihub2RlLCB7IGZyb20sIHRvIH0sIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IG5hbWU7XG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5KSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgbmFtZSk7XG4gICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9vcChub3cgPT4ge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQgJiYgbm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkICYmIG5vdyA+PSBlbmQpIHtcbiAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBzdGFydF90aW1lO1xuICAgICAgICAgICAgY29uc3QgdCA9IDAgKyAxICogZWFzaW5nKHAgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBzdGFydCgpO1xuICAgIHRpY2soMCwgMSk7XG4gICAgcmV0dXJuIHN0b3A7XG59XG5mdW5jdGlvbiBmaXhfcG9zaXRpb24obm9kZSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzdHlsZTtcbiAgICAgICAgY29uc3QgYSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZF90cmFuc2Zvcm0obm9kZSwgYSkge1xuICAgIGNvbnN0IGIgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChhLmxlZnQgIT09IGIubGVmdCB8fCBhLnRvcCAhPT0gYi50b3ApIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7YS5sZWZ0IC0gYi5sZWZ0fXB4LCAke2EudG9wIC0gYi50b3B9cHgpYDtcbiAgICB9XG59XG5cbmxldCBjdXJyZW50X2NvbXBvbmVudDtcbmZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcbiAgICBpZiAoIWN1cnJlbnRfY29tcG9uZW50KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZ1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbmApO1xuICAgIHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5mdW5jdGlvbiBvbk1vdW50KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5mdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgcmV0dXJuICh0eXBlLCBkZXRhaWwpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgLy8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgLy8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbmZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4oZXZlbnQpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5jb25zdCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG4gICAgaWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG4gICAgICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2soKSB7XG4gICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgcmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5mdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuICAgIGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmxldCBmbHVzaGluZyA9IGZhbHNlO1xuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBpZiAoZmx1c2hpbmcpXG4gICAgICAgIHJldHVybjtcbiAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgZG8ge1xuICAgICAgICAvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG4gICAgICAgIC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbaV07XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShjb21wb25lbnQuJCQpO1xuICAgICAgICB9XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgIC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuICAgICAgICAvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG4gICAgICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcbiAgICB9XG4gICAgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGZsdXNoaW5nID0gZmFsc2U7XG4gICAgc2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAkJC51cGRhdGUoKTtcbiAgICAgICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAgICAgY29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcbiAgICAgICAgJCQuZGlydHkgPSBbLTFdO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuICAgICAgICAkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbiAgICB9XG59XG5cbmxldCBwcm9taXNlO1xuZnVuY3Rpb24gd2FpdCgpIHtcbiAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQoYCR7ZGlyZWN0aW9uID8gJ2ludHJvJyA6ICdvdXRybyd9JHtraW5kfWApKTtcbn1cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xubGV0IG91dHJvcztcbmZ1bmN0aW9uIGdyb3VwX291dHJvcygpIHtcbiAgICBvdXRyb3MgPSB7XG4gICAgICAgIHI6IDAsXG4gICAgICAgIGM6IFtdLFxuICAgICAgICBwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNoZWNrX291dHJvcygpIHtcbiAgICBpZiAoIW91dHJvcy5yKSB7XG4gICAgICAgIHJ1bl9hbGwob3V0cm9zLmMpO1xuICAgIH1cbiAgICBvdXRyb3MgPSBvdXRyb3MucDtcbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLmkpIHtcbiAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgYmxvY2suaShsb2NhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9vdXQoYmxvY2ssIGxvY2FsLCBkZXRhY2gsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcbiAgICAgICAgaWYgKG91dHJvaW5nLmhhcyhibG9jaykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG91dHJvaW5nLmFkZChibG9jayk7XG4gICAgICAgIG91dHJvcy5jLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmQoMSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJsb2NrLm8obG9jYWwpO1xuICAgIH1cbn1cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcbmZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IGZhbHNlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBsZXQgdGFzaztcbiAgICBsZXQgdWlkID0gMDtcbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG4gICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuICAgICAgICBjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcbiAgICAgICAgaWYgKHRhc2spXG4gICAgICAgICAgICB0YXNrLmFib3J0KCk7XG4gICAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIHRydWUsICdzdGFydCcpKTtcbiAgICAgICAgdGFzayA9IGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBlbmRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEsIDApO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCB0cnVlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQoKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlKTtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKCk7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oZ28pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBjb25zdCBncm91cCA9IG91dHJvcztcbiAgICBncm91cC5yICs9IDE7XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSBwcm9ncmFtLmIgLSB0O1xuICAgICAgICBkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGE6IHQsXG4gICAgICAgICAgICBiOiBwcm9ncmFtLmIsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBzdGFydDogcHJvZ3JhbS5zdGFydCxcbiAgICAgICAgICAgIGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuICAgICAgICAgICAgZ3JvdXA6IHByb2dyYW0uZ3JvdXBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oYikge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0ge1xuICAgICAgICAgICAgc3RhcnQ6IG5vdygpICsgZGVsYXksXG4gICAgICAgICAgICBiXG4gICAgICAgIH07XG4gICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG4gICAgICAgICAgICBvdXRyb3MuciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIpXG4gICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG4gICAgICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgcnVubmluZ19wcm9ncmFtLmIsIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbiwgMCwgZWFzaW5nLCBjb25maWcuY3NzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0ID0gcnVubmluZ19wcm9ncmFtLmIsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKGIpIHtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG4gICAgY29uc3QgdG9rZW4gPSBpbmZvLnRva2VuID0ge307XG4gICAgZnVuY3Rpb24gdXBkYXRlKHR5cGUsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChpbmZvLnRva2VuICE9PSB0b2tlbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5mby5yZXNvbHZlZCA9IHZhbHVlO1xuICAgICAgICBsZXQgY2hpbGRfY3R4ID0gaW5mby5jdHg7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG4gICAgICAgICAgICBjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZSAmJiAoaW5mby5jdXJyZW50ID0gdHlwZSkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChpbmZvLmJsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgYmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2NrLmQoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgICAgIGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG4gICAgICAgICAgICBuZWVkc19mbHVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5ibG9jayA9IGJsb2NrO1xuICAgICAgICBpZiAoaW5mby5ibG9ja3MpXG4gICAgICAgICAgICBpbmZvLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcbiAgICAgICAgaWYgKG5lZWRzX2ZsdXNoKSB7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc19wcm9taXNlKHByb21pc2UpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgICAgIHByb21pc2UudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0gcHJvbWlzZTtcbiAgICB9XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpO1xuXG5mdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5kKDEpO1xuICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cbmZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2gob2xkX2Jsb2NrcywgZGlydHksIGdldF9rZXksIGR5bmFtaWMsIGN0eCwgbGlzdCwgbG9va3VwLCBub2RlLCBkZXN0cm95LCBjcmVhdGVfZWFjaF9ibG9jaywgbmV4dCwgZ2V0X2NvbnRleHQpIHtcbiAgICBsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuICAgIGxldCBuID0gbGlzdC5sZW5ndGg7XG4gICAgbGV0IGkgPSBvO1xuICAgIGNvbnN0IG9sZF9pbmRleGVzID0ge307XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcbiAgICBjb25zdCBuZXdfYmxvY2tzID0gW107XG4gICAgY29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG4gICAgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgICAgYmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHluYW1pYykge1xuICAgICAgICAgICAgYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBuZXdfbG9va3VwLnNldChrZXksIG5ld19ibG9ja3NbaV0gPSBibG9jayk7XG4gICAgICAgIGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpXG4gICAgICAgICAgICBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcbiAgICB9XG4gICAgY29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgYmxvY2subShub2RlLCBuZXh0LCBsb29rdXAuaGFzKGJsb2NrLmtleSkpO1xuICAgICAgICBsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuICAgICAgICBuZXh0ID0gYmxvY2suZmlyc3Q7XG4gICAgICAgIG4tLTtcbiAgICB9XG4gICAgd2hpbGUgKG8gJiYgbikge1xuICAgICAgICBjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuICAgICAgICBjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcbiAgICAgICAgaWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICBuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuICAgICAgICAgICAgby0tO1xuICAgICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBibG9ja1xuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcbiAgICAgICAgICAgIGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoby0tKSB7XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG4gICAgICAgIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICB9XG4gICAgd2hpbGUgKG4pXG4gICAgICAgIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG4gICAgcmV0dXJuIG5ld19ibG9ja3M7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG4gICAgICAgIGlmIChrZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaGApO1xuICAgICAgICB9XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuXG4vLyBzb3VyY2U6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbFxuY29uc3QgYm9vbGVhbl9hdHRyaWJ1dGVzID0gbmV3IFNldChbXG4gICAgJ2FsbG93ZnVsbHNjcmVlbicsXG4gICAgJ2FsbG93cGF5bWVudHJlcXVlc3QnLFxuICAgICdhc3luYycsXG4gICAgJ2F1dG9mb2N1cycsXG4gICAgJ2F1dG9wbGF5JyxcbiAgICAnY2hlY2tlZCcsXG4gICAgJ2NvbnRyb2xzJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2RlZmVyJyxcbiAgICAnZGlzYWJsZWQnLFxuICAgICdmb3Jtbm92YWxpZGF0ZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ2lzbWFwJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl0pO1xuXG5jb25zdCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciA9IC9bXFxzJ1wiPi89XFx1e0ZERDB9LVxcdXtGREVGfVxcdXtGRkZFfVxcdXtGRkZGfVxcdXsxRkZGRX1cXHV7MUZGRkZ9XFx1ezJGRkZFfVxcdXsyRkZGRn1cXHV7M0ZGRkV9XFx1ezNGRkZGfVxcdXs0RkZGRX1cXHV7NEZGRkZ9XFx1ezVGRkZFfVxcdXs1RkZGRn1cXHV7NkZGRkV9XFx1ezZGRkZGfVxcdXs3RkZGRX1cXHV7N0ZGRkZ9XFx1ezhGRkZFfVxcdXs4RkZGRn1cXHV7OUZGRkV9XFx1ezlGRkZGfVxcdXtBRkZGRX1cXHV7QUZGRkZ9XFx1e0JGRkZFfVxcdXtCRkZGRn1cXHV7Q0ZGRkV9XFx1e0NGRkZGfVxcdXtERkZGRX1cXHV7REZGRkZ9XFx1e0VGRkZFfVxcdXtFRkZGRn1cXHV7RkZGRkV9XFx1e0ZGRkZGfVxcdXsxMEZGRkV9XFx1ezEwRkZGRn1dL3U7XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcbi8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNub25jaGFyYWN0ZXJcbmZ1bmN0aW9uIHNwcmVhZChhcmdzLCBjbGFzc2VzX3RvX2FkZCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCAuLi5hcmdzKTtcbiAgICBpZiAoY2xhc3Nlc190b19hZGQpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyArPSAnICcgKyBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RyID0gJyc7XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLnRlc3QobmFtZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKVxuICAgICAgICAgICAgc3RyICs9IFwiIFwiICsgbmFtZTtcbiAgICAgICAgZWxzZSBpZiAoYm9vbGVhbl9hdHRyaWJ1dGVzLmhhcyhuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiIFwiICsgbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdHIgKz0gYCAke25hbWV9PVwiJHtTdHJpbmcodmFsdWUpLnJlcGxhY2UoL1wiL2csICcmIzM0OycpLnJlcGxhY2UoLycvZywgJyYjMzk7Jyl9XCJgO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IGVzY2FwZWQgPSB7XG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OycsXG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnXG59O1xuZnVuY3Rpb24gZXNjYXBlKGh0bWwpIHtcbiAgICByZXR1cm4gU3RyaW5nKGh0bWwpLnJlcGxhY2UoL1tcIicmPD5dL2csIG1hdGNoID0+IGVzY2FwZWRbbWF0Y2hdKTtcbn1cbmZ1bmN0aW9uIGVhY2goaXRlbXMsIGZuKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc3RyICs9IGZuKGl0ZW1zW2ldLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IG1pc3NpbmdfY29tcG9uZW50ID0ge1xuICAgICQkcmVuZGVyOiAoKSA9PiAnJ1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlX2NvbXBvbmVudChjb21wb25lbnQsIG5hbWUpIHtcbiAgICBpZiAoIWNvbXBvbmVudCB8fCAhY29tcG9uZW50LiQkcmVuZGVyKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnc3ZlbHRlOmNvbXBvbmVudCcpXG4gICAgICAgICAgICBuYW1lICs9ICcgdGhpcz17Li4ufSc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgPCR7bmFtZX0+IGlzIG5vdCBhIHZhbGlkIFNTUiBjb21wb25lbnQuIFlvdSBtYXkgbmVlZCB0byByZXZpZXcgeW91ciBidWlsZCBjb25maWcgdG8gZW5zdXJlIHRoYXQgZGVwZW5kZW5jaWVzIGFyZSBjb21waWxlZCwgcmF0aGVyIHRoYW4gaW1wb3J0ZWQgYXMgcHJlLWNvbXBpbGVkIG1vZHVsZXNgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGRlYnVnKGZpbGUsIGxpbmUsIGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgY29uc29sZS5sb2coYHtAZGVidWd9ICR7ZmlsZSA/IGZpbGUgKyAnICcgOiAnJ30oJHtsaW5lfToke2NvbHVtbn0pYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIHJldHVybiAnJztcbn1cbmxldCBvbl9kZXN0cm95O1xuZnVuY3Rpb24gY3JlYXRlX3Nzcl9jb21wb25lbnQoZm4pIHtcbiAgICBmdW5jdGlvbiAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMpIHtcbiAgICAgICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgICAgICBjb25zdCAkJCA9IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3ksXG4gICAgICAgICAgICBjb250ZXh0OiBuZXcgTWFwKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSksXG4gICAgICAgICAgICAvLyB0aGVzZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGRpc2NhcmRlZFxuICAgICAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKVxuICAgICAgICB9O1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoeyAkJCB9KTtcbiAgICAgICAgY29uc3QgaHRtbCA9IGZuKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cyk7XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjogKHByb3BzID0ge30sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgICAgICAgb25fZGVzdHJveSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geyB0aXRsZTogJycsIGhlYWQ6ICcnLCBjc3M6IG5ldyBTZXQoKSB9O1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9ICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJ1bl9hbGwob25fZGVzdHJveSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgY3NzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFycmF5LmZyb20ocmVzdWx0LmNzcykubWFwKGNzcyA9PiBjc3MuY29kZSkuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbnVsbCAvLyBUT0RPXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkOiByZXN1bHQudGl0bGUgKyByZXN1bHQuaGVhZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJCRyZW5kZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkX2F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChib29sZWFuICYmICF2YWx1ZSkpXG4gICAgICAgIHJldHVybiAnJztcbiAgICByZXR1cm4gYCAke25hbWV9JHt2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogYD0ke3R5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeShlc2NhcGUodmFsdWUpKSA6IGBcIiR7dmFsdWV9XCJgfWB9YDtcbn1cbmZ1bmN0aW9uIGFkZF9jbGFzc2VzKGNsYXNzZXMpIHtcbiAgICByZXR1cm4gY2xhc3NlcyA/IGAgY2xhc3M9XCIke2NsYXNzZXN9XCJgIDogYGA7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcbiAgICBibG9jayAmJiBibG9jay5jKCk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuICAgIGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgb25fbW91bnQsIG9uX2Rlc3Ryb3ksIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcbiAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICBpZiAob25fZGVzdHJveSkge1xuICAgICAgICAgICAgb25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuICAgICAgICAgICAgcnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG4gICAgfSk7XG4gICAgYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5mdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICBydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cbiAgICAgICAgLy8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuICAgICAgICAkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAkJC5jdHggPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuICAgIGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICAgICAgY29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG4gICAgfVxuICAgIGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9ICgxIDw8IChpICUgMzEpKTtcbn1cbmZ1bmN0aW9uIGluaXQoY29tcG9uZW50LCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBub3RfZXF1YWwsIHByb3BzLCBkaXJ0eSA9IFstMV0pIHtcbiAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgY29uc3QgcHJvcF92YWx1ZXMgPSBvcHRpb25zLnByb3BzIHx8IHt9O1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkID0ge1xuICAgICAgICBmcmFnbWVudDogbnVsbCxcbiAgICAgICAgY3R4OiBudWxsLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdXBkYXRlOiBub29wLFxuICAgICAgICBub3RfZXF1YWwsXG4gICAgICAgIGJvdW5kOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlXG4gICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgb25fZGVzdHJveTogW10sXG4gICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICBjb250ZXh0OiBuZXcgTWFwKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSksXG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuICAgICAgICBkaXJ0eVxuICAgIH07XG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gICAgJCQuY3R4ID0gaW5zdGFuY2VcbiAgICAgICAgPyBpbnN0YW5jZShjb21wb25lbnQsIHByb3BfdmFsdWVzLCAoaSwgcmV0LCAuLi5yZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcbiAgICAgICAgICAgIGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgJCQuY3R4W2ldID0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQkLmJvdW5kW2ldKVxuICAgICAgICAgICAgICAgICAgICAkJC5ib3VuZFtpXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlYWR5KVxuICAgICAgICAgICAgICAgICAgICBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KVxuICAgICAgICA6IFtdO1xuICAgICQkLnVwZGF0ZSgpO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgIC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuICAgICQkLmZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50ID8gY3JlYXRlX2ZyYWdtZW50KCQkLmN0eCkgOiBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaHlkcmF0ZSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludHJvKVxuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuICAgICAgICBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuICAgICAgICBmbHVzaCgpO1xuICAgIH1cbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5sZXQgU3ZlbHRlRWxlbWVudDtcbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBTdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCQuc2xvdHRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLiQkLnNsb3R0ZWRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIF9vbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbYXR0cl0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIGRlbGVnYXRlIHRvIGFkZEV2ZW50TGlzdGVuZXI/XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzZXQoKSB7XG4gICAgICAgICAgICAvLyBvdmVycmlkZGVuIGJ5IGluc3RhbmNlLCBpZiBpdCBoYXMgcHJvcHNcbiAgICAgICAgfVxuICAgIH07XG59XG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAkc2V0KCkge1xuICAgICAgICAvLyBvdmVycmlkZGVuIGJ5IGluc3RhbmNlLCBpZiBpdCBoYXMgcHJvcHNcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoX2Rldih0eXBlLCBkZXRhaWwpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudCh0eXBlLCBPYmplY3QuYXNzaWduKHsgdmVyc2lvbjogJzMuMjAuMScgfSwgZGV0YWlsKSkpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoXCJTdmVsdGVET01JbnNlcnRcIiwgeyB0YXJnZXQsIG5vZGUgfSk7XG4gICAgYXBwZW5kKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBpbnNlcnRfZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KFwiU3ZlbHRlRE9NSW5zZXJ0XCIsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9kZXYobm9kZSkge1xuICAgIGRpc3BhdGNoX2RldihcIlN2ZWx0ZURPTVJlbW92ZVwiLCB7IG5vZGUgfSk7XG4gICAgZGV0YWNoKG5vZGUpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2JldHdlZW5fZGV2KGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nICYmIGJlZm9yZS5uZXh0U2libGluZyAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9iZWZvcmVfZGV2KGFmdGVyKSB7XG4gICAgd2hpbGUgKGFmdGVyLnByZXZpb3VzU2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGFmdGVyLnByZXZpb3VzU2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2FmdGVyX2RldihiZWZvcmUpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsaXN0ZW5fZGV2KG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zLCBoYXNfcHJldmVudF9kZWZhdWx0LCBoYXNfc3RvcF9wcm9wYWdhdGlvbikge1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IG9wdGlvbnMgPT09IHRydWUgPyBbXCJjYXB0dXJlXCJdIDogb3B0aW9ucyA/IEFycmF5LmZyb20oT2JqZWN0LmtleXMob3B0aW9ucykpIDogW107XG4gICAgaWYgKGhhc19wcmV2ZW50X2RlZmF1bHQpXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdwcmV2ZW50RGVmYXVsdCcpO1xuICAgIGlmIChoYXNfc3RvcF9wcm9wYWdhdGlvbilcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3N0b3BQcm9wYWdhdGlvbicpO1xuICAgIGRpc3BhdGNoX2RldihcIlN2ZWx0ZURPTUFkZEV2ZW50TGlzdGVuZXJcIiwgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoX2RldihcIlN2ZWx0ZURPTVJlbW92ZUV2ZW50TGlzdGVuZXJcIiwgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHJfZGV2KG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBkaXNwYXRjaF9kZXYoXCJTdmVsdGVET01SZW1vdmVBdHRyaWJ1dGVcIiwgeyBub2RlLCBhdHRyaWJ1dGUgfSk7XG4gICAgZWxzZVxuICAgICAgICBkaXNwYXRjaF9kZXYoXCJTdmVsdGVET01TZXRBdHRyaWJ1dGVcIiwgeyBub2RlLCBhdHRyaWJ1dGUsIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gcHJvcF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoXCJTdmVsdGVET01TZXRQcm9wZXJ0eVwiLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIGRhdGFzZXRfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGUuZGF0YXNldFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoXCJTdmVsdGVET01TZXREYXRhc2V0XCIsIHsgbm9kZSwgcHJvcGVydHksIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfZGV2KHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0LmRhdGEgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICBkaXNwYXRjaF9kZXYoXCJTdmVsdGVET01TZXREYXRhXCIsIHsgbm9kZTogdGV4dCwgZGF0YSB9KTtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9hcmd1bWVudChhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ3N0cmluZycgJiYgIShhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gYXJnKSkge1xuICAgICAgICBsZXQgbXNnID0gJ3sjZWFjaH0gb25seSBpdGVyYXRlcyBvdmVyIGFycmF5LWxpa2Ugb2JqZWN0cy4nO1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBhcmcgJiYgU3ltYm9sLml0ZXJhdG9yIGluIGFyZykge1xuICAgICAgICAgICAgbXNnICs9ICcgWW91IGNhbiB1c2UgYSBzcHJlYWQgdG8gY29udmVydCB0aGlzIGl0ZXJhYmxlIGludG8gYW4gYXJyYXkuJztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zbG90cyhuYW1lLCBzbG90LCBrZXlzKSB7XG4gICAgZm9yIChjb25zdCBzbG90X2tleSBvZiBPYmplY3Qua2V5cyhzbG90KSkge1xuICAgICAgICBpZiAoIX5rZXlzLmluZGV4T2Yoc2xvdF9rZXkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYDwke25hbWV9PiByZWNlaXZlZCBhbiB1bmV4cGVjdGVkIHNsb3QgXCIke3Nsb3Rfa2V5fVwiLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU3ZlbHRlQ29tcG9uZW50RGV2IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAoIW9wdGlvbnMudGFyZ2V0ICYmICFvcHRpb25zLiQkaW5saW5lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAndGFyZ2V0JyBpcyBhIHJlcXVpcmVkIG9wdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgICRkZXN0cm95KCkge1xuICAgICAgICBzdXBlci4kZGVzdHJveSgpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb21wb25lbnQgd2FzIGFscmVhZHkgZGVzdHJveWVkYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAkY2FwdHVyZV9zdGF0ZSgpIHsgfVxuICAgICRpbmplY3Rfc3RhdGUoKSB7IH1cbn1cbmZ1bmN0aW9uIGxvb3BfZ3VhcmQodGltZW91dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gdGltZW91dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmZpbml0ZSBsb29wIGRldGVjdGVkYCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgeyBIdG1sVGFnLCBTdmVsdGVDb21wb25lbnQsIFN2ZWx0ZUNvbXBvbmVudERldiwgU3ZlbHRlRWxlbWVudCwgYWN0aW9uX2Rlc3Ryb3llciwgYWRkX2F0dHJpYnV0ZSwgYWRkX2NsYXNzZXMsIGFkZF9mbHVzaF9jYWxsYmFjaywgYWRkX2xvY2F0aW9uLCBhZGRfcmVuZGVyX2NhbGxiYWNrLCBhZGRfcmVzaXplX2xpc3RlbmVyLCBhZGRfdHJhbnNmb3JtLCBhZnRlclVwZGF0ZSwgYXBwZW5kLCBhcHBlbmRfZGV2LCBhc3NpZ24sIGF0dHIsIGF0dHJfZGV2LCBiZWZvcmVVcGRhdGUsIGJpbmQsIGJpbmRpbmdfY2FsbGJhY2tzLCBibGFua19vYmplY3QsIGJ1YmJsZSwgY2hlY2tfb3V0cm9zLCBjaGlsZHJlbiwgY2xhaW1fY29tcG9uZW50LCBjbGFpbV9lbGVtZW50LCBjbGFpbV9zcGFjZSwgY2xhaW1fdGV4dCwgY2xlYXJfbG9vcHMsIGNvbXBvbmVudF9zdWJzY3JpYmUsIGNvbXB1dGVfcmVzdF9wcm9wcywgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBjcmVhdGVfYW5pbWF0aW9uLCBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uLCBjcmVhdGVfY29tcG9uZW50LCBjcmVhdGVfaW5fdHJhbnNpdGlvbiwgY3JlYXRlX291dF90cmFuc2l0aW9uLCBjcmVhdGVfc2xvdCwgY3JlYXRlX3Nzcl9jb21wb25lbnQsIGN1cnJlbnRfY29tcG9uZW50LCBjdXN0b21fZXZlbnQsIGRhdGFzZXRfZGV2LCBkZWJ1ZywgZGVzdHJveV9ibG9jaywgZGVzdHJveV9jb21wb25lbnQsIGRlc3Ryb3lfZWFjaCwgZGV0YWNoLCBkZXRhY2hfYWZ0ZXJfZGV2LCBkZXRhY2hfYmVmb3JlX2RldiwgZGV0YWNoX2JldHdlZW5fZGV2LCBkZXRhY2hfZGV2LCBkaXJ0eV9jb21wb25lbnRzLCBkaXNwYXRjaF9kZXYsIGVhY2gsIGVsZW1lbnQsIGVsZW1lbnRfaXMsIGVtcHR5LCBlc2NhcGUsIGVzY2FwZWQsIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMsIGZpeF9hbmRfZGVzdHJveV9ibG9jaywgZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jaywgZml4X3Bvc2l0aW9uLCBmbHVzaCwgZ2V0Q29udGV4dCwgZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUsIGdldF9jdXJyZW50X2NvbXBvbmVudCwgZ2V0X3Nsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dCwgZ2V0X3NwcmVhZF9vYmplY3QsIGdldF9zcHJlYWRfdXBkYXRlLCBnZXRfc3RvcmVfdmFsdWUsIGdsb2JhbHMsIGdyb3VwX291dHJvcywgaGFuZGxlX3Byb21pc2UsIGhhc19wcm9wLCBpZGVudGl0eSwgaW5pdCwgaW5zZXJ0LCBpbnNlcnRfZGV2LCBpbnRyb3MsIGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLCBpc19jbGllbnQsIGlzX2Z1bmN0aW9uLCBpc19wcm9taXNlLCBsaXN0ZW4sIGxpc3Rlbl9kZXYsIGxvb3AsIGxvb3BfZ3VhcmQsIG1pc3NpbmdfY29tcG9uZW50LCBtb3VudF9jb21wb25lbnQsIG5vb3AsIG5vdF9lcXVhbCwgbm93LCBudWxsX3RvX2VtcHR5LCBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzLCBvbkRlc3Ryb3ksIG9uTW91bnQsIG9uY2UsIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBwcmV2ZW50X2RlZmF1bHQsIHByb3BfZGV2LCBxdWVyeV9zZWxlY3Rvcl9hbGwsIHJhZiwgcnVuLCBydW5fYWxsLCBzYWZlX25vdF9lcXVhbCwgc2NoZWR1bGVfdXBkYXRlLCBzZWxlY3RfbXVsdGlwbGVfdmFsdWUsIHNlbGVjdF9vcHRpb24sIHNlbGVjdF9vcHRpb25zLCBzZWxlY3RfdmFsdWUsIHNlbGYsIHNldENvbnRleHQsIHNldF9hdHRyaWJ1dGVzLCBzZXRfY3VycmVudF9jb21wb25lbnQsIHNldF9jdXN0b21fZWxlbWVudF9kYXRhLCBzZXRfZGF0YSwgc2V0X2RhdGFfZGV2LCBzZXRfaW5wdXRfdHlwZSwgc2V0X2lucHV0X3ZhbHVlLCBzZXRfbm93LCBzZXRfcmFmLCBzZXRfc3RvcmVfdmFsdWUsIHNldF9zdHlsZSwgc2V0X3N2Z19hdHRyaWJ1dGVzLCBzcGFjZSwgc3ByZWFkLCBzdG9wX3Byb3BhZ2F0aW9uLCBzdWJzY3JpYmUsIHN2Z19lbGVtZW50LCB0ZXh0LCB0aWNrLCB0aW1lX3Jhbmdlc190b19hcnJheSwgdG9fbnVtYmVyLCB0b2dnbGVfY2xhc3MsIHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0LCB1cGRhdGVfa2V5ZWRfZWFjaCwgdmFsaWRhdGVfY29tcG9uZW50LCB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50LCB2YWxpZGF0ZV9lYWNoX2tleXMsIHZhbGlkYXRlX3Nsb3RzLCB2YWxpZGF0ZV9zdG9yZSwgeGxpbmtfYXR0ciB9O1xuIiwiPHNjcmlwdD5cclxuICAgIGV4cG9ydCBsZXQgdHlwZSxzaXplLGluZmx1ZW5jZT0wLGJvcmRlcmVkPWZhbHNlO1xyXG4gICAgbGV0IGxhYmVsID0gdHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR5cGUuc2xpY2UoMSksXHJcbiAgICAgICAga2V5ID0ge3Byb2R1Y2U6J3BybycsdHJhZGU6J3RyZCcscG9saXRpY3M6J3BvbCcscmVzZWFyY2g6J3Jlcycsc3VydmV5OidzdXInLHdhcmZhcmU6J3dhcicsY29sb25pemU6J2NvbCcsXHJcbiAgICAgICAgd2F0ZXI6J3d0cicsIGZvb2Q6J2Z1ZCcsIHNpbGljb246J3NpbCcsIG9yZTonb3JlJywgYWR2YW5jZWQ6J2FkdicsIGZlcnRpbGU6J2ZlcicsIG1ldGFsbGljOidtZXQnLGluZmx1ZW5jZTonaW5mJ31bdHlwZV07XHJcbjwvc2NyaXB0PlxyXG48c3R5bGU+XHJcbiAgICAucHJvIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yIDogcmdiKDI1NSwgMjU1LCAxMTkpO1xyXG4gICAgfVxyXG4gICAgLnJlcyB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvciA6IHJnYigxMTksIDE4MywgMjU1KTtcclxuICAgIH1cclxuICAgIC50cmQge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3IgOiByZ2IoMjU1LCAxNjksIDI0MSk7XHJcbiAgICB9XHJcbiAgICAucG9sIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yIDogcmdiKDIwOSwgMTg2LCAxNDMpO1xyXG4gICAgfVxyXG4gICAgLnN1ciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvciA6IHJnYigxNDMsIDI1NSwgMTQzKTtcclxuICAgIH1cclxuICAgIC53YXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3IgOiByZ2IoMjU1LCA5OCwgOTgpO1xyXG4gICAgfVxyXG4gICAgLmNvbCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvciA6IHJnYigyNTUsIDE4NCwgMTAyKTtcclxuICAgIH1cclxuICAgIC5mZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3IgOiByZ2IoMTQ4LCAxOTcsIDE1Mik7XHJcbiAgICB9XHJcbiAgICAuYWR2IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yIDogcmdiKDIzMSwgMTg0LCAyMTUpO1xyXG4gICAgfVxyXG4gICAgLm1ldCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvciA6IHJnYigxODcsIDU1LCA1NSk7XHJcbiAgICB9XHJcbiAgICAuZnVkIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yIDogcmdiKDI1NSwgMjE1LCAxNDIpO1xyXG4gICAgfVxyXG4gICAgLm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvciA6IHJnYigyMTIsIDEzOSwgNTYpO1xyXG4gICAgfVxyXG4gICAgLnd0ciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvciA6IHJnYigxMTUsIDE0MSwgMjUzKTtcclxuICAgIH1cclxuICAgIC5zaWwge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3IgOiByZ2IoMTYxLCA0NSwgMjU1KTtcclxuICAgIH1cclxuICAgIC5pY28tc20ge1xyXG4gICAgICAgIHBhZGRpbmc6LjJlbTtcclxuICAgICAgICBoZWlnaHQ6LjhlbTtcclxuICAgICAgICB3aWR0aDouOGVtO1xyXG4gICAgfVxyXG4gICAgLmljby1jb250LWxnLCAuaWNvLWNvbnQtc20ge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG5cdFx0Ym9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgfVxyXG4gICAgLmljby1jb250LXNtIHtcclxuICAgICAgICBoZWlnaHQ6MS4yZW07XHJcbiAgICAgICAgd2lkdGg6MS4yZW07XHJcbiAgICB9XHJcbiAgICAuaWNvLWxnIHtcclxuICAgICAgICBoZWlnaHQ6MmVtO1xyXG4gICAgICAgIHdpZHRoOjJlbTtcclxuICAgIH1cclxuICAgIC5pY28tY29udC1sZyB7XHJcbiAgICAgICAgaGVpZ2h0OjJlbTtcclxuICAgICAgICB3aWR0aDoyZW07XHJcbiAgICB9XHJcbiAgICAuaW5mIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYmFja2dyb3VuZDogZ3JleTtcclxuICAgIH1cclxuICAgIC5udW0ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgICAgICAgZm9udC1zaXplOiAuNXZoO1xyXG4gICAgfVxyXG48L3N0eWxlPlxyXG57I2lmIHR5cGU9PSdpbmZsdWVuY2UnfVxyXG48ZGl2IGNsYXNzPSdpY28tY29udC17c2l6ZX0nIHN0eWxlPSd7KGJvcmRlcmVkKT8nYm9yZGVyOjFweCBzb2xpZCBibGFjayc6Jyd9Jz5cclxuICAgIDxpbWcgIGNsYXNzPSdpY28te3NpemV9IGluZicgc3R5bGU9J3RyYW5zZm9ybTogdHJhbnNsYXRlKC0xNSUsIDUlKTs7JyBzcmM9Jy4vaW1hZ2VzL3trZXl9LnN2ZycgYWx0PXtrZXl9PlxyXG4gICAgPHNwYW4gY2xhc3M9J251bSc+e2luZmx1ZW5jZX08L3NwYW4+XHJcbjwvZGl2PlxyXG57OmVsc2V9XHJcbjxkaXYgY2xhc3M9J2ljby1jb250LXtzaXplfSB7a2V5fSc+XHJcbiAgICA8aW1nIGNsYXNzPSdpY28te3NpemV9JyBzcmM9Jy4vaW1hZ2VzL3trZXl9LnN2ZycgYWx0PXtrZXl9PlxyXG48L2Rpdj5cclxuey9pZn0iLCI8c2NyaXB0PlxyXG4gICAgaW1wb3J0IEljb24gZnJvbSAnLi4vY29tcG9uZW50cy9JY29uLnN2ZWx0ZSc7XHJcbiAgICBleHBvcnQgbGV0IHN1cnZleSwgd2FyZmFyZSwgY29sb25pemUsIHByb2R1Y2UsIHRyYWRlLCByZXNlYXJjaDtcclxuICAgIGxldCBpY29ucyA9IFtdO1xyXG4gICAgbGV0IGYgPSAoYyxzKSA9PiB7IGZvciAobGV0IGkgPSAwOyBpIDwgYzsgaSsrKSBpY29ucyA9IFsuLi5pY29ucywge3NpemU6J3NtJyx0eXBlOnN9XTsgfVxyXG4gICAgZihzdXJ2ZXksXCJzdXJ2ZXlcIik7XHJcbiAgICBmKHdhcmZhcmUsXCJ3YXJmYXJlXCIpO1xyXG4gICAgZihjb2xvbml6ZSxcImNvbG9uaXplXCIpO1xyXG4gICAgZihwcm9kdWNlLFwicHJvZHVjZVwiKTtcclxuICAgIGYodHJhZGUsXCJ0cmFkZVwiKTtcclxuICAgIGYocmVzZWFyY2gsXCJyZXNlYXJjaFwiKTtcclxuICAgIGxldCBzaXplID0gYG1pbi1oZWlnaHQ6IGNhbGMoJHtpY29ucy5sZW5ndGh9KjJlbSk7bWF4LWhlaWdodDogY2FsYygke2ljb25zLmxlbmd0aH0qMmVtKTtgO1xyXG48L3NjcmlwdD5cclxuPHN0eWxlPlxyXG4gICAgLmljb25iYXIge1xyXG4gICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuICAgIH1cclxuPC9zdHlsZT5cclxuPGRpdiBjbGFzcz1cImljb25iYXJcIiBzdHlsZT17c2l6ZX0+XHJcbiAgICB7I2VhY2ggaWNvbnMgYXMgaWNvbn1cclxuICAgICAgICA8SWNvbiB7Li4uaWNvbn0vPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtaW4taGVpZ2h0OjAuMXZoO21heC1oZWlnaHQ6MC4xdmg7XCI+PC9kaXY+XHJcbiAgICB7L2VhY2h9XHJcbjwvZGl2PiIsIjxzY3JpcHQ+IFxyXG5pbXBvcnQgSWNvbkJhciBmcm9tICcuLi9jb21wb25lbnRzL0ljb25CYXIuc3ZlbHRlJztcclxuaW1wb3J0IEljb24gZnJvbSAnLi4vY29tcG9uZW50cy9JY29uLnN2ZWx0ZSc7XHJcbmltcG9ydCB7IG9uTW91bnQgfSBmcm9tICdzdmVsdGUnO1xyXG5jb25zdCBkZXNjID0ge1xyXG4gICAgXCIgXCI6e1wiZGVzY1wiOntcclxuICAgICAgICBcInJvbGVcIjpcIlwiLFxyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJcIn19LFxyXG4gICAgXCJzdXJ2ZXlcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcInJvbGVcIjpcIkxvb2sgYXQgPGljb24+c3VydmV5PGljb24+IC0xIHBsYW5ldCBjYXJkcywga2VlcCAxIFxcbiBMZWFkZXI6IExvb2sgYXQgMSBhZGRpdGlvbmFsIGNhcmRcIixcclxuICAgICAgICBcImFjdGlvblwiOlwiRHJhdyAzIGNhcmRzXCJ9fSxcclxuICAgIFwid2FyZmFyZVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwicm9sZVwiOlwiQ29sbGVjdCAxIGZpZ2h0ZXIgcGVyIDxpY29uPndhcmZhcmU8aWNvbj4gXFxuIExlYWRlcjogTWF5IGF0dGFjayAxIHBsYW5ldCBpbnN0ZWFkXCIsXHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkF0dGFjayAxIHBsYW5ldCBPUiBjb2xsZWN0IDEgZmlnaHRlclwifX0sXHJcbiAgICBcImNvbG9uaXplXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlNldHRsZSAxIHBsYW5ldCBPUiArMSBjb2xvbnlcIixcclxuICAgICAgICBcInJvbGVcIjpcIisxIGNvbG9ueSBwZXIgPGljb24+Y29sb25pemU8aWNvbj4gXFxuIExlYWRlcjogTWF5IHNldHRsZSAxIHBsYW5ldCBpbnN0ZWFkXCJ9fSxcclxuICAgIFwicHJvZHVjZXRyYWRlXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlByb2R1Y2UgMSByZXNvdXJjZSBPUiBUcmFkZSAxIHJlc291cmNlXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJQcm9kdWNlIDEgcmVzb3VyY2UgcGVyIDxpY29uPnByb2R1Y2U8aWNvbj4gT1IgVHJhZGUgMSByZXNvdXJjZSBwZXIgPGljb24+dHJhZGU8aWNvbj4gXFxuIExlYWRlcjogKzxpY29uPnByb2R1Y2U8aWNvbj4gT1IgPGljb24+dHJhZGU8aWNvbj5cIn19LFxyXG4gICAgXCJyZXNlYXJjaFwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJSZW1vdmUgdXAgdG8gMyBjYXJkcyBpbiB5b3VyIGFuZCBmcm9tIHRoZSBnYW1lXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJBdWlyZSAxIHRlY2hub2xvZ3kgY2FyZCBhZnRlciBzYXRpc2Z5aW5nIDxpY29uPnJlc2VhcmNoPGljb24+IGNvc3RzIGFuZCBwbGFuZXQgcmVxdWlyZW1lbnRzIFxcbiBMZWFkZXI6ICs8aWNvbj5yZXNlYXJjaDxpY29uPlwifX0sXHJcbiAgICBcInBvbGl0aWNzXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlJlbW92ZSB0aXMgY2FyZCBmcm9tIHRoZSBnYW1lLiBQbGFjZSBhbnkgMSByb2xlIGNhcmQgZnJvbSB0aGUgc3RhY2tzIGludG8geW91ciBoYW5kXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJpbXByb3ZlZF90cmFkZVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJDb2xsZWN0IDEgaW5mbHVlbmNlIGZyb20gdGhlIHN1cHBseVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiaW1wcm92ZWRfcmVzZWFyY2hcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiRHJhdyAxIGNhcmQuIFJlbW92ZSB1cCB0byAzIGNhcmRzIGluIHlvdXIgaGFuZCBmcm9tIHRoZSBnYW1lXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJpbXByb3ZlZF9wcm9kdWN0aW9uXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlByb2R1Y2UgMiByZXNvdXJjZXNcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImltcHJvdmVkX3dhcmZhcmVcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiQ29sbGVjdCAyIGZpZ2h0ZXIgT1IgQXR0YWNrIDEgcGxhbmV0XCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJpbXByb3ZlZF9jb2xvbml6ZVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJTZXR0bGUgMSBwbGFuZXQgKG9wdGlvbmFsKS4gXFxuIFNldHRsZSBhbm90aGVyIHBsYW5ldCBPUiArMSBjb2xvbnlcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImltcHJvdmVkX3N1cnZleVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJEcmF3IDMgY2FyZHNcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcInN1cnZleV90ZWFtXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlRha2UgdGhlIHRvcCBjYXJkIG9mIHRoZSBwbGFuZXQgZGVjayBhbmQgcHV0IGl0IGZhY2UgZG93biBpbnRvIHlvdXIgZW1waXJlXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJ3YXJfcGF0aFwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJBdHRhY2sgdXAgdG8gMiBwbGFuZXRzXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJ0ZXJyYWZvcm1pbmdcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiQWRkIHRoaXMgY2FyZCB0byBhIHBsYW5ldCBhcyAyIGNvbG9uaWVzLiBJZiB0aGF0IGZ1bGZpbGxzIHRoZSBwcmludGVkIGNvbG9uaXplIGNvc3QsIHNldHRsZSB0aGUgcGxhbmV0IFxcbiAoaWdub3JlIGNvbG9uaXplIGNvc3QgZGlzY291bnRzKVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiZ2VuZXRpY19lbmdpbmVlcmluZ1wiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJDb2xsZWN0ICsxIGluZmx1ZW5jZSBmb3IgZWFjaCBUWVBFIG9mIHJlc291cmNlIHlvdSBwcm9kdWNlIHRoaXMgdHVyblwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiYXJ0aWZpY2lhbF9pbnRlbGxpZ2VuY2UnXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlBsYWNlIGFueSAyIHJvbGUgY2FyZHMgZnJvbSB0aGUgc3RhY2tzIGludG8geW91ciBoYW5kXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJkaXZlcnNlX21hcmtldHNcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiQ29sbGVjdCArMSBpbmZsdWVuY2UgZm9yIGVhY2ggVFlQRSBvZiByZXNvdXJjZSB5b3UgdHJhZGUgdGhpcyB0dXJuXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJzcGVjaWFsaXphdGlvblwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJDaG9vc2UgMSByZXNvdXJjZSBUWVBFLiBDb2xsZWN0ICsxIGluZmx1ZW5jZSBmb3IgZWFjaCByZXNvdXJjZSBvZiB0aGF0IFRZUEUgeW91IHRyYWRlIHRoaXMgdHVyblwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwibW9iaWxpemF0aW9uXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkNvbGxlY3QgMiBmaWdodGVyLiBZb3UgbWF5IGF0dGFjayAxIHBsYW5ldCBhZnRlciB5b3VyIHJvbGUgcGhhc2UgdGhpcyB0dXJuXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJkYXRhX25ldHdvcmtcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiRHJhdyAyIGNhcmRzLiBSZW1vdmUgYW55IG51bWJlciBvZiBjYXJkcyBpbiB5b3VyIGhhbmQgZnJvbSB0aGUgZ2FtZVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiYWJ1bmRhbmNlXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlBsYW5ldHMgeW91IHNldHRsZSBvciBhdHRhY2sgY29tZSBpbnRvIHBsYXkgd2l0aCBhbGwgcmVzb3VyY2Ugc2xvdHMgZmlsbGVkXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJhZGFwdGFiaWxpdHlcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiWW91ciBzdGFuZGFyZCByZXNlYXJjaCByb2xlIGNhcmRzIGdhaW4gYWxsIHN5bWJvbGVzLiBUaGV5IGNhbiBiZSB1c2VkIHRvIGJvb3N0IG9yIGZvbGxvdyBhbnkgcm9sZVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiYnVyZWF1Y3JhY3lcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiWW91IG1heSB1c2UgdGhlIGxlYWRlciBib251cyB3aGVuIGZvbGxvd2luZyB0aGUgY29sb25pemUgb3Igd2FyZmFyZSByb2xlc1wiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiZGlzc2Vuc2lvblwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJEcmF3IDEgZGRpdGlvbmFsIGNhcmQgd2hlbiBkaXNzZW50aW5nXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJoeXBlcmVmZmljaWVuY3lcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiWW91IG1heSByZW1vdmUgYW55IG51bWJlciBvZiBjYXJkcyBpbiB5b3VyIGhhbmQgZm9ybSB0aGUgZ2FtZSBlYWNoIHR1cm5cIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImltcGVyaWFsaXNtXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIjxpY29uPnN1cnZleTxpY29uPiA8aWNvbj50cmFkZTxpY29uPiA8aWNvbj53YXJmYXJlPGljb24+XCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJsb2dpc3RpY3NcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiUGxheSB0aGUgYWN0aW9uIGFuZCByb2xlIHBoYXNlcyBvZiB5b3VyIHR1cm4gaW4gYW55IG9yZGVyXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJwcm9kdWN0aXZpdHlcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiWW91IG1heSBwbGF5IGFuIGFkZGl0aW9uYWwgY2FyZCBmb3IgaXRzIGFjdGlvbiBlZmZlY3QgZHVyaW5nIHlvdXIgYWN0aW9uIHBoYXNlXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJzY29yY2hlZF9lYXJ0aF9wb2xpY3lcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiLTIgdG8gb3VyIHdhcmZhcmUgY29zdHMuIFdoZW4geW91IGF0dGFjayBhIHBsYW5ldCwgbGVhdmUgYSBmaWdodCBvbiBpdC4gdGhhdCBwbGFuZXQgY2Fubm90IHN0b3JlIHJlc291cmNlc1wiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwic3RyZWFtbGluaW5nXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIllvdSBtYXkgcmVtb3ZlIDEgY2FyZCBpbiB5b3VyIGhhbmQgZnJvbSB0aGUgZ2FtZSBlYWNoIHR1cm5cIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcIndlYXBvbnNfZW1wb3JpdW1cIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiWW91IG1heSB0cmFkZSBmaWdodGVycyBhcyBpZiB0aGV5IHdlcmUgcmVzb3VyY2VzIChmaWdodGVyIGlzIG5vdCBhIHJlc291cmNlIFRZUEUpXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJmZXJ0aWxlX2dyb3VuZHNcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcInJvbGVcIjpcIjxpY29uPmNvbG9uaXplPGljb24+IDxpY29uPnByb2R1Y2U8aWNvbj4gPGljb24+cmVzZWFyY2g8aWNvbj5cIixcclxuICAgICAgICBcImFjdGlvblwiOlwiXCJ9fVxyXG4gICAgfVxyXG4gICAgbGV0IGhhc2hDb2RlID0gKHN0cixpPTApID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3RyJyxzdHIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsZW5ndGgnLHN0ci5sZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiAoIGkgPj0gc3RyLmxlbmd0aCApID8gMCA6IFxyXG4gICAgICAgIGhhc2hDb2RlKHN0cixpKzEpICsgXHJcbiAgICAgICAgKChzdHIuY2hhckNvZGVBdChpKSA8PCA1KSAtIFxyXG4gICAgICAgIHN0ci5jaGFyQ29kZUF0KGkpKTtcclxuICAgIH07XHJcbiAgICBsZXQgaW50VG9BUkdCID0gKGkpID0+ICB7bGV0IHJnYiA9ICgoKGk+PjI0KSYweEZGKS50b1N0cmluZygxNikgKyAoKGk+PjE2KSYweEZGKS50b1N0cmluZygxNikgKyAoKGk+PjgpJjB4RkYpLnRvU3RyaW5nKDE2KSArIChpJjB4RkYpLnRvU3RyaW5nKDE2KSk7IHJnYis9JzAwMDAwMCc7IHJldHVybiByZ2Iuc3Vic3RyaW5nKDAsIDYpO307XHJcbiAgICBTdHJpbmcucHJvdG90eXBlLnRvSGV4Q29sb3VyID0gKCkgPT4gaW50VG9BUkdCKGhhc2hDb2RlKHRoaXMpKTtcclxuICAgIGV4cG9ydCBsZXQgY2FyZD17bmFtZTpcIiBcIn0sIHNlbGVjdGFibGU9ZmFsc2UsIG1pbmk9ZmFsc2U7XHJcbiAgICBsZXQgY29sb3IsYmcsbG9nb0JnO1xyXG4gICAgb25Nb3VudCgoKT0+e1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjYXJkIG5hbWUnLGNhcmQubmFtZSk7XHJcbiAgICAgICAgY29sb3IgPSAnIycgKyBpbnRUb0FSR0IoaGFzaENvZGUoY2FyZC5uYW1lKSk7XHJcbiAgICAgICAgYmcgPSBgY29sb3I6JHtjb2xvcn07YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIHJnYig4MCw4MCw4MCksICByZ2IoODAsODAsODApIDV2aCwgIHJnYig4MCw4MCw4MCkgNXZoLCAgJHtjb2xvcn0gOHZoLCAgJHtjb2xvcn0gOHZoLCAgJHtjb2xvcn0gMTJ2aCwgICR7Y29sb3J9IDEydmgsICByZ2IoODAsODAsODApIDE2dmggKTtgO1xyXG4gICAgICAgIGxvZ29CZyA9IGBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9yfTtgO1xyXG4gICAgfSlcclxuXHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPlxyXG5cdEBpbXBvcnQgdXJsKGh0dHBzOi8vdW5wa2cuY29tL0BzbXVpL2NhcmRAbGF0ZXN0L2JhcmUuY3NzKTtcclxuXHQubWRjLWNhcmQge1xyXG5cdFx0b3ZlcmZsb3c6aGlkZGVuO1xyXG5cdFx0cGFkZGluZzoxdmg7XHJcblx0XHRtaW4taGVpZ2h0OiAzMHZoOyBcclxuXHRcdG1pbi13aWR0aDogMTl2aDsgXHJcblx0XHRtYXgtaGVpZ2h0OiAzMHZoOyBcclxuXHRcdG1heC13aWR0aDogMTl2aDsgXHJcblx0XHRtYXJnaW4tbGVmdDoxdmg7XHJcblx0XHRtYXJnaW4tcmlnaHQ6MXZoO1xyXG4gICAgfVxyXG4gICAgLm1kYy1jYXJkLm1pbmkge1xyXG5cdFx0bWluLWhlaWdodDogMTZ2aDtcclxuXHRcdG1heC1oZWlnaHQ6IDE2dmg7XHJcbiAgICB9XHJcblx0LnRpdGxlIHtcclxuXHRcdGRpc3BsYXk6ZmxleDtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRtYXgtaGVpZ2h0OiAzdmg7XHJcblx0XHRtaW4taGVpZ2h0OiAzdmg7XHJcblx0XHRmb250OiAydmggYm9sZDtcclxuXHR9XHJcblx0LnRpdGxlIHAge1xyXG5cdFx0bWFyZ2luLXRvcDogYXV0bztcclxuXHRcdG1hcmdpbi1ib3R0b206IGF1dG87XHJcblx0XHRtYXJnaW4tbGVmdDoxdmg7XHJcblx0fVxyXG5cdC5sb2dvIHtcclxuXHRcdGhlaWdodDoxMnZoO1xyXG5cdFx0d2lkdGg6MTJ2aDtcclxuXHRcdG1hcmdpbi1sZWZ0OjN2aDtcclxuXHRcdGJvcmRlci1yYWRpdXM6IDEwdmggMHZoIDEwdmggMHZoO1xyXG5cdFx0Ym9yZGVyOiAuMjV2aCBzb2xpZCBibGFjaztcclxuXHRcdHRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO1xyXG5cdH1cclxuXHQubG9nbyBpbWd7XHJcblx0XHRtYXJnaW4tbGVmdDoyLjI1dmg7XHJcblx0XHRtYXJnaW4tdG9wOjJ2aDtcclxuXHRcdGhlaWdodDo3LjV2aDtcclxuXHRcdHdpZHRoOjcuNXZoO1xyXG5cdFx0dHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcclxuXHRcdG92ZXJmbG93OmhpZGRlbjtcclxuXHR9XHJcblx0LmRlc2Mge1xyXG5cdFx0cG9zaXRpb246cmVsYXRpdmU7XHJcblx0XHRmb250OiAxdmggYm9sZDtcclxuXHRcdGxpbmUtaGVpZ2h0IDogMS4yO1xyXG5cdH1cclxuXHQuYWN0aW9uIHtcclxuXHRcdHBvc2l0aW9uOnJlbGF0aXZlO1xyXG5cdFx0Ym9yZGVyOiAwLjA1dmggc29saWQgYmxhY2s7XHJcblx0XHRwYWRkaW5nOiAwLjV2aDtcclxuXHR9XHJcblx0LmFjdGlvbjphZnRlciB7XHJcblx0XHRwb3NpdGlvbjphYnNvbHV0ZTtcclxuXHRcdGJhY2tncm91bmQ6IHJnYig4MCw4MCw4MCk7XHJcblx0XHRoZWlnaHQ6MXZoO1xyXG5cdFx0bGVmdDouNXZoO1xyXG5cdFx0dG9wOi0uNXZoO1xyXG5cdH1cclxuXHQuYWN0aW9uOmFmdGVyIHtcclxuXHRcdGNvbnRlbnQ6J0FjdGlvbic7XHJcblx0fVxyXG48L3N0eWxlPlxyXG48ZGl2IGNsYXNzPVwibWRjLWNhcmQgeyhzZWxlY3RhYmxlKSA/IChjYXJkLnNlbGVjdGVkKSA/ICdzZWxlY3RlZCcgOiAnc2VsZWN0YWJsZScgOiAnYm9yZGVyZWQnfSB7KG1pbmkpID8gJ21pbmknIDogJycgfVwiIHN0eWxlPXtiZ30gb246Y2xpY2sgb246dG91Y2ggb246dG91Y2hzdGFydCBvbjp0b3VjaGVuZCBvbjp0YXAgb246dG91Y2htb3ZlPlxyXG4gICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+XHJcbiAgICAgICAgPEljb25CYXIgey4uLmNhcmQuaWNvbnN9Lz5cclxuICAgICAgICA8cD57Y2FyZC5uYW1lfTwvcD5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImxvZ29cIiBzdHlsZSA9e2xvZ29CZ30+XHJcbiAgICAgICAgPGltZyBzcmM9XCIuL2ltYWdlcy90ZWNoLnN2Z1wiIGFsdD1cIntjYXJkLm5hbWV9XCI+XHJcbiAgICA8L2Rpdj5cclxuICAgIHsjaWYgIW1pbml9XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj5cclxuICAgICAgICB7I2lmIGRlc2NbY2FyZC50eXBlXSAhPT0gdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICA8cCBjbGFzcz1cImFjdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgeyNlYWNoIGRlc2NbY2FyZC50eXBlXS5kZXNjLmFjdGlvbi5zcGxpdCgnPGljb24+JykgYXMgcGllY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgeyNpZiBbJ3N1cnZleScsJ3dhcmZhcmUnLCdjb2xvbml6ZScsJ3Jlc2VhcmNoJywncHJvZHVjZScsJ3RyYWRlJ10uaW5jbHVkZXMocGllY2UpfSA8SWNvbiB0eXBlPXtwaWVjZX0gc2l6ZT0nc20nLz4gXHJcbiAgICAgICAgICAgICAgICAgICAgezplbHNlfSB7cGllY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgIHsvaWZ9XHJcbiAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPSdyZXMtY29zdCc+XHJcbiAgICAgICAgICAgICAgICA8cD48L3A+XHJcbiAgICAgICAgICAgICAgICA8SWNvbi8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdwbGFuLXJlcSc+XHJcbiAgICAgICAgICAgICAgICA8SWNvbi8+XHJcbiAgICAgICAgICAgIDwvZGl2PiAtLT5cclxuICAgICAgICA8L2Rpdj4gXHJcbiAgICB7L2lmfVxyXG48L2Rpdj4iLCI8c2NyaXB0PiBcclxuaW1wb3J0IEljb25CYXIgZnJvbSAnLi4vY29tcG9uZW50cy9JY29uQmFyLnN2ZWx0ZSc7XHJcbmltcG9ydCBJY29uIGZyb20gJy4uL2NvbXBvbmVudHMvSWNvbi5zdmVsdGUnO1xyXG5pbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcclxuXHJcbiAgICBleHBvcnQgbGV0IHBsYW5ldD17bmFtZTpcIiBcIn0sIHNlbGVjdGFibGU9ZmFsc2UsIG1pbmk9ZmFsc2U7XHJcbmxldCBrZXkgPSB7YWR2YW5jZWQ6J2FkdicsIGZlcnRpbGU6J2ZlcicsIG1ldGFsbGljOidtZXQnLH1bcGxhbmV0LnR5cGVdO1xyXG4gICAgbGV0IGNvbG9yLGJnLGxvZ29CZztcclxuICAgIGNvbnNvbGUubG9nKHBsYW5ldCk7XHJcbiAgICBvbk1vdW50KCgpPT57XHJcbiAgICAgICAgY29sb3IgPSAgKGtleT09J2ZlcicpID8gJ3JnYigxNDgsIDE5NywgMTUyKScgOiAoa2V5PT0nYWR2JykgPyAncmdiKDIzMSwgMTg0LCAyMTUpJyA6ICdyZ2IoMTg3LCA1NSwgNTUpJztcclxuICAgICAgICBiZyA9IGBjb2xvcjoke2NvbG9yfTtiYWNrZ3JvdW5kOnJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgNTAlIDMzJSwgJHtjb2xvcn0sIHJnYig4MCw4MCw4MCkgMzAlKWBcclxuICAgICAgICBsb2dvQmcgPSBgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcn07YDtcclxuICAgIH0pXHJcblxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuXHRAaW1wb3J0IHVybChodHRwczovL3VucGtnLmNvbS9Ac211aS9jYXJkQGxhdGVzdC9iYXJlLmNzcyk7XHJcblx0Lm1kYy1jYXJkIHtcclxuXHRcdG92ZXJmbG93OmhpZGRlbjtcclxuXHRcdHBhZGRpbmc6MXZoO1xyXG5cdFx0bWluLWhlaWdodDogMzB2aDsgXHJcblx0XHRtaW4td2lkdGg6IDE5dmg7IFxyXG5cdFx0bWF4LWhlaWdodDogMzB2aDsgXHJcblx0XHRtYXgtd2lkdGg6IDE5dmg7IFxyXG5cdFx0bWFyZ2luLWxlZnQ6MXZoO1xyXG5cdFx0bWFyZ2luLXJpZ2h0OjF2aDtcclxuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcclxuICAgIH1cclxuICAgIC5tZGMtY2FyZC5taW5pIHtcclxuXHRcdG1pbi1oZWlnaHQ6IDE2dmg7XHJcblx0XHRtYXgtaGVpZ2h0OiAxNnZoO1xyXG4gICAgfVxyXG5cdC50aXRsZSB7XHJcblx0XHRkaXNwbGF5OmZsZXg7XHJcblx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdFx0bWF4LWhlaWdodDogM3ZoO1xyXG5cdFx0bWluLWhlaWdodDogM3ZoO1xyXG5cdFx0Zm9udDogMS41dmggYm9sZDtcclxuICAgICAgICB0ZXh0LWFsaWduOiBlbmQ7XHJcblx0fVxyXG5cdC5sb2dvIHtcclxuXHRcdGhlaWdodDoxMnZoO1xyXG5cdFx0d2lkdGg6MTJ2aDtcclxuXHRcdG1hcmdpbi1sZWZ0OjN2aDtcclxuXHRcdGJvcmRlci1yYWRpdXM6IDEwdmggMHZoIDEwdmggMHZoO1xyXG5cdFx0dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7XHJcblx0fVxyXG5cdC5sb2dvIGltZ3tcclxuXHRcdG1hcmdpbi1sZWZ0OjIuMjV2aDtcclxuXHRcdG1hcmdpbi10b3A6MnZoO1xyXG5cdFx0aGVpZ2h0OjcuNXZoO1xyXG5cdFx0d2lkdGg6Ny41dmg7XHJcblx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xyXG5cdFx0b3ZlcmZsb3c6aGlkZGVuO1xyXG5cdH1cclxuICAgIC5uYW1lIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOjIwJTtcclxuICAgICAgICBsZWZ0OjIlO1xyXG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTtcclxuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcclxuICAgICAgICBmb250LXNpemU6MS42dmg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6cmdiKDEwMCwxMDAsMTAwKTtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6MWVtO1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6MWVtO1xyXG4gICAgfVxyXG48L3N0eWxlPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1kYy1jYXJkIHsoc2VsZWN0YWJsZSkgPyAocGxhbmV0LnNlbGVjdGVkKSA/ICdzZWxlY3RlZCcgOiAnc2VsZWN0YWJsZScgOiAnYm9yZGVyZWQnfSB7KG1pbmkpID8gJ21pbmknIDogJycgfVwiIHN0eWxlPXtiZ30gb246Y2xpY2sgb246dG91Y2ggb246dG91Y2hzdGFydCBvbjp0b3VjaGVuZCBvbjp0YXAgb246dG91Y2htb3ZlPlxyXG4gICAgICAgIHsjaWYgcGxhbmV0LnNldHRsZWR9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiBcclxuICAgICAgICAgICAgICAgIDxJY29uQmFyIHsuLi5wbGFuZXQuaWNvbnN9Lz4gIFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJtYXJnaW4tbGVmdDoxNXZoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT0naW5mbHVlbmNlJyBzaXplPSdzbScgaW5mbHVlbmNlPXtwbGFuZXQuaW5mbHVlbmNlX3ZiYWx1ZX0vPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1hZ2VzL3trZXl9LnN2Z1wiIGFsdD1cIntwbGFuZXQubmFtZX1cIj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9J25hbWUnPntwbGFuZXQubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBib3R0b206MyU7IHdpZHRoOjE1JTsgaGVpZ2h0IDE1JTsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxyXG4gICAgICAgICAgICAgICAgeyNlYWNoIHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzIGFzIHpvbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT17em9uZS50eXBlfSBzaXplPVwic21cIiBib3JkZXJlZD17em9uZS5maWxsZWR9Lz5cclxuICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICB7I2lmICFtaW5pfTxkaXYgY2xhc3M9XCJ0aXRsZVwiPiBTdXJ2ZXlpbmcgQWxpZW4gV29ybGQgIDwvZGl2PnsvaWZ9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCIgPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltYWdlcy9jb2wuc3ZnXCIgYWx0PVwie3BsYW5ldC5uYW1lfVwiPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17XCJkaXNwbGF5OmlubGluZS1ibG9jayBcIiArIChtaW5pKSA/ICdwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo5MCU7dG9wOjQwJSc6ICcnfT5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZmxvYXQ6bGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtwbGFuZXQuc2V0dGxlX2Nvc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cImNvbG9uaXplXCIgc2l6ZT1cInNtXCIvPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJmbG9hdDpyaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJ3YXJmYXJlXCIgc2l6ZT1cInNtXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgIHtwbGFuZXQuY29ucXVlcl9jb3N0fVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBib3R0b206MyU7IHdpZHRoOjg1JTsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIj57cGxhbmV0LnR5cGV9PC9kaXY+XHJcbiAgICB7L2lmfVxyXG48L2Rpdj4iLCI8c2NyaXB0PlxuXHRpbXBvcnQgSWNvbiBmcm9tICcuLi9jb21wb25lbnRzL0ljb24uc3ZlbHRlJztcblx0aW1wb3J0IFRlY2ggZnJvbSAnLi4vY29tcG9uZW50cy9UZWNoLnN2ZWx0ZSc7XG5cdGltcG9ydCBQbGFuZXRDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvUGxhbmV0Q2FyZC5zdmVsdGUnO1xuXHRpbXBvcnQge2JlZm9yZVVwZGF0ZX0gZnJvbSAnc3ZlbHRlJztcblx0ZXhwb3J0IGxldCBjYXJkLCBzZWxlY3RhYmxlID0gZmFsc2UsIHBpbGVjb3VudCA9JycsIG1pbmkgPSBmYWxzZTtcblx0bGV0IGxhYmVsLGtleSxiZyxsb2dvQmc7XG4gICAgJDp7IGxhYmVsID0gY2FyZC50eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2FyZC50eXBlLnNsaWNlKDEpLFxuICAgICAgICBrZXkgPSB7cHJvZHVjZXRyYWRlOmZhbHNlLHByb2R1Y2U6J3BybycsdHJhZGU6J3RyZCcscmVzZWFyY2g6J3JlcycscG9saXRpY3M6J3BvbCcsc3VydmV5OidzdXInLHdhcmZhcmU6J3dhcicsY29sb25pemU6J2NvbCd9W2NhcmQudHlwZV0sXG4gICAgICAgIGJnID0gKCFrZXkpID8gYGNvbG9yOnZhcigtLXByby1jb2xvcik7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIHJnYig4MCw4MCw4MCksICByZ2IoODAsODAsODApIDV2aCwgIHJnYig4MCw4MCw4MCkgNXZoLCAgdmFyKC0tcHJvLWNvbG9yKSA4dmgsICB2YXIoLS1wcm8tY29sb3IpIDh2aCwgIHZhcigtLXRyZC1jb2xvcikgMTJ2aCwgIHZhcigtLXRyZC1jb2xvcikgMTJ2aCwgIHJnYig4MCw4MCw4MCkgMTZ2aCApO2BcbiAgICAgICAgICAgICAgICAgICAgOiBgY29sb3I6dmFyKC0tJHtrZXl9LWNvbG9yKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCggcmdiKDgwLDgwLDgwKSwgIHJnYig4MCw4MCw4MCkgNXZoLCAgcmdiKDgwLDgwLDgwKSA1dmgsICB2YXIoLS0ke2tleX0tY29sb3IpIDh2aCwgIHZhcigtLSR7a2V5fS1jb2xvcikgOHZoLCAgdmFyKC0tJHtrZXl9LWNvbG9yKSAxMnZoLCAgdmFyKC0tJHtrZXl9LWNvbG9yKSAxMnZoLCAgcmdiKDgwLDgwLDgwKSAxNnZoICk7YCxcbiAgICAgICAgbG9nb0JnID0gKCFrZXkpID8gYGJhY2tncm91bmQ6IHZhcigtLXByby10cmQtY2xyKTtgIDogYGJhY2tncm91bmQtY29sb3I6IHZhcigtLSR7a2V5fS1jb2xvcik7YDtcblx0fVxuXHRsZXQgZGVzYyA9IHtcblx0XHRcInN1cnZleVwiOiB7XCJkZXNjXCI6e1xuXHRcdFx0XCJyb2xlXCI6XCJMb29rIGF0IDxpY29uPnN1cnZleTxpY29uPiAtMSBwbGFuZXQgY2FyZHMsIGtlZXAgMSBcXG4gTGVhZGVyOiBMb29rIGF0IDEgYWRkaXRpb25hbCBjYXJkXCIsXG5cdFx0XHRcImFjdGlvblwiOlwiRHJhdyAzIGNhcmRzXCJ9fSxcblx0XHRcIndhcmZhcmVcIjoge1wiZGVzY1wiOntcblx0XHRcdFwicm9sZVwiOlwiQ29sbGVjdCAxIGZpZ2h0ZXIgcGVyIDxpY29uPndhcmZhcmU8aWNvbj4gXFxuIExlYWRlcjogTWF5IGF0dGFjayAxIHBsYW5ldCBpbnN0ZWFkXCIsXG5cdFx0XHRcImFjdGlvblwiOlwiQXR0YWNrIDEgcGxhbmV0IE9SIGNvbGxlY3QgMSBmaWdodGVyXCJ9fSxcblx0XHRcImNvbG9uaXplXCI6IHtcImRlc2NcIjp7XG5cdFx0XHRcImFjdGlvblwiOlwiU2V0dGxlIDEgcGxhbmV0IE9SICsxIGNvbG9ueVwiLFxuXHRcdFx0XCJyb2xlXCI6XCIrMSBjb2xvbnkgcGVyIDxpY29uPmNvbG9uaXplPGljb24+IFxcbiBMZWFkZXI6IE1heSBzZXR0bGUgMSBwbGFuZXQgaW5zdGVhZFwifX0sXG5cdFx0XCJwcm9kdWNldHJhZGVcIjoge1wiZGVzY1wiOntcblx0XHRcdFwiYWN0aW9uXCI6XCJQcm9kdWNlIDEgcmVzb3VyY2UgT1IgVHJhZGUgMSByZXNvdXJjZVwiLFxuXHRcdFx0XCJyb2xlXCI6XCJQcm9kdWNlIDEgcmVzb3VyY2UgcGVyIDxpY29uPnByb2R1Y2U8aWNvbj4gT1IgVHJhZGUgMSByZXNvdXJjZSBwZXIgPGljb24+dHJhZGU8aWNvbj4gXFxuIExlYWRlcjogKzxpY29uPnByb2R1Y2U8aWNvbj4gT1IgPGljb24+dHJhZGU8aWNvbj5cIn19LFxuXHRcdFwicmVzZWFyY2hcIjoge1wiZGVzY1wiOntcblx0XHRcdFwiYWN0aW9uXCI6XCJSZW1vdmUgdXAgdG8gMyBjYXJkcyBpbiB5b3VyIGFuZCBmcm9tIHRoZSBnYW1lXCIsXG5cdFx0XHRcInJvbGVcIjpcIkFxdWlyZSAxIHRlY2hub2xvZ3kgY2FyZCBhZnRlciBzYXRpc2Z5aW5nIDxpY29uPnJlc2VhcmNoPGljb24+IGNvc3RzIGFuZCBwbGFuZXQgcmVxdWlyZW1lbnRzIFxcbiBMZWFkZXI6ICs8aWNvbj5yZXNlYXJjaDxpY29uPlwifX0sXG5cdFx0XCJwb2xpdGljc1wiOiB7XCJkZXNjXCI6e1xuXHRcdFx0XCJhY3Rpb25cIjpcIlJlbW92ZSB0aXMgY2FyZCBmcm9tIHRoZSBnYW1lLiBQbGFjZSBhbnkgMSByb2xlIGNhcmQgZnJvbSB0aGUgc3RhY2tzIGludG8geW91ciBoYW5kXCIsXG5cdFx0XHRcInJvbGVcIjpcIlwifX0sXG5cdFx0fVxuXG5cblx0YmVmb3JlVXBkYXRlKCgpPT57XG5cdFx0Y2FyZC50eXBlID0gY2FyZC50eXBlKycnO1xuXHR9KVxuXHQ8L3NjcmlwdD5cbjxzdHlsZT5cblx0QGltcG9ydCB1cmwoaHR0cHM6Ly91bnBrZy5jb20vQHNtdWkvY2FyZEBsYXRlc3QvYmFyZS5jc3MpO1xuXHQ6cm9vdCB7XG5cdFx0LS1wcm8tY29sb3I6cmdiKDI1NSwgMjU1LCAxMTkpO1xuXHRcdC0tY29sLWNvbG9yOnJnYigyNTUsIDE4NCwgMTAyKTtcblx0XHQtLXRyZC1jb2xvcjpyZ2IoMjU1LCAxNjksIDI0MSk7XG5cdFx0LS1wb2wtY29sb3I6cmdiKDIwOSwgMTg2LCAxNDMpO1xuXHRcdC0tcmVzLWNvbG9yOnJnYigxMTksIDE4MywgMjU1KTtcblx0XHQtLXdhci1jb2xvcjpyZ2IoMjU1LCA5OCwgOTgpO1xuXHRcdC0tc3VyLWNvbG9yOnJnYigxNDMsIDI1NSwgMTQzKTtcblx0XHQtLXByby10cmQtY2xyOmxpbmVhci1ncmFkaWVudCh0byByaWdodCwgdmFyKC0tcHJvLWNvbG9yKSwgdmFyKC0tcHJvLWNvbG9yKSA1MCUsIHZhcigtLXRyZC1jb2xvcikgNTAlLCB2YXIoLS10cmQtY29sb3IpIDEwMCUpO1xuXHR9XG5cdFxuXHQuc2VsZWN0YWJsZXtcblx0XHRib3JkZXI6IHNvbGlkIHJnYigxMTQsIDIxMCwgMjIzKTtcblx0XHRib3JkZXItd2lkdGg6IDFweDtcblx0fVxuXHRcblx0LnNlbGVjdGVke1xuXHRcdGJvcmRlcjogc29saWQgcmdiKDUwLCAxOTAsIDEzMik7XG5cdFx0Ym9yZGVyLXdpZHRoOiAxcHg7XG5cdH1cblx0Lm1kYy1jYXJkIHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0b3ZlcmZsb3c6aGlkZGVuO1xuXHRcdHBhZGRpbmc6MXZoO1xuXHRcdGhlaWdodDogMzB2aDsgXG5cdFx0d2lkdGg6IDE5dmg7IFxuXHRcdG1hcmdpbi1sZWZ0OjF2aDtcblx0XHRtYXJnaW4tcmlnaHQ6MXZoO1xuICAgIH1cbiAgICAubWRjLWNhcmQubWluaSB7XG5cdFx0bWluLWhlaWdodDogMTZ2aDtcblx0XHRtYXgtaGVpZ2h0OiAxNnZoO1xuICAgIH1cbiAgICAubG9nbyBkaXYge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpIHNjYWxlKDEuNyk7XG4gICAgICAgIG1hcmdpbi10b3A6IDIuOXZoO1xuICAgICAgICBtYXJnaW4tbGVmdDogMi44dmg7XG4gICAgfVxuXHQudGl0bGUge1xuXHRcdGRpc3BsYXk6ZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xuXHRcdG1heC1oZWlnaHQ6IDN2aDtcblx0XHRtaW4taGVpZ2h0OiAzdmg7XG5cdFx0b3ZlcmZsb3c6aGlkZGVuO1xuXHRcdGZvbnQ6IDJ2aCBib2xkO1xuXHR9XG5cdC50aXRsZSBwIHtcblx0XHRtYXJnaW4tdG9wOiBhdXRvO1xuXHRcdG1hcmdpbi1ib3R0b206IGF1dG87XG5cdFx0bWFyZ2luLWxlZnQ6MXZoO1xuXHR9XG5cdC5sb2dvIHtcblx0XHRtaW4taGVpZ2h0OjEydmg7XG5cdFx0bWluLXdpZHRoOjEydmg7XG5cdFx0bWF4LWhlaWdodDoxMnZoO1xuXHRcdG1heC13aWR0aDoxMnZoO1xuXHRcdG1hcmdpbi1sZWZ0OjN2aDtcblx0XHRib3JkZXItcmFkaXVzOiAxMHZoIDB2aCAxMHZoIDB2aDtcblx0XHRib3JkZXI6IC4yNXZoIHNvbGlkIGJsYWNrO1xuXHRcdHRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO1xuXHR9XG5cdC5sb2dvIGltZ3tcblx0XHRtYXJnaW4tbGVmdDoyLjI1dmg7XG5cdFx0bWFyZ2luLXRvcDoydmg7XG5cdFx0aGVpZ2h0OjcuNXZoO1xuXHRcdHdpZHRoOjcuNXZoO1xuXHRcdHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XG5cdFx0b3ZlcmZsb3c6aGlkZGVuO1xuXHR9XG5cdC5kZXNjIHtcblx0XHRwb3NpdGlvbjpyZWxhdGl2ZTtcblx0XHRmb250OiAxdmggYm9sZDtcblx0XHRsaW5lLWhlaWdodCA6IDEuMjtcblx0fVxuXHQucm9sZSwgLmFjdGlvbiB7XG5cdFx0cG9zaXRpb246cmVsYXRpdmU7XG5cdFx0Ym9yZGVyOiAwLjA1dmggc29saWQgYmxhY2s7XG5cdFx0cGFkZGluZzogMC41dmg7XG5cdH1cblx0LnJvbGU6YWZ0ZXIsIC5hY3Rpb246YWZ0ZXIge1xuXHRcdHBvc2l0aW9uOmFic29sdXRlO1xuXHRcdGJhY2tncm91bmQ6IHJnYig4MCw4MCw4MCk7XG5cdFx0aGVpZ2h0OjF2aDtcblx0XHRsZWZ0Oi41dmg7XG5cdFx0dG9wOi0uNXZoO1xuXHR9XG5cdC5yb2xlOmFmdGVyIHtcblx0XHRjb250ZW50OidSb2xlJztcblx0fVxuXHQuYWN0aW9uOmFmdGVyIHtcblx0XHRjb250ZW50OidBY3Rpb24nO1xuXHR9XG5cdC5waWxlY291bnR7XG5cdFx0cG9zaXRpb246YWJzb2x1dGU7XG5cdFx0bGVmdDo1JTtcblx0XHRib3R0b206MyU7XG5cdH1cbjwvc3R5bGU+XG57I2lmIChjYXJkLnR5cGU9PSdwbGFuZXQnfHxjYXJkLnR5cGU9PSdhZHZhbmNlZCd8fGNhcmQudHlwZT09J21ldGFsbGljJ3x8Y2FyZC50eXBlPT0nZmVydGlsZScpfVxuXHQ8UGxhbmV0Q2FyZCBwbGFuZXQ9e2NhcmR9IHtzZWxlY3RhYmxlfSB7bWluaX0vPlx0XHRcbns6ZWxzZSBpZiAhWydzdXJ2ZXknLCd3YXJmYXJlJywnY29sb25pemUnLCdyZXNlYXJjaCcsJ3Byb2R1Y2V0cmFkZScsJ3BvbGl0aWNzJ10uaW5jbHVkZXMoY2FyZC50eXBlKX0gXG5cdDxUZWNoIHtjYXJkfSB7c2VsZWN0YWJsZX0ge21pbml9Lz5cbns6ZWxzZX1cblx0PGRpdiBjbGFzcz1cIm1kYy1jYXJkIHsoc2VsZWN0YWJsZSkgPyAoY2FyZC5zZWxlY3RlZCkgPyAnc2VsZWN0ZWQnIDogJ3NlbGVjdGFibGUnIDogJ2JvcmRlcmVkJ30geyhtaW5pKSA/ICdtaW5pJyA6ICcnIH1cIiBzdHlsZT17Ymd9IG9uOmNsaWNrIG9uOnRvdWNoIG9uOnRvdWNoc3RhcnQgb246dG91Y2hlbmQgb246dGFwIG9uOnRvdWNobW92ZT5cblx0XHQ8ZGl2IGNsYXNzPVwidGl0bGVcIj5cblx0XHR7I2lmICgha2V5KX0gXG5cdFx0XHQ8SWNvbiB0eXBlPSdwcm9kdWNlJyBzaXplPSdzbScvPlxuXHRcdFx0PEljb24gdHlwZT0ndHJhZGUnIHNpemU9J3NtJy8+XG5cdFx0ezplbHNlfVxuXHRcdFx0PEljb24gdHlwZT17Y2FyZC50eXBlfSBzaXplPSdzbScvPlxuXHRcdHsvaWZ9XG5cdFx0PHA+e2xhYmVsfTwvcD5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwibG9nb1wiIHN0eWxlID17bG9nb0JnfT5cblx0XHR7I2lmICgha2V5KX0gXG5cdFx0XHQ8ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93Oyc+XG5cdFx0XHRcdDxJY29uIHR5cGU9J3Byb2R1Y2UnIHNpemU9J3NtJy8+XG5cdFx0XHRcdDxJY29uIHR5cGU9J3RyYWRlJyBzaXplPSdzbScvPlxuXHRcdFx0PC9kaXY+XG5cdFx0ezplbHNlfVxuXHRcdFx0PGltZyBzcmM9XCIuL2ltYWdlcy97a2V5fS5zdmdcIiBhbHQ9XCJ7a2V5fVwiPlxuXHRcdHsvaWZ9XG5cdFx0PC9kaXY+XG5cdFx0XG5cdFx0eyNpZiAhbWluaX1cblx0XHRcdDxkaXYgY2xhc3M9XCJkZXNjXCI+XG5cdFx0XHRcdHsjaWYgZGVzY1tjYXJkLnR5cGVdICE9PSB1bmRlZmluZWR9XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJhY3Rpb25cIj5cblx0XHRcdFx0XHRcdHsjZWFjaCBkZXNjW2NhcmQudHlwZV0uZGVzYy5hY3Rpb24uc3BsaXQoJzxpY29uPicpIGFzIHBpZWNlfVxuXHRcdFx0XHRcdFx0XHR7I2lmIFsnc3VydmV5Jywnd2FyZmFyZScsJ2NvbG9uaXplJywncmVzZWFyY2gnLCdwcm9kdWNlJywndHJhZGUnLCdwb2xpdGljcyddLmluY2x1ZGVzKHBpZWNlKX0gPEljb24gdHlwZT17cGllY2V9IHNpemU9J3NtJy8+IFxuXHRcdFx0XHRcdFx0XHR7OmVsc2V9IHtwaWVjZX1cblx0XHRcdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0XHRcdHsvZWFjaH1cblx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJyb2xlXCI+XG5cdFx0XHRcdFx0XHR7I2VhY2ggZGVzY1tjYXJkLnR5cGVdLmRlc2Mucm9sZS5zcGxpdCgnPGljb24+JykgYXMgcGllY2V9XG5cdFx0XHRcdFx0XHRcdHsjaWYgWydzdXJ2ZXknLCd3YXJmYXJlJywnY29sb25pemUnLCdyZXNlYXJjaCcsJ3Byb2R1Y2UnLCd0cmFkZScsJ3BvbGl0aWNzJ10uaW5jbHVkZXMocGllY2UpfSA8SWNvbiB0eXBlPXtwaWVjZX0gc2l6ZT0nc20nLz4gXG5cdFx0XHRcdFx0XHRcdHs6ZWxzZX0ge3BpZWNlfVxuXHRcdFx0XHRcdFx0XHR7L2lmfVxuXHRcdFx0XHRcdFx0ey9lYWNofVxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0ey9pZn1cblx0XHRcdDwvZGl2PlxuXHRcdFx0PGRpdiBjbGFzcz0ncGlsZWNvdW50Jz57cGlsZWNvdW50fSByZW1haW5pbmc8L2Rpdj5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cbnsvaWZ9IiwiPHNjcmlwdD5cclxuXHRpbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuc3ZlbHRlJztcclxuXHRpbXBvcnQgVGVjaCBmcm9tICcuLi9jb21wb25lbnRzL1RlY2guc3ZlbHRlJztcclxuXHRpbXBvcnQgUGxhbmV0Q2FyZCBmcm9tICcuLi9jb21wb25lbnRzL1BsYW5ldENhcmQuc3ZlbHRlJztcclxuXHJcblx0bGV0IGdhbWUsIGxvYmJ5LCBwaGFzZXMsIGNvcmVwaGFzZXMsIGFjdGlvbmNhcmRwaGFzZXMsIG1vdW50ZWQgPSBmYWxzZSwgd3MsXHJcblx0anN0ciA9IEpTT04uc3RyaW5naWZ5LCBqcHJzID0gSlNPTi5wYXJzZSwgbG9nID0gY29uc29sZS5sb2c7XHJcblx0aW1wb3J0IHsgb25Nb3VudCxhZnRlclVwZGF0ZSwgYmVmb3JlVXBkYXRlIH0gZnJvbSAnc3ZlbHRlJztcclxuXHRiZWZvcmVVcGRhdGUoKCk9PntcclxuXHR9KVxyXG5cdGFmdGVyVXBkYXRlKCgpPT57XHJcblx0XHRjb25zb2xlLmxvZyhnZXRBY3RQbHlyKCkpO1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJ2hhbmQnLGdhbWUucGxheWVyc1swXS5oYW5kLnJlZHVjZSgoYWNjLGN1cikgPT4gYWNjK2N1ci5uYW1lLCcnKSk7XHJcblx0XHQvLyBsZXQgY2FyZCA9IGdhbWUucGxheWVyc1swXS5oYW5kWzBdO1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJ3JlbW92aW5nICcsY2FyZC5uYW1lKTtcclxuXHRcdC8vIGhhbmRUb0xpbWJvKGdhbWUucGxheWVyc1swXSxjYXJkKTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKCdoYW5kJyxnYW1lLnBsYXllcnNbMF0uaGFuZC5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYytjdXIubmFtZSwnJykpO1xyXG5cdH0pXHJcblx0b25Nb3VudCgoKT0+e1xyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdGNvcmVwaGFzZXMgPSBbXHJcblx0XHRcdC8qY29sb25pemU6Ki8ge1xyXG5cdFx0XHRcdGFjdG46W1xyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiQ2hvb3NlIGJldHdlZW4gU2V0dGxpbmcgb3IgQ29sb25pemluZyBhIFBsYW5ldFwiLCBbXCJjb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0d3JhcHBlZE9mZmVyKFtcIkNvbG9uaXplXCIsXCJTZXR0bGUgQ29sb25pZXNcIl0pLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIkNob29zZSBhbiBVbnNldHRsZWQgUGxhbmV0IHRvIFNldHRsZVwiLCBbXCJjb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoZmFsc2UsZmFsc2UsW1widW5zZXR0bGVkX3BsYW5ldHNcIl0sXCJzdWJjaG9pY2VzXCIsZmluaXNoKSxcclxuXHRcdFx0XHRcdFx0W1wiU2V0dGxlIENvbG9uaWVzXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIlNldHRsaW5nIHlvdXIgUGxhbmV0XCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBzZXR0bGVfY29sb25pZXMoZ2V0U3ViQ2hvaWNlKCksZ2V0QWN0UGx5cigpKSxcclxuXHRcdFx0XHRcdFx0W1wiU2V0dGxlIENvbG9uaWVzXCJdXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gQ29sb25pemVcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKGZhbHNlLGZhbHNlLFtcInVuc2V0dGxlZF9wbGFuZXRzXCJdLFwic3ViY2hvaWNlc1wiLGZpbmlzaCksXHJcblx0XHRcdFx0XHRcdFtcIkNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIkNvbG9uaXppbmcgeW91ciBQbGFuZXRcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHsgY29sb25pemUoZ2V0U3ViQ2hvaWNlKCksZ2V0QWN0UGx5cigpLmxpbWJvLGdldEFjdFBseXIoKS5saW1iby5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImNvbG9uaXplXCIpWzBdKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0XHRcdFtcIkNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGxlYWQ6W1xyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIkNob29zZSBiZXR3ZWVuIFNldHRsaW5nIG9yIENvbG9uaXppbmcgYSBQbGFuZXRcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdHdyYXBwZWRPZmZlcihbXCJDb2xvbml6ZVwiLFwiU2V0dGxlIENvbG9uaWVzXCJdKSxcclxuXHRcdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDaG9vc2UgYW4gVW5zZXR0bGVkIFBsYW5ldCB0byBTZXR0bGVcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0XHRcdFtcIlNldHRsZSBDb2xvbmllc1wiXSxcclxuXHRcdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJTZXR0bGluZyB5b3VyIFBsYW5ldFwiLCBbXCJjb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge3NldHRsZV9jb2xvbmllcyhnZXRTdWJDaG9pY2UoKSwgZ2V0QWN0UGx5cigpICk7IGZpbmlzaCgpOyB9LFxyXG5cdFx0XHRcdFx0XHRbXCJTZXR0bGUgQ29sb25pZXNcIl0sXHJcblx0XHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gQ29sb25pemVcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0XHRcdFtcIkNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIkNvbG9uaXppbmcgeW91ciBQbGFuZXRcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZ2V0U3ViQ2hvaWNlKCkubmFtZSA9PSBcIlNraXBcIikgZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHBsYW5ldCA9IGdldFN1YkNob2ljZSgpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChwbGFuZXQuaG9zdGVkX2NvbG9uaWVzLnJlZHVjZSggKGFjYywgY3VyKSA9PiBhY2MgKyBjdXIuaWNvbnMuY29sb25pemUsMCkgPj0gcGxhbmV0LnNldHRsZV9jb3N0KVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sb25pemUoIHBsYW5ldCwgZ2V0QWN0UGx5cigpLmxpbWJvLGdldEFjdFBseXIoKS5saW1iby5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImNvbG9uaXplXCIpWzBdKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFtcIkNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0ZmxsdzpbXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJDaG9vc2UgYmV0d2VlbiBTZXR0bGluZyBvciBDb2xvbml6aW5nIGEgUGxhbmV0XCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKDAgPT0gZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGUgPT4gXCJidXJlYXVjcmFjeVwiID09IGUudHlwZSkubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRnYW1lLmNob2ljZXMgPSBbe25hbWU6IFwiQ29sb25pemVcIn1dO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZmluaXNoKCEwKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Ugc2ltcGxlT2ZmZXIoW1wiQ29sb25pemVcIixcIlNldHRsZSBDb2xvbmllc1wiXSlcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJDaG9vc2UgYW4gVW5zZXR0bGVkIFBsYW5ldCB0byBTZXR0bGVcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0XHRcdFtcIlNldHRsZSBDb2xvbmllc1wiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJTZXR0bGluZyB5b3VyIFBsYW5ldFwiLCBbXCJjb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4geyBzZXR0bGVfY29sb25pZXMoZ2V0U3ViQ2hvaWNlKCksIGdldEFjdFBseXIoKSk7IGZpbmlzaCghMCk7fSxcclxuXHRcdFx0XHRcdFx0W1wiU2V0dGxlIENvbG9uaWVzXCJdLFxyXG5cdFx0XHRcdFx0KSwgXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJDaG9vc2UgYW4gVW5zZXR0bGVkIFBsYW5ldCB0byBDb2xvbml6ZVwiLCBbXCJjb2xvbml6ZVwiXSwgXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0XHRcdFtcIkNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkZvbGxvd1BoYXNlKCBcIkNvbG9uaXppbmcgeW91ciBQbGFuZXRcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgcGxhbmV0ID0gZ2V0U3ViQ2hvaWNlcygpLmZpbmQoKHBsYW5ldCk9PnBsYW5ldC5ob3N0ZWRfY29sb25pZXMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgY3VyLmljb25zLmNvbG9uaXplICkgPj0gcGxhbmV0LnNldHRsZV9jb3N0KTtcclxuXHRcdFx0XHRcdFx0XHRjb2xvbml6ZSggcGxhbmV0LCBnZXRBY3RQbHlyKCkubGltYm8sZ2V0QWN0UGx5cigpLmxpbWJvLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwiY29sb25pemVcIilbMF0pO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0W1wiQ29sb25pemVcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xucDpbIF0sIFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvKi9wcm9kdWNldHJhZGU6LyovIHtcclxuXHRcdFx0XHRhY3RuOltcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIkNob29zZSBiZXR3ZWVuIFByb2R1Y2luZyBvciBUcmFkaW5nIFJlc291cmNlc1wiLCBbXCJwcm9kdWNldHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdHdyYXBwZWRPZmZlcihbXCJwcm9kdWNlXCIsXCJ0cmFkZVwiIF0pLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIkNob29zZSBhIFBsYW5ldCB0byBQcm9kdWNlIFJlc291cmNlcyBvblwiLCBbXCJwcm9kdWNldHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKCBmYWxzZSwgZmFsc2UgLCBbXCJzZXR0bGVkXyZfY29ucXVlcmVkX3BsYW5ldHNcIl0sIFwic3ViY2hvaWNlc1wiLCBmaW5pc2ggKSxcclxuXHRcdFx0XHRcdFx0W1wicHJvZHVjZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJQcm9kdWNpbmcgYSBSZXNvdXJjZVwiLCBbXCJwcm9kdWNldHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHsgcHJvZHVjZShnZXRTdWJDaG9pY2VzKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRcdFx0W1wicHJvZHVjZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJDaG9vc2UgYSBQbGFuZXQgdG8gVHJhZGUgUmVzb3VyY2VzIGZyb21cIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlciggZmFsc2UsIGZhbHNlLCBbXCJzZXR0bGVkXyZfY29ucXVlcmVkX3BsYW5ldHNcIl0sIFwic3ViY2hvaWNlc1wiLCBmaW5pc2gpLFxyXG5cdFx0XHRcdFx0XHRbXCJ0cmFkZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJUcmFkaW5nIGEgUmVzb3VyY2VcIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7dHJhZGUoZ2V0U3ViQ2hvaWNlcygpLGdldEFjdFBseXIoKSk7IGZpbmlzaCgpO30sXHJcblx0XHRcdFx0XHRcdFtcInRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0bGVhZDpbXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiQ2hvb3NlIGJldHdlZW4gUHJvZHVjaW5nIG9yIFRyYWRpbmcgUmVzb3VyY2VzXCIsIFtcInByb2R1Y2V0cmFkZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoIGZhbHNlICwgZmFsc2UgLCBbXCJvcHRpb25zXCIsW3sgbmFtZTogXCJwcm9kdWNlXCIgfSwgeyBuYW1lOiBcInRyYWRlXCIgfV1dLCBcImNob2ljZXNcIiwgZmluaXNoICksXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIkNob29zZSBhIFBsYW5ldCB0byBQcm9kdWNlIFJlc291cmNlcyBvblwiLCBbXCJwcm9kdWNldHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKCB0cnVlICwgdHJ1ZSAsIFsgXCJzZXR0bGVkXyZfY29ucXVlcmVkX3BsYW5ldHNcIiBdLCBcInN1YmNob2ljZXNcIiwgZmluaXNoICksXHJcblx0XHRcdFx0XHRcdFtcInByb2R1Y2VcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIlByb2R1Y2luZyBhIFJlc291cmNlXCIsIFtcInByb2R1Y2V0cmFkZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3RpdmVyb2xlID0gXCJwcm9kdWNlXCI7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHByZCA9IHByb2R1Y2UoIGdldFN1YkNob2ljZXMoKSwgZ2V0QWN0UGx5cigpLmJzdEljb25zLnByb2R1Y2UgKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGdldEFjdHZBY3RuKCkgPT0gXCJnZW5ldGljX2VuZ2luZWVyaW5nXCIgKSBwcmQuZm9yRWFjaCgocGx5cik9PnBseXIgPSBbLi4ucGx5cix7aW5mbHVlbmNlOlsuLi5wbHlyLmluZmx1ZW5jZSxnYW1lLmluZmx1ZW5jZS5wb3AoKV19XSk7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRbXCJwcm9kdWNlXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDaG9vc2UgYSBQbGFuZXQgdG8gVHJhZGUgUmVzb3VyY2VzIGZyb21cIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlciggdHJ1ZSAsIHRydWUgLCBbIFwic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCIgXSxcInN1YmNob2ljZXNcIiwgZmluaXNoICksXHJcblx0XHRcdFx0XHRcdFtcInRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJUcmFkaW5nIGEgUmVzb3VyY2VcIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUgPSBcInRyYWRlXCI7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHByZCA9IHRyYWRlKGdldFN1YkNob2ljZXMoKSxnZXRBY3RQbHlyKCksZ2V0QWN0UGx5cigpLmJzdEljb25zLnRyYWRlICk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGdldEFjdHZBY3RuKCkgPT0gXCJkaXZlcnNlX21hcmtldHNcIikge1xyXG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSBpbiBwcmQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHByZFtpXSA+IDEpIHtnZXRBY3RQbHlyKCkuaW5mbHVlbmNlLnB1c2goZ2FtZS5pbmZsdWVuY2UucG9wKCkpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGlmIChnZXRBY3R2QWN0bigpID09IFwic3BlY2lhbGl6YXRpb25cIiApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgaW4gQXJyYXkuZnJvbShwcmRbZ2V0QWN0UGx5cigpLnNwZWNpYWxpemF0aW9uXSkpIHsgLy93aGF0IG9uIGVhcnRoIGlzIHRoaXMgZG9pbmc/XHJcblx0XHRcdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5pbmZsdWVuY2UucHVzaChnYW1lLmluZmx1ZW5jZS5wb3AoKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0W1widHJhZGVcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0ZmxsdzpbXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJDaG9vc2UgYSBQbGFuZXQgdG8gUHJvZHVjZSBSZXNvdXJjZXMgb25cIiwgW1wicHJvZHVjZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoITAsICEwLCBbXCJzZXR0bGVkXyZfY29ucXVlcmVkX3BsYW5ldHNcIl0sIFwic3ViY2hvaWNlc1wiLCBmaW5pc2gpLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkZvbGxvd1BoYXNlKCBcIlByb2R1Y2luZyBhIFJlc291cmNlXCIsIFtcInByb2R1Y2VcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZSA9IGdhbWU7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUgPSBcInByb2R1Y2VcIjtcclxuXHRcdFx0XHRcdFx0XHRwcm9kdWNlKGUuc3ViY2hvaWNlcywgZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0uYnN0SWNvbnMucHJvZHVjZSk7IGZpbmlzaCghMClcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJDaG9vc2UgYSBQbGFuZXQgdG8gVHJhZGUgUmVzb3VyY2VzIGZyb21cIiwgW1widHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKCEwLCAhMCwgW1wic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCJdLCBcInN1YmNob2ljZXNcIiwgZmluaXNoKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJUcmFkaW5nIGEgUmVzb3VyY2VcIiwgW1widHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZSA9IGdhbWU7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUgPSBcInRyYWRlXCI7XHJcblx0XHRcdFx0XHRcdFx0dHJhZGUoZS5zdWJjaG9pY2VzLCBnZXRBY3RQbHlyKCksIGdldEFjdFBseXIoKS5ic3RJY29ucy50cmFkZSk7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKCEwKVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsbnA6W10sXHJcblx0XHRcdH0sXHJcblx0XHRcdC8qL3BvbGl0aWNzOi8qLyB7XHJcblx0XHRcdFx0YWN0bjpbIFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQ2hvb3NlIGEgUm9sZSBDYXJkIHRvIFJlcGxhY2UgUG9saXRpY3Mgd2l0aFwiLFxyXG5cdFx0XHRcdFx0XHRbXCJwb2xpdGljc1wiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoZmFsc2UsIGZhbHNlLCBbXCJyb2xlY2FyZHNcIl0sIFwiY2hvaWNlc1wiLCBmaW5pc2ggKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcdFx0XCJTd2FwcGluZyB0aGUgUm9sZSBDYXJkIGZvciB5b3VyIFBvbGl0aWNzIENhcmRcIixcclxuXHRcdFx0XHRcdFx0W1wicG9saXRpY3NcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtwb2xpdGljcyhnZXRBY3RQbHlyKCkubGltYm8uZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJwb2xpdGljc1wiKVswXSwgZ2V0Q2hvaWNlcygpWzBdLCBnZXRBY3RQbHlyKCkgKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0bGVhZDpbXSxcclxuXHRcdFx0XHRmbGx3OltdLFxyXG5cdFx0XHRcdGNsbnA6W10sXHJcblx0XHRcdH0sXHJcblx0XHRcdC8qL3Jlc2VhcmNoOi8qLyB7XHJcblx0XHRcdFx0YWN0bjpbXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJDaG9vc2UgdXAgdG8gMiBDYXJkcyBmcm9tIHlvdXIgSGFuZCB0byBSZW1vdmUgZnJvbSB0aGUgR2FtZVwiLCBbXCJyZXNlYXJjaFwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoIGZhbHNlLCB0cnVlLFtcImhhbmRcIl0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIlJlbW92aW5nIHlvdXIgQ2FyZHMgZnJvbSB0aGUgR2FtZVwiLCBbXCJyZXNlYXJjaFwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge3Jlc2VhcmNoKGdldENob2ljZXMoKSxnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRsZWFkOltcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDaG9vc2UgYSBUZWNobm9sb2d5IHRvIFJlc2VhcmNoXCIsIFtcInJlc2VhcmNoXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlciggdHJ1ZSAsIGZhbHNlICwgW1wicmVzZWFyY2hcIiBdLCBcImNob2ljZXNcIiwgZmluaXNoICAgKSxcclxuXHRcdFx0XHRcdCksIFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIlJlc2VhcmNoaW5nIHlvdXIgVGVjaG5vbG9neVwiLCBbXCJyZXNlYXJjaFwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikge2ZpbmlzaCh0cnVlKTtyZXR1cm47fVxyXG5cdFx0XHRcdFx0XHRcdGxldCBjYXJkID0gZ2V0Q2hvaWNlcygpWzBdO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBwID0geyBhZHZhbmNlZDogMCwgbWV0YWxsaWM6IDAsIGZlcnRpbGU6IDAgfTtcclxuXHRcdFx0XHRcdFx0XHRbLi4uZ2V0QWN0UGx5cigpLnNldHRsZWRfcGxhbmV0cywgLi4uZ2V0QWN0UGx5cigpLmNvbnF1ZXJlZF9wbGFuZXRzXS5tYXAoZWwgPT4gcFtlbC50eXBlXSsrKTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgY29uZGl0aW9uID0gT2JqZWN0LnZhbHVlcyhjYXJkLnBsYW5ldF9yZXF1aXJlbWVudHMpLnJlZHVjZSgoYWNjLGN1cixpKT0+KGFjYykgPyBjdXIgPiBwW09iamVjdC5rZXlzKHApW2ldXSA6IGFjYyx0cnVlKVxyXG5cdFx0XHRcdFx0XHRcdGlmICggY29uZGl0aW9uICYmIGdldEFjdFBseXIoKS5ic3RJY29ucy5yZXNlYXJjaCA+PSBjYXJkLnJlc2VhcmNoX2Nvc3QgKSBcclxuXHRcdFx0XHRcdFx0XHRcdHBsYXkoZ2FtZS5yZXNlYXJjaF9kZWNrLCAoY2FyZC5pc19wZXJtYW5lbnQpID8gIGdldEFjdFBseXIoKS5wZXJtYW5lbnRzIDogZ2V0QWN0UGx5cigpLmxpbWJvLCAoY2FyZC5pc19wZXJtYW5lbnQpID8gXCJcIiA6IFwiZGlzY2FyZFwiLCBjYXJkLmlkKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0ZmxsdzpbXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJDaG9vc2UgYSBUZWNobm9sb2d5IHRvIFJlc2VhcmNoXCIsIFtcInJlc2VhcmNoXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlcighMCwgITEsIFtcInJlc2VhcmNoXCJdLCBcImNob2ljZXNcIiwgZmluaXNoKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJSZXNlYXJjaGluZyB5b3VyIFRlY2hub2xvZ3lcIiwgW1wic3VydmV5XCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGUgPSBnYW1lO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChcIlNraXBcIiAhPSBlLmNob2ljZXNbMF0ubmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGEgPSB7IGFkdmFuY2VkOiAwLCBtZXRhbGxpYzogMCwgZmVydGlsZTogMCB9O1xyXG5cdFx0XHRcdFx0XHRcdFx0Wy4uLmUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLnNldHRsZWRfcGxhbmV0cywgLi4uZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0uY29ucXVlcmVkX3BsYW5ldHNdLm1hcChlID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YVtlLnR5cGVdKytcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHAgPSAhMDtcclxuXHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgaW4gZS5jaG9pY2VzWzBdLnBsYW5ldF9yZXF1aXJlbWVudHMpIGUuY2hvaWNlc1swXS5wbGFuZXRfcmVxdWlyZW1lbnRzW2ldID4gYVtpXSAmJiAocCA9ICExKTtcclxuXHRcdFx0XHRcdFx0XHRcdHAgJiYgZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0uYnN0SWNvbnMucmVzZWFyY2ggPj0gZS5jaG9pY2VzWzBdLnJlc2VhcmNoX2Nvc3QgJiYgcGxheShlLnJlc2VhcmNoX2RlY2ssIGUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLmxpbWJvLCBcImRpc2NhcmRcIiwgZS5jaG9pY2VzWzBdLmlkKVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRmaW5pc2goITApO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsbnA6WyBdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvKi9zdXJ2ZXk6LyovIHtcclxuXHRcdFx0XHRhY3RuOlsgICAgICAgIFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiU3VydmV5aW5nIHlvdXIgRW1waXJlXCIsIFtcInN1cnZleVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge3N1cnZleShnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRsZWFkOltcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZShcclxuXHRcdFx0XHRcdFx0XCJDaG9vc2UgYSBQbGFuZXQgZnJvbSB5b3VyIEdhbGF4eSB0byBFeHBsb3JlXCIsXHJcblx0XHRcdFx0XHRcdFtcInN1cnZleVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGdldEFjdFBseXIoKS5ic3RJY29ucy5zdXJ2ZXk7IGkrKyApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGV4cGxvcmVfcGxhbmV0KCBnZXRBY3RQbHlyKCkgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUgLCBmYWxzZSAsIFsgXCJvcHRpb25zXCIsIGdhbWUub3B0aW9ucyBdLCBcImNob2ljZXNcIixmaW5pc2ggICApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIlN1cnZleWluZyB5b3VyIEVtcGlyZVwiLFxyXG5cdFx0XHRcdFx0XHRbXCJzdXJ2ZXlcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHRcdGNhdGFsb2dfcGxhbmV0KCBnZXRBY3RQbHlyKCkgKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0ZmxsdzpbXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZShcclxuXHRcdFx0XHRcdFx0XCJDaG9vc2UgYSBQbGFuZXQgZnJvbSB5b3VyIEdhbGF4eSB0byBFeHBsb3JlXCIsXHJcblx0XHRcdFx0XHRcdFtcInN1cnZleVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlID0gZ2FtZTtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBhID0gMDsgYSA8IGUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLmJzdEljb25zLnN1cnZleSAtIDE7IGErKykgZXhwbG9yZV9wbGFuZXQoZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0pO1xyXG5cdFx0XHRcdFx0XHRcdG9mZmVyKCEwLCAhMSwgW1wib3B0aW9uc1wiXSwgXCJjaG9pY2VzXCIsIGZpbmlzaClcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZShcclxuXHRcdFx0XHRcdFx0XCJTdXJ2ZXlpbmcgeW91ciBFbXBpcmVcIixcclxuXHRcdFx0XHRcdFx0W1wic3VydmV5XCJdLCBcclxuXHRcdFx0XHRcdFx0KCkgPT4geyBpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIGZpbmlzaCgpOyBjYXRhbG9nX3BsYW5ldChnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XSk7IGZpbmlzaCghMCl9LFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsbnA6W1xyXG5cdFx0XHRcdFx0e1wiXCI6XHJcblx0XHRcdFx0XHQoKT0+e319LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdH0sXHJcblx0XHRcdC8qL3dhcmZhcmU6LyovIHtcclxuXHRcdFx0XHRhY3RuOltcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIkNob29zZSBiZXR3ZWVuIENvbGxlY3RpbmcgYSBTdGFyZmlnaHRlciBvciBDb25xdWVyaW5nIGEgUGxhbmV0XCIsXHJcblx0XHRcdFx0XHRcdFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdHdyYXBwZWRPZmZlcihbXCJDb25xdWVyIGEgUGxhbmV0XCIsIFwiQ29sbGVjdCBhIFN0YXJmaWdodGVyXCJdKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcdFx0XCJBZGRpbmcgYSBTdGFyZmlnaHRlciB0byB5b3VyIEZsZWV0XCIsXHJcblx0XHRcdFx0XHRcdFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHt3YXJmYXJlKGdldEFjdFBseXIoKSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdFx0XHRbXCJDb2xsZWN0IGEgU3RhcmZpZ2h0ZXJcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IHRvIENvbnF1ZXJcIixcclxuXHRcdFx0XHRcdFx0W1wid2FyZmFyZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoZmFsc2UsIGZhbHNlLCBbXCJ1bnNldHRsZWRfcGxhbmV0c1wiXSwgXCJzdWJjaG9pY2VzXCIsIGZpbmlzaCksXHJcblx0XHRcdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQ29ucXVlcmluZyB5b3VyIHBsYW5ldFwiLFxyXG5cdFx0XHRcdFx0XHRbXCJ3YXJmYXJlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7Y29ucXVlcihnZXRTdWJDaG9pY2UoKSxnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRcdFx0W1wiQ29ucXVlciBhIFBsYW5ldFwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRsZWFkOltcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDaG9vc2UgYmV0d2VlbiBDb2xsZWN0aW5nIFN0YXJmaWdodGVycyBvciBDb25xdWVyaW5nIGEgUGxhbmV0XCIsIFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdHdyYXBwZWRPZmZlcihbXCJDb25xdWVyIGEgUGxhbmV0XCIsIFwiQ29sbGVjdCBTdGFyZmlnaHRlcnNcIl0pLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJBZGRpbmcgU3RhcmZpZ2h0ZXJzIHRvIHlvdXIgRmxlZXRcIiwgW1wid2FyZmFyZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHJhbmdlKDEsZ2V0QWN0UGx5cigpLmJzdEljb25zLndhcmZhcmUpLmZvckVhY2goICgpPT53YXJmYXJlKCBnZXRBY3RQbHlyKCkgKSApO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0W1wiQ29sbGVjdCBTdGFyZmlnaHRlcnNcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIkNob29zZSBhIFBsYW5ldCB0byBDb25xdWVyXCIsIFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIkNvbnF1ZXJpbmcgeW91ciBwbGFuZXRcIiwgW1wid2FyZmFyZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnF1ZXIoZ2V0U3ViQ2hvaWNlKCksIGdldEFjdFBseXIoKSApO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0W1wiQ29ucXVlciBhIFBsYW5ldFwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRmbGx3OltcclxuXHRcdFx0XHRcdGdlbkZvbGxvd1BoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIkNob29zZSBiZXR3ZWVuIENvbGxlY3RpbmcgU3RhcmZpZ2h0ZXJzIG9yIENvbnF1ZXJpbmcgYSBQbGFuZXRcIixcclxuXHRcdFx0XHRcdFx0W1wid2FyZmFyZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmICgwID09IGdhbWUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLnBlcm1hbmVudHMuZmlsdGVyKGUgPT4gXCJidXJlYXVjcmFjeVwiID09IGUudHlwZSkubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgZSA9IGdhbWU7XHJcblx0XHRcdFx0XHRcdFx0XHRlLmNob2ljZXMgPSBbe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBcIkNvbGxlY3QgU3RhcmZpZ2h0ZXJzXCJcclxuXHRcdFx0XHRcdFx0XHRcdH1dOyAgZmluaXNoKCEwKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Ugb2ZmZXIoITEsICExLCBbXCJvcHRpb25zXCIsIFt7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBcIkNvbnF1ZXIgYSBQbGFuZXRcIlxyXG5cdFx0XHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IFwiQ29sbGVjdCBTdGFyZmlnaHRlcnNcIlxyXG5cdFx0XHRcdFx0XHRcdH1dXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQWRkaW5nIFN0YXJmaWdodGVycyB0byB5b3VyIEZsZWV0XCIsXHJcblx0XHRcdFx0XHRcdFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBlID0gMDsgZSA8IGdhbWUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLmJzdEljb25zLndhcmZhcmU7IGUrKykgd2FyZmFyZShnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XSk7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKCEwKVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRbXCJDb2xsZWN0IFN0YXJmaWdodGVyc1wiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZShcclxuXHRcdFx0XHRcdFx0XCJDaG9vc2UgYSBQbGFuZXQgdG8gQ29ucXVlclwiLFxyXG5cdFx0XHRcdFx0XHRbXCJ3YXJmYXJlXCJdLCBcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoITEsICExLCBbXCJ1bnNldHRsZWRfcGxhbmV0c1wiXSwgXCJzdWJjaG9pY2VzXCIsIGZpbmlzaCksXHJcblx0XHRcdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQ29ucXVlcmluZyB5b3VyIHBsYW5ldFwiLFxyXG5cdFx0XHRcdFx0XHRbXCJ3YXJmYXJlXCJdLCBcclxuXHRcdFx0XHRcdFx0KCkgPT4ge2NvbnF1ZXIoZ2FtZS5zdWJjaG9pY2VzWzBdLCBnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XSk7IGZpbmlzaCghMCk7fSxcclxuXHRcdFx0XHRcdFx0W1wiQ29ucXVlciBhIFBsYW5ldFwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbG5wOltcclxuXHRcdFx0XHRcdHtcIlwiOlxyXG5cdFx0XHRcdFx0KCk9Pnt9fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XTtcclxuXHRcdGFjdGlvbmNhcmRwaGFzZXMgPSBbXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBpbXByb3ZlZF9jb2xvbml6ZSBcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2Ugd2V0aGVyIG9yIG5vdCB0byBTZXR0bGUgYSBQbGFuZXRcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9jb2xvbml6ZVwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlciggdHJ1ZSwgZmFsc2UsIFsgXCJvcHRpb25zXCIsIFt7IG5hbWU6IFwic2V0dGxlXCIgfSwgeyBuYW1lOiBcIlNraXBcIiB9XV0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpXHJcblx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IHRvIFNldHRsZVwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX2NvbG9uaXplXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0W1wic2V0dGxlXCJdLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiU2V0dGxpbmcgeW91ciBQbGFuZXRcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9jb2xvbml6ZVwiXSxcclxuXHRcdFx0XHQoKSA9PiB7IHNldHRsZV9jb2xvbmllcyhnZXRTdWJDaG9pY2UoKSxnZXRBY3R2UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0W1wic2V0dGxlXCJdLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGJldHdlZW4gU2V0dGxpbmcgb3IgQ29sb25pemluZyBhIFBsYW5ldFwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX2NvbG9uaXplXCJdLFxyXG5cdFx0XHRcdHdyYXBwZWRPZmZlcihbXCJDb2xvbml6ZVwiICxcIlNldHRsZSBDb2xvbmllc1wiXSksXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYW4gVW5zZXR0bGVkIFBsYW5ldCB0byBTZXR0bGVcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9jb2xvbml6ZVwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFtcIlNldHRsZSBDb2xvbmllc1wiXSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlNldHRsaW5nIHlvdXIgUGxhbmV0XCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfY29sb25pemVcIl0sXHJcblx0XHRcdFx0KCkgPT4geyBzZXR0bGVfY29sb25pZXMoIGdldFN1YkNob2ljZSgpLCBnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRbXCJTZXR0bGUgQ29sb25pZXNcIl0sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYW4gVW5zZXR0bGVkIFBsYW5ldCB0byBDb2xvbml6ZVwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX2NvbG9uaXplXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0W1wiQ29sb25pemVcIl0sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDb2xvbml6aW5nIHlvdXIgUGxhbmV0XCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfY29sb25pemVcIl0sXHJcblx0XHRcdFx0KCkgPT4geyBjb2xvbml6ZSggZ2V0U3ViQ2hvaWNlKCksIGdldEFjdFBseXIoKS5saW1ibywgZ2V0QWN0UGx5cigpLmxpbWJvLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwiaW1wcm92ZWRfY29sb25pemVcIilbMF0pOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRbXCJDb2xvbml6ZVwiXSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gaW1wcm92ZWRfcHJvZHVjZSA6IDRcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYW4gZW1wdHkgUHJvZHVjdGlvbiBab25lIHRvIFByb2R1Y2UgaW5cIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9wcm9kdWN0aW9uXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyKCB0cnVlLCBmYWxzZSwgW1wic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCJdLCBcImNob2ljZXNcIiAsIGZpbmlzaCksXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJQcm9kdWNpbmcgeW91ciBSZXNvdXJjZVwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3Byb2R1Y3Rpb25cIl0sXHJcblx0XHRcdFx0KCkgPT4geyBcclxuXHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikgZmluaXNoKCk7IHByb2R1Y2UoZ2FtZS5jaG9pY2VzKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYW4gZW1wdHkgUHJvZHVjdGlvbiBab25lIHRvIFByb2R1Y2UgaW5cIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9wcm9kdWN0aW9uXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyKHRydWUsIGZhbHNlLCBbXCJzZXR0bGVkXyZfY29ucXVlcmVkX3BsYW5ldHNcIl0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiUHJvZHVjaW5nIHlvdXIgUmVzb3VyY2VcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9wcm9kdWN0aW9uXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgaWYgKGdldENob2ljZSgpID09IFwiU2tpcFwiKSBmaW5pc2goKTtwcm9kdWNlKGdhbWUuY2hvaWNlcyk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBpbXByb3ZlZF90cmFkZSA6IDFcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJUcmFkaW5nIHlvdXIgU3RvY2tzIGFuZCBCb25kc1wiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3RyYWRlXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGdhbWUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLmluZmx1ZW5jZS5wdXNoKCBnYW1lLmluZmx1ZW5jZS5wb3AoKSApO1xyXG5cdFx0XHRcdFx0ZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIGltcHJvdmVkX3Jlc2VhcmNoIDogMlxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNob29zZSB1cCB0byAzIENhcmRzIGZyb20geW91ciBIYW5kIHRvIFJlbW92ZSBmcm9tIHRoZSBHYW1lXCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfcmVzZWFyY2hcIl0sXHJcblx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0ZHJhdyhnZXRBY3RQbHlyKCkpO1xyXG5cdFx0XHRcdFx0b2ZmZXIoZmFsc2UsIHRydWUsIFtcImhhbmRcIl0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpO31cclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlJlbW92aW5nIHlvdXIgQ2FyZHMgZnJvbSB0aGUgR2FtZVwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3Jlc2VhcmNoXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtyZXNlYXJjaChnZXRDaG9pY2VzKCksIGdldEFjdFBseXIoKSwgMyk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBpbXByb3ZlZF9zdXJ2ZXkgOiAxXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiRHJhd2luZyB5b3VyIENhcmRzXCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfc3VydmV5XCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGRyYXcoIGdldEFjdFBseXIoKSApOyBkcmF3KCBnZXRBY3RQbHlyKCkgKTsgZHJhdyggZ2V0QWN0UGx5cigpICk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBpbXByb3ZlZF93YXJmYXJlIDogNFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNob29zZSBiZXR3ZWVuIENvbGxlY3RpbmcgYSBTdGFyZmlnaHRlciBvciBDb25xdWVyaW5nIGEgUGxhbmV0XCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfd2FyZmFyZVwiXSxcclxuXHRcdFx0XHR3cmFwcGVkT2ZmZXIoXCJDb25xdWVyIGEgUGxhbmV0XCIsXCJDb2xsZWN0IGEgU3RhcmZpZ2h0ZXJcIiksXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJBZGRpbmcgYSBTdGFyZmlnaHRlciB0byB5b3VyIEZsZWV0XCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfd2FyZmFyZVwiXSxcclxuXHRcdFx0XHQoKSA9PiB7d2FyZmFyZShnZXRBY3RQbHlyKCkpOyB3YXJmYXJlKGdldEFjdFBseXIoKSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdFtcIkNvbGxlY3QgYSBTdGFyZmlnaHRlclwiXVxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IHRvIENvbnF1ZXJcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF93YXJmYXJlXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0W1wiQ29ucXVlciBhIFBsYW5ldFwiXVxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ29ucXVlcmluZyB5b3VyIHBsYW5ldFwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3dhcmZhcmVcIl0sXHJcblx0XHRcdFx0KCkgPT4geyBjb25xdWVyKGdldFN1YkNob2ljZSgpLGdldEFjdFBseXIoKSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl1cclxuXHRcdFx0XHQpLFxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gbW9iaWxpemF0aW9uIDogNFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNvbGxlY3RpbmcgeW91ciBTdGFyIEZpZ2h0ZXJzXCIsXHJcblx0XHRcdFx0W1wibW9iaWxpemF0aW9uXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgd2FyZmFyZShnZXRBY3RQbHlyKCkpOyB3YXJmYXJlKGdldEFjdFBseXIoKSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gc3VydmV5X3RlYW0gOiAxXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQWRkaW5nIFRvcCBDYXJkIG9mIHRoZSBQbGFuZXQgZGVjayB0byB5b3VyIEVtcGlyZVwiLFxyXG5cdFx0XHRcdFtcInN1cnZleV90ZWFtXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGxldCB7IGdhbWU6IGdhbWUsIGdhbWU6IHsgYWN0aW5nX3BsYXllcjogcGxheWVyLCBwbGFuZXRfZGVjazogcGxhbmV0X2RlY2sgfSB9ID0gZ2V0KCk7XHJcblx0XHRcdFx0XHRwbGF5ZXIgPSBnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XTtcclxuXHRcdFx0XHRcdGxldCBwbGFuZXQgPSBwbGFuZXRfZGVjay5wb3AoKTtcclxuXHRcdFx0XHRcdHBsYXllci51bnNldHRsZWRfcGxhbmV0cy5wdXNoKHBsYW5ldCk7XHJcblx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gd2FyX3BhdGggOiA0XHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IHRvIENvbnF1ZXJcIixcclxuXHRcdFx0XHRbXCJ3YXJfcGF0aFwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ29ucXVlcmluZyB5b3VyIHBsYW5ldFwiLFxyXG5cdFx0XHRcdFtcIndhcl9wYXRoXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgaWYgKGdldENob2ljZSgpID09IFwiU2tpcFwiKSBmaW5pc2goKTsgY29ucXVlcihnZXRDaG9pY2UoKSxnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNob29zZSBhIFBsYW5ldCB0byBDb25xdWVyXCIsXHJcblx0XHRcdFx0W1wid2FyX3BhdGhcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXJVbnNldHRsZWQoKSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNvbnF1ZXJpbmcgeW91ciBwbGFuZXRcIixcclxuXHRcdFx0XHRbXCJ3YXJfcGF0aFwiXSxcclxuXHRcdFx0XHQoKSA9PiB7IGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikgZmluaXNoKCk7IGNvbnF1ZXIoZ2V0Q2hvaWNlKCksZ2V0QWN0UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIHRlcnJhZm9ybWluZyA6IDJcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYW4gVW5zZXR0bGVkIFBsYW5ldCB0byBUZXJyYWZvcm1cIixcclxuXHRcdFx0XHRbXCJ0ZXJyYWZvcm1pbmdcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXJVbnNldHRsZWQoKVxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiVGVycmFmb3JtaW5nIHlvdXIgUGxhbmV0XCIsXHJcblx0XHRcdFx0W1widGVycmFmb3JtaW5nXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGNvbG9uaXplKCBnZXRDaG9pY2UoKSwgZ2V0QWN0UGx5cigpLmxpbWJvLCBnZXRBY3RQbHlyKCkubGltYm8uZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJ0ZXJyYWZvcm1pbmdcIilbMF0pO1xyXG5cdFx0XHRcdFx0aWYgKGdldENob2ljZSgpLmhvc3RlZF9jb2xvbmllcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdGxldCBjID0gZ2V0Q2hvaWNlKCkuaG9zdGVkX2NvbG9uaWVzLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyArIGN1ci5pY29ucy5jb2xvbml6ZSwwKTtcclxuXHRcdFx0XHRcdFx0aWYgKGMgPj0gZ2V0Q2hvaWNlKCkuc2V0dGxlX2Nvc3QpIHNldHRsZV9jb2xvbmllcyhnZXRDaG9pY2UoKSxnZXRBY3RQbHlyKCkpOyB9XHJcblx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7IH0sXHJcblx0XHRcdFx0W1wiQ29sb25pemVcIl1cclxuXHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIGdlbmV0aWNfZW5naW5lZXJpbmcgOjFcclxuXHRcdFx0Ly8gVU5JTVBMSU1FTlRFRFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkVuZ2luZWVyaW5nIEdlbmV0aWNzXCIsXHJcblx0XHRcdFx0W1wiZ2VuZXRpY19lbmdpbmVlcmluZ1wiXSxcclxuXHRcdFx0XHRmaW5pc2gsXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIGFydGlmaWNpYWxfaW50ZWxsaWdlbmNlIDogNFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlNlbGVjdCBhIFJvbGUgQ2FyZCB0byB0YWtlIGludG8geW91ciBIYW5kXCIsXHJcblx0XHRcdFx0W1wiYXJ0aWZpY2lhbF9pbnRlbGxpZ2VuY2VcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXIoIGZhbHNlLCAgZmFsc2UsIFtcInJvbGVjYXJkc1wiXSwgXCJjaG9pY2VzXCIsIGZpbmlzaClcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkFkZGluZyBSb2xlIENhcmQgdG8geW91ciBNYWNoaW5lIExlYXJuaW5nIE1vZGVsXCIsXHJcblx0XHRcdFx0W1wiYXJ0aWZpY2lhbF9pbnRlbGxpZ2VuY2VcIl0sXHJcblx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0bGV0IHsgZ2FtZTogZ2FtZSwgZ2FtZTogeyBhY3RpbmdfcGxheWVyOiBwbGF5ZXIgfSB9ID0gZ2V0KCk7XHJcblx0XHRcdFx0XHRwbGF5ZXIgPSBnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XTtcclxuXHRcdFx0XHRcdGlmIChnYW1lLnN0YWNrcy5waWxlY291bnRbZ2FtZS5jaG9pY2VzWzBdLnR5cGVdID49IDEpIHtcclxuXHRcdFx0XHRcdFx0cGxheWVyLmhhbmQucHVzaChcclxuXHRcdFx0XHRcdFx0XHRPYmplY3QuYXNzaWduKFxyXG5cdFx0XHRcdFx0XHRcdHsgaWQ6IGdlbl91bmlxdWVfaWQoKSB9LFxyXG5cdFx0XHRcdFx0XHRcdGdhbWUuc3RhY2tzLnJvbGVjYXJkc1tnYW1lLnN0YWNrc1tnYW1lLmNob2ljZXNbMF0udHlwZV1dXHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRnYW1lLnN0YWNrcy5waWxlY291bnRbZ2FtZS5jaG9pY2VzWzBdLnR5cGVdLS07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiU2VsZWN0IGEgUm9sZSBDYXJkIHRvIHRha2UgaW50byB5b3VyIEhhbmRcIixcclxuXHRcdFx0XHRbXCJhcnRpZmljaWFsX2ludGVsbGlnZW5jZVwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlciggZmFsc2UsICBmYWxzZSwgWyBcInJvbGVjYXJkc1wiIF0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJBZGRpbmcgUm9sZSBDYXJkIHRvIHlvdXIgTWFjaGluZSBMZWFybmluZyBNb2RlbFwiLFxyXG5cdFx0XHRcdFtcImFydGlmaWNpYWxfaW50ZWxsaWdlbmNlXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGxldCB7IGdhbWU6IGdhbWUsIGdhbWU6IHsgYWN0aW5nX3BsYXllcjogcGxheWVyIH0gfSA9IGdldCgpO1xyXG5cdFx0XHRcdFx0cGxheWVyID0gZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF07XHJcblx0XHRcdFx0XHRpZiAoZ2FtZS5zdGFja3MucGlsZWNvdW50W2dhbWUuY2hvaWNlc1swXS50eXBlXSA+PSAxKSB7XHJcblx0XHRcdFx0XHRcdHBsYXllci5oYW5kLnB1c2goXHJcblx0XHRcdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihcclxuXHRcdFx0XHRcdFx0XHR7IGlkOiBnZW5fdW5pcXVlX2lkKCkgfSxcclxuXHRcdFx0XHRcdFx0XHRnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3NbZ2FtZS5jaG9pY2VzWzBdLnR5cGVdXVxyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0Z2FtZS5zdGFja3MucGlsZWNvdW50W2dhbWUuY2hvaWNlc1swXS50eXBlXS0tO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0fSwgXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIGRpdmVyc2VfbWFya2V0cyA6IDFcclxuXHRcdFx0Ly8gVU5JTVBMSU1FTlRFRFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkRpdmVyc2lmeWluZyBNYXJrZXRzXCIsXHJcblx0XHRcdFx0W1wiZGl2ZXJzZV9tYXJrZXRzXCJdLFxyXG5cdFx0XHRcdGZpbmlzaFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBzcGVjaWFsaXphdGlvbiA6IDJcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYSBSZXNvdXJjZSB0byBTcGVjaWFsaXplIGluXCIsXHJcblx0XHRcdFx0W1wic3BlY2lhbGl6YXRpb25cIl0sXHJcblx0XHRcdFx0d3JhcHBlZE9mZmVyKFwicmVkXCIsXCJibHVlXCIsXCJncmVuXCIsXCJwdXJwbGVcIilcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlNwZWNpYWxpemFpbmcgaW4geW91ciBTZWxldGVkIFJlc291cmNlXCIsXHJcblx0XHRcdFx0W1wic3BlY2lhbGl6YXRpb25cIl0sXHJcblx0XHRcdFx0KCkgPT4geyBnZXRBY3RQbHlyKCkuc3BlY2lhbGl6YXRpb24gPSBnZXRDaG9pY2UoKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIGRhdGFfbmV0d29yayA6IDNcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJEcmF3aW5nIFlvdXIgQ2FyZHNcIixcclxuXHRcdFx0XHRbXCJkYXRhX25ldHdvcmtcIl0sXHJcblx0XHRcdFx0KCkgPT4geyBkcmF3KGdldEFjdFBseXIoKSk7IGRyYXcoZ2V0QWN0UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYW55IG51bWJlciBvZiBDYXJkcyBmcm9tIHlvdXIgSGFuZCB0byBSZW1vdmUgZnJvbSB0aGUgR2FtZVwiLFxyXG5cdFx0XHRcdFtcImRhdGFfbmV0d29ya1wiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlciggdHJ1ZSwgdHJ1ZSwgWyBcImhhbmRcIiBdLCBcImNob2ljZXNcIiwgZmluaXNoKSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlJlbW92aW5nIHRoZSBTZWxlY3RlZCBDYXJkcyBmcm9tIHRoZSBHYW1lXCIsXHJcblx0XHRcdFx0W1wiZGF0YV9uZXR3b3JrXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikgZmluaXNoKCk7XHJcblx0XHRcdFx0XHRsZXQgeyBnYW1lOiBnYW1lLCBnYW1lOiB7IGNob2ljZXM6IGNob2ljZXMsIGFjdGluZ19wbGF5ZXI6IHBsYXllciB9IH0gPSBnZXQoKTtcclxuXHRcdFx0XHRcdHBsYXllciA9IGdhbWUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdO1xyXG5cdFx0XHRcdFx0cmVzZWFyY2goY2hvaWNlcywgcGxheWVyLCBjaG9pY2VzLmxlbmd0aCk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHQpXHJcblx0XHRdO1xyXG5cdFx0bGV0IG5vbmNlID0gMDtcclxuXHRcdGdhbWUgPSB7XHJcblx0XHRcdG1pblBseXJzOiAyLFxyXG5cdFx0XHRtYWF4UGx5cnM6IDQsXHJcblx0XHRcdHBhc3N0b3BsYXllcjogZmFsc2UsXHJcblx0XHRcdG5vbmNlOiAwLFxyXG5cdFx0XHRkaXNwbGF5aW5mbzoge1xyXG5cdFx0XHRcdHNlbGVjdGlvbnpvbmU6IFwiXCIsXHJcblx0XHRcdFx0ZHJhZ2dlZDogbnVsbCxcclxuXHRcdFx0XHRzaG93b3B0aW9udG9za2lwOiBmYWxzZSxcclxuXHRcdFx0XHRhbGxvd2Zvcm11bHRpcGxlc2VsZWN0aW9uczogZmFsc2UsXHJcblx0XHRcdFx0Y2VudGVyX29yX3BsYW5ldHM6IHRydWUsIC8vdHJ1ZSA9IGNlbnRlciwgZmFsc2UgPSBwbGFuZXRzXHJcblx0XHRcdFx0Y2hvaWNlbGFiZWw6IFwiY2hvaWNlc1wiXHJcblx0XHRcdH0sXHJcblx0XHRcdHN1YmNob2ljZXM6IFtdLFxyXG5cdFx0XHRpbmZsdWVuY2U6IFsxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMV0sXHJcblx0XHRcdG1lc3NhZ2V0b3BsYXllcjogWydXYWl0aW5nIGZvciBvdGhlciBwbGF5ZXJzIHRvIGpvaW4nXSxcclxuXHRcdFx0b3B0aW9uczogW10sXHJcblx0XHRcdHBsYW5ldF9kZWNrOiBbXSxcclxuXHRcdFx0Y3VycmVudHBoYXNlOiAtNCxcclxuXHRcdFx0bGVhZGluZ19wbGF5ZXJfaW5kZXg6IDAsXHJcblx0XHRcdGFjdGluZ19wbGF5ZXJfaW5kZXg6IDAsXHJcblx0XHRcdG51bWJlcl9vZl9wbGF5ZXJzOiAyLFxyXG5cdFx0XHRzdGFydGVkOiBmYWxzZSxcclxuXHRcdFx0Z2FtZXBoYXNlczogW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRzdGFydDogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJzZXQgYWN0aXZlIHBsYXllclwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChnYW1lLnN0YXJ0ZWQpIHtcclxuXHRcdFx0XHRcdFx0Z2FtZS5zdGFydGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0Z2FtZS5wYXNzdCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4ID1cclxuXHRcdFx0XHRcdFx0XHQoZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleCArIDEpICUgZ2FtZS5udW1iZXJfb2ZfcGxheWVycztcclxuXHRcdFx0XHRcdFx0Z2FtZS5hY3RpbmdfcGxheWVyX2luZGV4ID0gZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleDtcclxuXHRcdFx0XHRcdFx0Z2FtZS5sZWFkaW5ncGxheWVyID0gZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdO1xyXG5cdFx0XHRcdFx0XHRnYW1lLmFjdGluZ19wbGF5ZXIgPSBnYW1lLnBsYXllcnNbZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleF07XHJcblx0XHRcdFx0XHRcdG9wZW5GdWxsc2NyZWVuKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGdhbWUubGVhZGluZ3BsYXllciAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XS5yb3VuZHMrKztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRsZXQgcGxhbmV0cyA9IFtcclxuXHRcdFx0XHRcdFx0Li4uZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdLnNldHRsZWRfcGxhbmV0cyxcclxuXHRcdFx0XHRcdFx0Li4uZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdLmNvbnF1ZXJlZF9wbGFuZXRzXHJcblx0XHRcdFx0XHRcdF07XHJcblx0XHRcdFx0XHRcdGZvciAobGV0IHAgaW4gcGxhbmV0cykge1xyXG5cdFx0XHRcdFx0XHR0YWxseUljb25zKGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XSxwbGFuZXRzW3BdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBwIGluIGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XS5wZXJtYW5lbnRzKSB7XHJcblx0XHRcdFx0XHRcdHRhbGx5SWNvbnMoZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdLHBlcm1hbmVudHNbcF0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRQcm9kdWN0aXZpdHk6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcInByb2R1Y3Rpdml0eVwiKS5sZW5ndGggIT0gMCApIHtcclxuXHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGlvbnJvbGVzZXF1ZW5jZSA9IFwiYWFyXCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJDaG9vc2UgYW4gT3JkZXIgdG8gUGVyZm9ybSBZb3VyIEFjdGlvbiBhbmQgUm9sZSBQaGFzZXNcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJsb2dpc3RpY3NcIiApLmxlbmd0aCAhPSAwICkge1xyXG5cdFx0XHRcdFx0XHRsZXQgb3B0aW9ucyA9IFtcclxuXHRcdFx0XHRcdFx0XHRcIkFjdGlvbiBQaGFzZSB0aGVuIFJvbGUgUGhhc2VcIixcclxuXHRcdFx0XHRcdFx0XHRcIlJvbGUgUGhhc2UgdGhlbiBBY3Rpb24gUGhhc2VcIlxyXG5cdFx0XHRcdFx0XHRdO1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJwcm9kdWN0aXZpdHlcIikubGVuZ3RoICE9IDAgKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly9hZGQgYWFyLGFyYSxhbmQgcmFhIGFzIG9wdGlvbnNcclxuXHRcdFx0XHRcdFx0XHRvcHRpb25zLnB1c2goXCJBY3Rpb24gUGhhc2UgdGhlbiBhbm90aGVyIEFjdGlvbiBQaGFzZSB0aGVuIFJvbGUgUGhhc2VcIik7XHJcblx0XHRcdFx0XHRcdFx0b3B0aW9ucy5wdXNoKFwiQWN0aW9uIFBoYXNlIHRoZW4gUm9sZSBQaGFzZSB0aGVuIGFub3RoZXIgQWN0aW9uIFBoYXNlXCIpO1xyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnMucHVzaChcIlJvbGUgUGhhc2UgdGhlbiBBY3Rpb24gUGhhc2UgdGhlbiBhbm90aGVyIEFjdGlvbiBQaGFzZVwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHQvL29mZmVyIGFyIG9yIHJhXHJcblx0XHRcdFx0XHRcdHNpbXBsZU9mZmVyKG9wdGlvbnMpXHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0TG9naXN0aWNzOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImxvZ2lzdGljc1wiKS5sZW5ndGggIT0gMCApIHtcclxuXHRcdFx0XHRcdFx0aWYgKGdldENob2ljZSgpID09IFwiQWN0aW9uIFBoYXNlIHRoZW4gUm9sZSBQaGFzZVwiICkge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2UgPSBcImFyXCI7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGdldENob2ljZSgpID09IFwiUm9sZSBQaGFzZSB0aGVuIEFjdGlvbiBQaGFzZVwiICkge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2UgPSBcInJhXCI7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGdldENob2ljZSgpID09IFwiQWN0aW9uIFBoYXNlIHRoZW4gYW5vdGhlciBBY3Rpb24gUGhhc2UgdGhlbiBSb2xlIFBoYXNlXCIgKSB7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGlvbnJvbGVzZXF1ZW5jZSA9IFwiYWFyXCI7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGdldENob2ljZSgpID09IFwiQWN0aW9uIFBoYXNlIHRoZW4gUm9sZSBQaGFzZSB0aGVuIGFub3RoZXIgQWN0aW9uIFBoYXNlXCIgKSB7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGlvbnJvbGVzZXF1ZW5jZSA9IFwiYXJhXCI7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGdldENob2ljZSgpID09IFwiUm9sZSBQaGFzZSB0aGVuIEFjdGlvbiBQaGFzZSB0aGVuIGFub3RoZXIgQWN0aW9uIFBoYXNlXCIgKSB7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGlvbnJvbGVzZXF1ZW5jZSA9IFwicmFhXCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRhY3Rpb246IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XCJDaG9vc2UgYW4gQWN0aW9uIHRvIFBsYXlcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRvZmZlciggdHJ1ZSwgZmFsc2UsIFsgXCJoYW5kXCIgXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcIlBsYXlpbmcgeW91ciBBY3Rpb25cIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgY2FyZCA9IGdldENob2ljZXMoKVswXSwgcGx5ciA9IGdldEFjdFBseXIoKTtcclxuXHRcdFx0XHRcdFx0XHRwbHlyLmFjdGl2ZWFjdGlvbiA9IGNhcmQudHlwZTtcclxuXHRcdFx0XHRcdFx0XHRoYW5kVG9MaW1ibyhwbHlyLGNhcmQpO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQuLi5nZXRBY3Rpb25Db3JlUGhhc2VzKCksXHJcblx0XHRcdFx0XHQuLi5nZXRBY3Rpb25DYXJkUGhhc2VzKClcclxuXHRcdFx0XHRcdF1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRyb2xlOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIkNob29zZSBhIFJvbGUgQ2FyZCB0byBMZWFkIHdpdGhcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRvZmZlciggZmFsc2UgLCBmYWxzZSwgWyBcInJvbGVjYXJkc1wiIF0sIFwiY2hvaWNlc1wiLCBmaW5pc2ggKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIlBlcmZvcm1pbmcgeW91ciBSb2xlXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0bGV0IGNhcmQgPSBnZXRDaG9pY2VzKClbMF07XHJcblx0XHRcdFx0XHRcdGlmIChnYW1lLnN0YWNrcy5waWxlY291bnRbY2FyZC50eXBlXSA+PSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGNhcmQudHlwZT09XCJwcm9kdWNldHJhZGVcIil7XHJcblx0XHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuYnN0SWNvbnNbIFwicHJvZHVjZVwiIF0rKztcclxuXHRcdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5ic3RJY29uc1sgXCJ0cmFkZVwiIF0rKztcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmJzdEljb25zWyBjYXJkLnR5cGUgXSsrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRsZXQgbmV3Y2FyZCA9IE9iamVjdC5hc3NpZ24oXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRpZDogZ2VuX3VuaXF1ZV9pZCgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZmluRGVzdDogXCJkaXNjYXJkXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdGdhbWUuc3RhY2tzLnJvbGVjYXJkc1tnYW1lLnN0YWNrc1tjYXJkLnR5cGVdXVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmxpbWJvID0gWyAuLi5nZXRBY3RQbHlyKCkubGltYm8sIG5ld2NhcmRdO1xyXG5cdFx0XHRcdFx0XHRcdGdhbWUuc3RhY2tzLnBpbGVjb3VudFtjYXJkLnR5cGVdLS07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoY2FyZC50eXBlICE9IFwiY29sb25pemVcIikge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5ic3RJY29uc1sgY2FyZC50eXBlIF0rKztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZSA9IGNhcmQudHlwZTtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRsZWFkOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFwiQ2hvb3NlIGNhcmRzIGZyb20geW91ciBoYW5kIHRvIEJvb3N0IHRoZSBlZmZlY3RpdmVuZXNzIG9mIHlvdXIgUm9sZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUgLCB0cnVlLCBbIFwiaGFuZFwiIF0sIFwiY2hvaWNlc1wiLCBmaW5pc2ggKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XCJCb29zdGluZyB5b3VyIFJvbGVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGdldENob2ljZXMoKS5mb3JFYWNoKCAoY2FyZCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRib29zdFdpdGhJY29ucyhnZXRBY3RQbHlyKCksY2FyZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhcmQuZmluRGVzdD0nZGlzY2FyZCc7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdC8vVE9ETzogdGFsbHkgdXAgaWNvbnMgb24gcGxhbmV0c1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9UT0RPOiB0YWxseSB1cCBpY29ucyBvbiB0ZWNobm9sb2dpZXNcclxuXHRcdFx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQuLi5nZXRMZWFkQ29yZVBoYXNlcygpLFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJQYXNzIHRoZSBkZXZpY2UgdG8gdGhlIE5leHQgUGxheWVyXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Z2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lID0gXCJcIjtcclxuXHRcdFx0XHRcdFx0Z2FtZS5wYXNzcCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJZb3UgcGFzc2VkIFByaW9yaXR5XCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Z2FtZS5wYXNzcCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdGZvbGxvdzogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJDaG9vc2UgYmV0d2VlbiBGb2xsb3dpbmcgb3IgRGlzc2VudCB0aGUgTGVhZGluZyBSb2xlXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0c2ltcGxlT2ZmZXIoW1wiZGlzc2VudFwiLGdldExlYWRQbHlyKCkuYWN0aXZlcm9sZV0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdERpc3NlbnRpbmc6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUgPSBnZXRDaG9pY2UoKTtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZSAhPSBcImRpc3NlbnRcIiApIHtcclxuXHRcdFx0XHRcdFx0bGV0IGNhcmQgPSBnZXRDaG9pY2VzKClbMF07XHJcblx0XHRcdFx0XHRcdGlmIChnYW1lLnN0YWNrcy5waWxlY291bnRbY2FyZC5uYW1lXSA+PSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmJzdEljb25zWyBjYXJkLm5hbWUgXSsrO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBuZXdjYXJkID0gT2JqZWN0LmFzc2lnbihcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRpZDogZ2VuX3VuaXF1ZV9pZCgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZmluRGVzdDogXCJkaXNjYXJkXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0Z2FtZS5zdGFja3Mucm9sZWNhcmRzW2dhbWUuc3RhY2tzW2NhcmQubmFtZV1dXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkubGltYm8gPSBbLi4uZ2V0QWN0UGx5cigpLmxpbWJvLCBuZXdjYXJkXTtcclxuXHRcdFx0XHRcdFx0XHRnYW1lLnN0YWNrcy5waWxlY291bnRbY2FyZC5uYW1lXS0tO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGNhcmQubmFtZSAhPSBcImNvbG9uaXplXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRib29zdFdpdGhJY29ucyhnZXRBY3RQbHlyKCksY2FyZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRkcmF3KCBnZXRBY3RQbHlyKCkgKTtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImRpc3NlbnNpb25cIikubGVuZ3RoICE9IDAgKSB7XHJcblx0XHRcdFx0XHRcdFx0ZHJhdyggZ2V0QWN0UGx5cigpICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCAvL3dpbGwgYXV0byBwYXNzIHRvIG5leHQgcGhhc2UgaWYgZm9sbG93IGhhcyBiZWVuIHNlbGVjdGVkXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIkNob29zZSBjYXJkcyBmcm9tIHlvdXIgaGFuZCB0byBCb29zdCB0aGUgZWZmZWN0aXZlbmVzcyBvZiB5b3VyIFJvbGVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKSAuYWN0aXZlcm9sZSA9PSBcImRpc3NlbnRcIiApIHtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRvZmZlciggdHJ1ZSAsIHRydWUgLCBbIFwiaGFuZFwiIF0sIFwiY2hvaWNlc1wiLGZpbmlzaCAgICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIkJvb3N0aW5nIHlvdXIgUm9sZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUgPT0gXCJkaXNzZW50XCIgKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikge1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBjYXJkcyA9IGdldENob2ljZXM7XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSBpbiBjYXJkcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ym9vc3RXaXRoSWNvbnMoZ2V0QWN0UGx5cigpLGNhcmRzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0Ly9UT0RPOiB0YWxseSB1cCBpY29ucyBvbiBwbGFuZXRzXHJcblx0XHRcdFx0XHRcdFx0Ly9UT0RPOiB0YWxseSB1cCBpY29ucyBvbiB0ZWNobm9sb2dpZXNcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdC4uLmdldEZvbGxvd0NvcmVQaGFzZXMoKSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiUGFzcyB0aGUgZGV2aWNlIHRvIHRoZSBOZXh0IFBsYXllclwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZSA9IFwiXCI7XHJcblx0XHRcdFx0XHRcdGdhbWUucGFzc3AgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiWW91IHBhc3NlZCBQcmlvcml0eVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGdhbWUucGFzc3AgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHQvLyBkaXNjYXJkIDogMlxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRkaXNjYXJkOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIldvdWxkIHlvdSBsaWtlIHRvIE1vYmlsaXplIGFnYWluc3QgYSBQbGFuZXRcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKSAuYWN0aXZlYWN0aW9uICE9IFwibW9iaWxpemF0aW9uXCIgKSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvZmZlciggdHJ1ZSAsIGZhbHNlICwgWyBcIm9wdGlvbnNcIiwgW3sgbmFtZTogXCJtb2JpbGl6ZVwiIH0sIHsgbmFtZTogXCJza2lwXCIgfV0gXSwgXCJjaG9pY2VzXCIsZmluaXNoICAgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IHRvIE1vYmlsaXplIEFnYWluc3RcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKSAuYWN0aXZlYWN0aW9uICE9IFwibW9iaWxpemF0aW9uXCIgfHwgIGdldENob2ljZSgpICE9IFwibW9iaWxpemVcIiApIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdG9mZmVyVW5zZXR0bGVkKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIk1vYmFsaXppbmcgYWdhaW5zdCB5b3VyIFBsYW5ldFwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLmFjdGl2ZWFjdGlvbiAhPSBcIm1vYmlsaXphdGlvblwiICkge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y29ucXVlcihnZXRTdWJDaG9pY2UoKSwgZ2V0QWN0UGx5cigpICk7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiV291bGQgeW91IGxpa2UgdG8gU3RyZWFtbGluZSBZb3VyIEVtcGlyZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcInN0cmVhbWxpbmluZ1wiICkubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvZmZlciggZmFsc2UgLCBmYWxzZSAsIFsgXCJvcHRpb25zXCIsIFt7IG5hbWU6IFwiRGVjbGluZVwiIH0sIHsgbmFtZTogXCJTdHJlYW1saW5lIEVtcGlyZVwiIH1dICBdLCBcImNob2ljZXNcIixmaW5pc2ggICApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJDaG9vc2UgYSBDYXJkIGZyb20gWW91ciBIYW5kIHRvIFJlbW92ZSBmcm9tIHRoZSBHYW1lXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcInN0cmVhbWxpbmluZ1wiKS5sZW5ndGggPT0gMCB8fCBnZXRDaG9pY2UoKSAhPSBcIlN0cmVhbWxpbmUgRW1waXJlXCJcclxuXHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvZmZlciggdHJ1ZSAsIGZhbHNlICwgWyBcImhhbmRcIiBdLCBcInN1YmNob2ljZXNcIiwgZmluaXNoICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIlN0cmVhbWxpbmluZyBZb3VyIEVtcGlyZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJzdHJlYW1saW5pbmdcIiApLmxlbmd0aCA9PSAwIHx8IGdldENob2ljZSgpICE9IFwiU3RyZWFtbGluZSBFbXBpcmVcIiB8fCBnZXRDaG9pY2UoKSA9PSBcIlNraXBcIiApIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJlc2VhcmNoKCBnZXRDaG9pY2VzKCksIGdldEFjdFBseXIoKSwgMSApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJXb3VsZCB5b3UgbGlrZSB0byBVdGlsaXplIFlvdXIgRW1waXJlJ3MgSHlwZXJlZmZpY2llbmN5XCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImh5cGVyZWZmaWNpZW5jeVwiICkubGVuZ3RoID09IDAgKSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzaW1wbGVPZmZlcihbXCJEZWNsaW5lXCIsIFwiVXRpbGl6ZSBIeXBlcmVmZmljaWVuY3lcIiBdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiQ2hvb3NlIGEgQ2FyZCBmcm9tIFlvdXIgSGFuZCB0byBSZW1vdmUgZnJvbSB0aGUgR2FtZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJoeXBlcmVmZmljaWVuY3lcIikubGVuZ3RoID09IDAgfHwgZ2V0Q2hvaWNlKCkgIT0gXCJVdGlsaXplIEh5cGVyZWZmaWNpZW5jeVwiICkge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUgLCB0cnVlICwgWyBcImhhbmRcIiBdLCBcInN1YmNob2ljZXNcIixmaW5pc2ggKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiWW91ciBFbXBpcmUgaXMgSHlwZXJlZmZpY2llbnRcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKS5wZXJtYW5lbnRzLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwiaHlwZXJlZmZpY2llbmN5XCIpLmxlbmd0aCA9PSAwIHx8IGdldENob2ljZSgpICE9IFwiVXRpbGl6ZSBIeXBlcmVmZmljaWVuY3lcIiB8fCBnZXRDaG9pY2UoKSA9PSBcIlNraXBcIiApIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJlc2VhcmNoKCBnZXRDaG9pY2VzKCksIGdldEFjdFBseXIoKSwgZ2V0Q2hvaWNlcygpLmxlbmd0aCApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJDaG9vc2UgYW55IENhcmRzIHlvdSB3b3VsZCBsaWtlIHRvIERpc2NhcmRcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRvZmZlciggdHJ1ZSAsIHRydWUsIFsgXCJoYW5kXCIgXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiRGlzY2FyZGluZyB5b3VyIFNlbGVjdGVkIENhcmRzXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGdldENob2ljZSgpID09IFwiU2tpcFwiKSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRnZXRDaG9pY2VzKCkuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5kaXNjYXJkID0gWy4uLmdldEFjdFBseXIoKS5kaXNjYXJkLGNhcmRdO1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5saW1ibyA9IGdldEFjdFBseXIoKS5saW1iby5maWx0ZXIoYz0+Yy5pZCE9Y2FyZC5pZCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQvL2NsZWFudXAgOiAxXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdGNsZWFudXA6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiRHJhd2luZyB1cCB0byB5b3VyIEhhbmQgU2l6ZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNsZWFudXAoKTtcclxuXHRcdFx0XHRcdFx0bGV0IGhhbmRzaXplID0gZ2V0QWN0UGx5cigpLmhhbmRzaXplO1xyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpbmRleCBpbiBnZXRBY3RQbHlyKCkuc2V0dGxlZF9wbGFuZXRzKSB7XHJcblx0XHRcdFx0XHRcdGhhbmRzaXplICs9IGdldEFjdFBseXIoKS5zZXR0bGVkX3BsYW5ldHNbaW5kZXhdLmhhbmRzaXplX21vZGlmaWVyO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZvciAobGV0IGluZGV4IGluIGdldEFjdFBseXIoKS5jb25xdWVyZWRfcGxhbmV0cykge1xyXG5cdFx0XHRcdFx0XHRoYW5kc2l6ZSArPSBnZXRBY3RQbHlyKCkuY29ucXVlcmVkX3BsYW5ldHNbaW5kZXhdLmhhbmRzaXplX21vZGlmaWVyO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGxldCBsID0gZ2V0QWN0UGx5cigpLmhhbmQubGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHRpZiAobCA8IGhhbmRzaXplKSB7XHJcblx0XHRcdFx0XHRcdGRyYXcoIGdldEFjdFBseXIoKSwgaGFuZHNpemUgLSBsICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Z2FtZS5wbGF5ZXJzLmZvckVhY2gocmVzZXRJY29uQm9vc3QpO1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdhbWUuc3RhcnRlZCAmJiBjaGVja2ZvcmVuZGdhbWUoKSAmJiAoZ2FtZS5wbGF5ZXJzLnJlZHVjZSgodCwgcCkgPT4gdCArIHAucm91bmRzLCAwKSAlIGdhbWUubnVtYmVyX29mX3BsYXllcnMpID09IDAgKSB7XHJcblx0XHRcdFx0XHRcdHRvdGFsaW5mbHVlbmNlKCk7XHJcblx0XHRcdFx0XHRcdGdhbWUubmV4dHBoYXNlID0gZW5kZ2FtZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJQYXNzIHRoZSBkZXZpY2UgdG8gdGhlIE5leHQgUGxheWVyXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Z2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lID0gXCJcIjtcclxuXHRcdFx0XHRcdFx0Z2FtZS5kaXNwbGF5aW5mby5zaG93b3B0aW9udG9za2lwID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uYWxsb3dmb3JtdWx0aXBsZXNlbGVjdGlvbnMgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0Z2FtZS5wYXNzcCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRnYW1lLnBhc3N0ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIllvdSBwYXNzZWQgdGhlIFR1cm5cIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRnYW1lLnBhc3N0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRdLFxyXG5cdFx0XHRwbGF5ZXJzOiBbXSxcclxuXHRcdFx0d2lubmVyOiBmYWxzZSxcclxuXHRcdFx0c3RhY2tzOiB7XHJcblx0XHRcdFx0cGlsZWNvdW50OiB7IHJlc2VhcmNoOiAyMCwgcHJvZHVjZXRyYWRlOiAxNiwgY29sb25pemU6IDIwLCB3YXJmYXJlOiAxNiwgc3VydmV5OiAyMCB9LFxyXG5cdFx0XHRcdHN1cnZleTogMCwgd2FyZmFyZTogMSwgY29sb25pemU6IDIsIHByb2R1Y2V0cmFkZTogMywgcmVzZWFyY2g6IDQsIC8vaW5kZXhlc1xyXG5cdFx0XHRcdHJvbGVjYXJkczogW1xyXG5cdFx0XHRcdGdlbkVtcHR5Q2FyZChcInN1cnZleVwiLFwiU3VydmV5XCIse3N1cnZleToxfSksXHJcblx0XHRcdFx0Z2VuRW1wdHlDYXJkKFwid2FyZmFyZVwiLFwiV2FyZmFyZVwiLHt3YXJmYXJlOjF9KSxcclxuXHRcdFx0XHRnZW5FbXB0eUNhcmQoXCJjb2xvbml6ZVwiLFwiQ29sb25pemVcIix7Y29sb25pemU6MX0pLFxyXG5cdFx0XHRcdGdlbkVtcHR5Q2FyZChcInByb2R1Y2V0cmFkZVwiLFwiUHJvZHVjZSAvIFRyYWRlXCIseyBwcm9kdWNlOjEsIHRyYWRlOjF9KSxcclxuXHRcdFx0XHRnZW5FbXB0eUNhcmQoXCJyZXNlYXJjaFwiLFwiUmVzZWFyY2hcIix7cmVzZWFyY2g6MX0se3Jlc2VhcmNoX2RlY2s6IFtdfSksXHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdGxldCB1cmwgPSBsb2NhdGlvbi5vcmlnaW4ucmVwbGFjZSgvXmh0dHAvLCBcIndzXCIpOyBcclxuXHRcdFx0bG9iYnkgPSB7XHJcblx0XHRcdFx0c2NyZWVubmFtZTogXCJcIixcclxuXHRcdFx0XHR1cmw6IHVybCxcclxuXHRcdFx0XHRzZXRzOiBbXCJCYXNlIEdhbWVcIl0sXHJcblx0XHRcdFx0bnVtYmVyX29mX3BsYXllcnM6IFsyLCAzLCA0XSxcclxuXHRcdFx0XHRleGlzdGluZ2dhbWVzOiBbXVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRnYW1lLm5vbmNlID0gbm9uY2U7XHJcblx0XHRcdG1vdW50ZWQgPSB0cnVlO1xyXG5cdFxyXG5cdFx0XHJcblx0XHJcblx0fSlcclxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0bGV0ICBcdGNsZWFyT3B0aW9ucyA9ICgpID0+IGdhbWUub3B0aW9ucyA9IFtdLFxyXG5cdFx0XHRvZmZlclVuc2V0dGxlZCA9ICgpID0+IG9mZmVyKCBmYWxzZSwgIGZhbHNlLCBbXCJ1bnNldHRsZWRfcGxhbmV0c1wiXSwgXCJzdWJjaG9pY2VzXCIsIGZpbmlzaCksXHJcbiAgICAgICAgICAgIGdldEFjdGlvbkNhcmRQaGFzZXMgPSAoKSA9PiBhY3Rpb25jYXJkcGhhc2VzLFxyXG4gICAgICAgICAgICBnZXRBY3R2QWN0biA9ICgpID0+IGdldEFjdFBseXIoKS5hY3RpdmVhY3Rpb24sXHJcbiAgICAgICAgICAgIGdldEFjdHZSb2xlID0gKCkgPT4gZ2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUsXHJcbiAgICAgICAgICAgIGdldENob2ljZSA9ICgpID0+IGdhbWUuY2hvaWNlc1swXS5uYW1lLFxyXG4gICAgICAgICAgICBnZXRDaG9pY2VzID0gKCkgPT4gZ2FtZS5jaG9pY2VzLFxyXG4gICAgICAgICAgICBnZXRTdWJDaG9pY2UgPSAoKSA9PiBnZXRTdWJDaG9pY2VzKClbMF0sXHJcbiAgICAgICAgICAgIGdldFN1YkNob2ljZXMgPSAoKSA9PiBnYW1lLnN1YmNob2ljZXMsXHJcbiAgICAgICAgICAgIGZpbmlzaCA9IChjb25kPWZhbHNlKSA9PiBwaGFzZWZpbmlzaGZ1bmN0aW9uKGNvbmQpLFxyXG4gICAgICAgICAgICBnZXRBY3RQbHlyID0gKCkgPT4gZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0sXHJcbiAgICAgICAgICAgIGdldExlYWRQbHlyID0gKCkgPT4gZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdLFxyXG4gICAgICAgICAgICBzaW1wbGVPZmZlciA9IChjaG9pY2VzKSA9PiBvZmZlciggZmFsc2UsIGZhbHNlLCBbXCJvcHRpb25zXCIsIGNob2ljZXMucmVkdWNlKChhY2MsY3VyKT0+Wy4uLmFjYyx7bmFtZTpjdXJ9XSxbXSldLCBcImNob2ljZXNcIiwgZmluaXNoKSxcclxuICAgICAgICAgICAgd3JhcHBlZE9mZmVyID0gKGNob2ljZXMpID0+ICgpID0+IHNpbXBsZU9mZmVyKGNob2ljZXMpLFxyXG4gICAgICAgICAgICBnZXRBY3Rpb25Db3JlUGhhc2VzID0gKCkgPT4gY29yZXBoYXNlcy5yZWR1Y2UoKGFjYyxjdXIpPT5bLi4uYWNjLGN1ci5hY3RuXSxbXSkucmVkdWNlKChhY2MsY3VyKT0+Wy4uLmFjYywuLi5jdXJdLFtdKSxcclxuICAgICAgICAgICAgZ2V0TGVhZENvcmVQaGFzZXMgPSAgICgpID0+IGNvcmVwaGFzZXMucmVkdWNlKChhY2MsY3VyKT0+Wy4uLmFjYyxjdXIubGVhZF0sW10pLnJlZHVjZSgoYWNjLGN1cik9PlsuLi5hY2MsLi4uY3VyXSxbXSksXHJcbiAgICAgICAgICAgIGdldEZvbGxvd0NvcmVQaGFzZXMgPSAoKSA9PiBjb3JlcGhhc2VzLnJlZHVjZSgoYWNjLGN1cik9PlsuLi5hY2MsY3VyLmZsbHddLFtdKS5yZWR1Y2UoKGFjYyxjdXIpPT5bLi4uYWNjLC4uLmN1cl0sW10pLFxyXG4gICAgICAgICAgICBnZW5BY3Rpb25QaGFzZSA9IChuYW1lLGFjdGlvbnMscGhhc2UsY2hvaWNlcz1bXSxjb25kPWZhbHNlKSA9PiAoeyBbbmFtZV0gOiAoKT0+eyBpZiAoIGFjdGlvbnMuaW5jbHVkZXMoZ2V0QWN0dkFjdG4oKSkgJiYgKGNob2ljZXMubGVuZ3RoPT0wIHx8IGNob2ljZXMuaW5jbHVkZXMoZ2V0Q2hvaWNlKCkpKSkgeyBwaGFzZSgpIH0gZWxzZSB7IGZpbmlzaChjb25kKSB9IH19KSxcclxuICAgICAgICAgICAgZ2VuTGVhZFBoYXNlICAgPSAobmFtZSxhY3Rpb25zLHBoYXNlLGNob2ljZXM9W10sY29uZD1mYWxzZSkgPT4gKHsgW25hbWVdIDogKCk9PnsgaWYgKCBhY3Rpb25zLmluY2x1ZGVzKGdldEFjdHZSb2xlKCkpICYmIChjaG9pY2VzLmxlbmd0aD09MCB8fCBjaG9pY2VzLmluY2x1ZGVzKGdldENob2ljZSgpKSkpIHsgcGhhc2UoKSB9IGVsc2UgeyBmaW5pc2goY29uZCkgfSB9fSksXHJcbiAgICAgICAgICAgIGdlbkZvbGxvd1BoYXNlID0gKG5hbWUsYWN0aW9ucyxwaGFzZSxjaG9pY2VzPVtdLGNvbmQ9ZmFsc2UpID0+ICh7IFtuYW1lXSA6ICgpPT57IGlmICggYWN0aW9ucy5pbmNsdWRlcyhnZXRBY3R2Um9sZSgpKSAmJiAoY2hvaWNlcy5sZW5ndGg9PTAgfHwgY2hvaWNlcy5pbmNsdWRlcyhnZXRDaG9pY2UoKSkpKSB7IHBoYXNlKCkgfSBlbHNlIHsgZmluaXNoKGNvbmQpIH0gfX0pLFxyXG4gICAgICAgICAgICBnZW5FbXB0eUNhcmQgPSAodHlwZSwgbmFtZSwgc3ltYm9scywgZXh0cmFzPXt9KSA9PiAoeyB0eXBlOiB0eXBlLHNlbGVjdGVkOiBmYWxzZSwgbmFtZTogbmFtZSwgc2VsZWN0ZWQ6IGZhbHNlLCBpY29uczogey4uLnsgc3VydmV5OiAwLCB3YXJmYXJlOiAwLCBjb2xvbml6ZTogMCwgcHJvZHVjZTogMCwgdHJhZGU6IDAsIHJlc2VhcmNoOiAxfSwuLi5zeW1ib2xzfSxpbWFnZTogbnVsbCwgLi4uZXh0cmFzfSksXHJcbiAgICAgICAgICAgIHRhbGx5SWNvbnMgPSAoZGVzdCxzcmMpID0+IFtcInN1cnZleVwiLFwid2FyZmFyZVwiLFwidHJhZGVcIixcInByb2R1Y2VcIixcInJlc2VhcmNoXCIsLypcImNvbG9uaXplXCIqL10uZm9yRWFjaCggaWNvbiA9PiBkZXN0Lmljb25zW2ljb25dICs9IHNyYy5pY29uc1tpY29uXSApLFxyXG4gICAgICAgICAgICBoYW5kVG9MaW1ib1dpdGhMaW1ib0R1cGxpY2F0ZVB1cmdlID0gKHBseXIsY2FyZCkgPT4geyBybUZyb21GaWVsZChcImxpbWJvXCIscGx5cixjYXJkKTsgaGFuZFRvTGltYm8ocGx5cixjYXJkKTt9LFxyXG4gICAgICAgICAgICBoYW5kVG9MaW1ibyA9IChwbHlyLGNhcmQpID0+IHtwbGF5VG9GaWVsZChcImxpbWJvXCIscGx5cixjYXJkLCdkaXNjYXJkJyk7IHJtRnJvbUZpZWxkKFwiaGFuZFwiLHBseXIsY2FyZCk7fSxcclxuICAgICAgICAgICAgbGltYm9Ub0hhbmQgPSAocGx5cixjYXJkKSA9PiB7cGxheVRvRmllbGQoXCJoYW5kXCIscGx5cixjYXJkLCcnKTsgcm1Gcm9tRmllbGQoXCJsaW1ib1wiLHBseXIsY2FyZCk7fSxcclxuICAgICAgICAgICAgcGxheVRvRmllbGQgPSAoZmxkLHBseXIsY2FyZCxmRGVzdCkgPT4gcGx5cltmbGRdID0gWy4uLnBseXJbZmxkXSwgeyAuLi5jYXJkLCBmaW5EZXN0OiBmRGVzdCB9XSxcclxuICAgICAgICAgICAgcm1Gcm9tRmllbGQgPSAoZmxkLHBseXIsY2FyZCkgPT4gcGx5cltmbGRdID0gcGx5cltmbGRdLmZpbHRlcihlbCA9PiBjYXJkLmlkICE9IGVsLmlkKSxcclxuICAgICAgICAgICAgYm9vc3RXaXRoSWNvbnMgPSAocGx5ciwgc3JjKSA9PiBPYmplY3Qua2V5cyhzcmMuaWNvbnMpLmZvckVhY2goKGljb24pID0+IHBseXIuYnN0SWNvbnNbaWNvbl0rPXNyYy5pY29uc1tpY29uXSksXHJcbiAgICAgICAgICAgIHJlc2V0SWNvbkJvb3N0ID0gKHBseXIpID0+IHBseXIuYnN0SWNvbnMgPSB7c3VydmV5OiAwLCB3YXJmYXJlOiAwLCBjb2xvbml6ZTogMCwgcHJvZHVjZTogMCwgdHJhZGU6IDAsIHJlc2VhcmNoOiAwIH0sXHJcbiAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uID0gKHNlbGVjdGVkKSA9PiBzZWxlY3RlZC5mb3JFYWNoKChzKSA9PiBzLnNlbGVjdGVkID0gZmFsc2UpLFxyXG4gICAgICAgICAgICBvZmZsaW5lT3JJc0NsaWVudFR1cm4gPSAoKSA9PiAobG9iYnkuc2NyZWVubmFtZSA9PSBnZXRBY3RQbHlyKCkubmFtZSB8fCAhbG9iYnkub25saW5lKSxcclxuICAgICAgICAgICAgc2V0Q2hvaWNlID0gKGNoYykgPT4gZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXSA9IGNoYyxcclxuICAgICAgICAgICAgY2xlYW5PcHRpb25zID0gKCkgPT4gZ2FtZS5vcHRpb25zPVtdLFxyXG4gICAgICAgICAgICBkaXNwbGF5UGxhbmV0cyA9ICgpID0+IGdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHMgPSBmYWxzZSxcclxuICAgICAgICAgICAgZGlzcGxheUNlbnRlciA9ICgpID0+IGdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHMgPSB0cnVlLFxyXG4gICAgICAgICAgICBjbGVhckNob2ljZXMgPSAoKSA9PiBnYW1lW2dhbWUuZGlzcGxheWluZm8uY2hvaWNlbGFiZWxdID0gW10sXHJcbiAgICAgICAgICAgIHNldERpc3BsYXlJbmZvID0gKHpvbmUsbXVsdGlwbGUsc2tpcHBhYmxlLGxhYmVsKSA9PiBnYW1lLmRpc3BsYXlpbmZvID0gey4uLmdhbWUuZGlzcGxheWluZm8sLi4ue3NlbGVjdGlvbnpvbmU6em9uZSxhbGxvd2Zvcm11bHRpcGxlc2VsZWN0aW9uczptdWx0aXBsZSxzaG93b3B0aW9udG9za2lwOnNraXBwYWJsZSxjaG9pY2VsYWJlbDpsYWJlbH19LFxyXG4gICAgICAgICAgICBnZXRBbGxDYXJkcyA9IChwbHlyKSA9PiBbLi4ucGx5ci5kZWNrLC4uLnBseXIuZGlzY2FyZCwgLi4ucGx5ci5saW1ibywgLi4ucGx5ci5oYW5kXSxcclxuICAgICAgICAgICAgaXNQbGFuZXQgPSAocCkgPT4gcC50eXBlPT0ncGxhbmV0JyB8fCBwLnR5cGU9PSdmZXJ0aWxlJyB8fCBwLnR5cGU9PSdtZXRhbGxpYycgfHwgcC50eXBlPT0nYWR2YW5jZWQnLFxyXG4gICAgICAgICAgICBjaGtGb3JQZXJtID0gKHBlcm0pID0+IGdldEFjdFBseXIoKS5wZXJtYW5lbnRzLmZpbHRlciggKGVsKT0+ZWwudHlwZT09cGVybSApLmxlbmd0aCAhPSAwLFxyXG4gICAgICAgICAgICByYW5nZSA9IChtaW4sbWF4KSA9PiAobWluIDw9IG1heCkgPyBbLi4ucmFuZ2UobWluLCBtYXgtMSksbWF4XSA6IFtdLFxyXG4gICAgICAgICAgICBzaW5nbGVDbGxCY2sgPSAoY2xsQmNrLGUsZnVuYykgPT4gKCkgPT4ge2Z1bmMoKTsgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMpOyBjbGxCY2soKTt9LFxyXG4gICAgICAgICAgICBwcm9kdWNlVHJhZGVIZWxwZXIgPSAoZmlsbGVkLHBsYW5ldHMscmVzb3VyY2VzLGZ1bmM9KCk9Pnt9KSA9PiB7IGxldCBwcmQgPSB7Ymx1ZTowLGdyZWVuOjAscHVycGxlOjAscmVkOjB9OyBwbGFuZXRzLmZvckVhY2goKHBsYW5ldCkgPT4gIHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzLmZvckVhY2goKHpvbmUpPT57ICAgICBpZiAoIXpvbmUuZmlsbGVkICYmIHJlc291cmNlcyA+IDApIHsgICAgICAgICB6b25lLmZpbGxlZCA9IGZpbGxlZDsgICAgICAgICBwcmRbem9uZS50eXBlXSsrOyAgICAgICAgIHJlc291cmNlcy0tOyAgICAgICAgIGZ1bmMoKSAgICAgfSAgfSkgKTtyZXR1cm4gcHJkO307XHJcblx0XHJcblx0bGV0IGNob29zZXdyYXBwZXIgPSAoYyx6b25lKSA9PiB7XHJcblx0XHRpZiAoKGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZSA9PSB6b25lKSAmJiBvZmZsaW5lT3JJc0NsaWVudFR1cm4oKSl7XHJcblx0XHRcdChnYW1lLmRpc3BsYXlpbmZvLmFsbG93Zm9ybXVsdGlwbGVzZWxlY3Rpb25zKSA/IG11bHRpcGxlY2hvb3NlKGMpIDogY2hvb3NlKFtjXSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRsZXQgbXVsdGlwbGVjaG9vc2UgPSAoY2hvaWNlKSA9PiB7XHJcblx0XHRpZiAob2ZmbGluZU9ySXNDbGllbnRUdXJuKCkpe1x0XHRcclxuXHRcdFx0aWYgKCAhZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXS5pbmNsdWRlcyhjaG9pY2UpICkge1xyXG5cdFx0XHRcdHNldENob2ljZShbLi4uZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXSxjaG9pY2VdKTtcclxuXHRcdFx0XHRjaG9pY2Uuc2VsZWN0ZWQ9dHJ1ZTtcclxuXHRcdFx0XHRpZiAoIWlzUGxhbmV0KGNob2ljZSkgJiYgY2hvaWNlLm5hbWUgIT0gJ1NraXAnKSBoYW5kVG9MaW1ibyhnZXRBY3RQbHlyKCksY2hvaWNlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjaG9pY2Uuc2VsZWN0ZWQ9ZmFsc2U7XHJcblx0XHRcdFx0aWYgKCFpc1BsYW5ldChjaG9pY2UpICYmIGNob2ljZS5uYW1lICE9ICdTa2lwJyl7XHJcblx0XHRcdFx0XHRzZXRDaG9pY2UoZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXS5maWx0ZXIoIChlbCk9PiBlbC5pZCAhPSBjaG9pY2UuaWQgKSk7XHJcblx0XHRcdFx0XHRsaW1ib1RvSGFuZChnZXRBY3RQbHlyKCksY2hvaWNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdGxldCBjaG9vc2UgPSAoY2hvaWNlcykgPT4ge1xyXG5cdFx0aWYgKG9mZmxpbmVPcklzQ2xpZW50VHVybigpKXtcclxuXHRcdFx0Y2xlYXJPcHRpb25zKCk7XHJcblx0XHRcdHJlc2V0U2VsZWN0aW9uKGNob2ljZXMpO1xyXG5cdFx0XHRzZXRDaG9pY2UoY2hvaWNlcyk7XHJcblx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0bGV0IHVuY2hvb3NlID0gKGNob2ljZSkgPT4ge1xyXG5cdFx0aWYgKG9mZmxpbmVPcklzQ2xpZW50VHVybigpKXtcclxuXHRcdFx0aWYgKCBnYW1lW2dhbWUuZGlzcGxheWluZm8uY2hvaWNlbGFiZWxdLmluY2x1ZGVzKGNob2ljZSkgKSB7XHJcblx0XHRcdFx0Y2hvaWNlLnNlbGVjdGVkPWZhbHNlO1xyXG5cdFx0XHRcdHNldENob2ljZSggZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXS5maWx0ZXIoIChlbCkgPT4gZWwuaWQgIT0gY2hvaWNlLmlkICkpO1xyXG5cdFx0XHRcdGxpbWJvVG9IYW5kKGdldEFjdFBseXIoKSxjaG9pY2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRsZXQgb2ZmZXIgPSAoXHJcblx0XHRza2lwcGFibGUgLypvcHRpb24gdG8gc2tpcCB8IHNldHMgZ2FtZS5kaXNwbGF5aW5mby5zaG93b3B0aW9udG9za2lwPWJvb2xlYW4gKi8sXHJcblx0XHRtdWx0aXBsZSAvKmFsbG93cyBtdWx0aXBsZSBjaG9pY2VzIHwgc2V0cyBnYW1lLmRpc3BsYXlpbmZvLmFsbG93Zm9ybXVsdGlwbGVzZWxlY3Rpb25zPWJvb2xlYW4gKi8sIFxyXG5cdFx0W2ZpZWxkX2xhYmVsLCBjaG9pY2VzXSAvKiBhdmFpbGFibGUgY2FyZHMgdG8gY2hvb3NlIGZyb20gfCBnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9eydoYW5kfGRpc2NhcmR8b3B0aW9uc3xwbGFuZXRzfHJlc2VhcmNofHJvbGVjYXJkcyd9LCBzZXRzIGNob2ljZXM9YXJyYXkgaWYgc3BlY2lmaWVkKi8sIFxyXG5cdFx0Y2hvaWNlX2xhYmVsIC8qIGxhYmVsIGZvciB3aGVyZSB0aGUgY2hvaWNlIGlzIHN0b3JlZCB8IHNldCB3aXRoIGdhbWVbbGFiZWxdPSovLFxyXG5cdFx0Y2FsbGJhY2sgLypjYWxsYmFjayB0aGF0IGhhbmRsZXMgdGhlIGNob2ljZSBvciBmaW5pc2hlcyB0aGUgcGhhc2UqLywgXHJcblx0KSA9PiB7XHJcblx0XHRzZXREaXNwbGF5SW5mbyhmaWVsZF9sYWJlbCxtdWx0aXBsZSxza2lwcGFibGUsY2hvaWNlX2xhYmVsKTtcclxuXHRcdHN3aXRjaCAoZmllbGRfbGFiZWwpe1xyXG5cdFx0XHRjYXNlICdoYW5kJzogY2hvaWNlcyA9IGdldEFjdFBseXIoKS5oYW5kOyBicmVhaztcclxuXHRcdFx0Y2FzZSAncmVzZWFyY2gnOiBjaG9pY2VzID0gZ2FtZS5yZXNlYXJjaF9kZWNrOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnZGlzY2FyZCc6IGNob2ljZXMgPSBnZXRBY3RQbHlyKCkuZGlzY2FyZDsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3BsYW5ldHMnOiBjaG9pY2VzID0gZ2FtZS5wbGFuZXRfZGVjazsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3JvbGVjYXJkcyc6IGNob2ljZXMgPSBnYW1lLnN0YWNrcy5yb2xlY2FyZHM7IGRpc3BsYXlDZW50ZXIoKTsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3Vuc2V0dGxlZF9wbGFuZXRzJzogY2hvaWNlcyA9IGdldEFjdFBseXIoKS51bnNldHRsZWRfcGxhbmV0czsgZGlzcGxheVBsYW5ldHMoKTsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3NldHRsZWRfcGxhbmV0cyc6IGNob2ljZXMgPSBnZXRBY3RQbHlyKCkuc2V0dGxlZF9wbGFuZXRzOyBkaXNwbGF5UGxhbmV0cygpOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnY29ucXVlcmVkX3BsYW5ldHMnOiBjaG9pY2VzID0gZ2V0QWN0UGx5cigpLmNvbnF1ZXJlZF9wbGFuZXRzOyBkaXNwbGF5UGxhbmV0cygpOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnc2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzJzogY2hvaWNlcyA9IFsuLi5nZXRBY3RQbHlyKCkuc2V0dGxlZF9wbGFuZXRzLCAuLi5nZXRBY3RQbHlyKCkuY29ucXVlcmVkX3BsYW5ldHNdOyBkaXNwbGF5UGxhbmV0cygpOyBicmVhaztcclxuXHRcdH1cclxuXHRcdGNsZWFyQ2hvaWNlcygpO1xyXG5cdFx0cHJlc2VudF9hc19jaG9pY2UoY2hvaWNlcyk7XHJcblx0XHRzZW5kc3RhdGUoKTtcclxuXHJcblx0fTtcclxuXHRsZXQgZGlzY2FyZCA9IChzb3VyY2VfYXJyYXksIGRlc3RpbmF0aW9uX2FycmF5LCBpZCkgPT4ge1xyXG5cdFx0bGV0IHRvUmVtb3ZlID0gc291cmNlX2FycmF5LmZpbmQoKGUpID0+IGlkID09IGUuaWQpO1xyXG5cdFx0ZGVzdGluYXRpb25fYXJyYXkgPSBbLi4uZGVzdGluYXRpb25fYXJyYXksdG9SZW1vdmVdO1xyXG5cdFx0c291cmNlX2FycmF5ID0gc291cmNlX2FycmF5LmZpbHRlcigoZSkgPT4gZS5pZCAhPSB0b1JlbW92ZS5pZCk7XHJcblx0fTtcclxuXHQvL2RyYXcgZGVjay0+aGFuZFxyXG5cdGxldCB0b3RhbGluZmx1ZW5jZSA9ICgpID0+IHtcclxuXHRcdGdhbWUucGxheWVycy5mb3JFYWNoKChwbHlyKSA9PiB7XHJcblx0XHRcdHBseXIuaW5mbHVlbmNlID0gcGx5ci5pbmZsdWVuY2UucmVkdWNlKChhY2MsY3VyKSA9PiBhY2MgKyBjdXIsMCkgKyBnZXRBbGxDYXJkcyhwbHlyKS5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYyArIGN1ci5pbmZsdWVuY2UpO1xyXG5cdFx0fSkgO1xyXG5cdH07XHJcblx0bGV0IGVuZGdhbWUgPSAoKSA9PiB7XHJcblx0XHQvL2Rpc3BsYXkgdmljdG9yXHJcblx0XHRsZXQgc2NvcmVzID0gZ2FtZS5wbGF5ZXJzLm1hcChlID0+IGUuaW5mbHVlbmNlKTtcclxuXHRcdGxldCB3aW5uZXIgPSAnJztcclxuXHRcdGxldCBoaWdoZXN0ID0gc2NvcmVzWzBdO1xyXG5cdFx0Z2FtZS5wbGF5ZXJzLm1hcCgoZSkgPT4geyBpZiAoIGhpZ2hlc3QgPCBlLmluZmx1ZW5jZSApIHsgd2lubmVyID0gZS5uYW1lOyBoaWdoZXN0ID0gZS5pbmZsdWVuY2U7IH0gfSApO1xyXG5cdH07XHJcblx0bGV0IGNoZWNrZm9yZW5kZ2FtZSA9ICgpID0+IHtcclxuXHRcdGxldCBkZXBsZXRlZHN0YWNrcyA9IGdhbWUuc3RhY2tzLnBpbGVjb3VudC5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYyArIChjdXIgPCAxKSA/IDEgOiAwLDApO1xyXG5cdFx0bGV0IHN0YWNrbGltaXQgPSAoZ2FtZS5udW1iZXJfb2ZfcGxheWVycyA9PSAxIHx8IGdhbWUubnVtYmVyX29mX3BsYXllcnMgPT0gMikgPyAxIDogMiA7XHJcblx0XHRyZXR1cm4gKCBzdGFja2xpbWl0IDw9IGRlcGxldGVkc3RhY2tzIHx8IGdhbWUuaW5mbHVlbmNlLmxlbmd0aCA9PSAwKTtcclxuXHR9O1xyXG5cdGxldCBkcmF3ID0gKHBsYXllciwgcXVhbnRpdHk9MSkgPT4ge1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgcXVhbnRpdHk7IGkrKyl7XHJcblx0XHRcdGlmICggcGxheWVyLmRlY2subGVuZ3RoID09IDApIHtcclxuXHRcdFx0XHRpZiAocGxheWVyLmRpc2NhcmQubGVuZ3RoID09IDApIHJldHVybiBwbGF5ZXI7XHJcblx0XHRcdFx0cGxheWVyLmRlY2sgPSBrbnV0aHNodWZmbGUoWy4uLnBsYXllci5kaXNjYXJkXSk7XHJcblx0XHRcdFx0cGxheWVyLmRpc2NhcmQgPSBbXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRwbGF5ZXIuaGFuZCA9IFsuLi5wbGF5ZXIuaGFuZCwgcGxheWVyLmRlY2sucG9wKCldO1xyXG5cdFx0XHRwbGF5ZXIuZGVjayA9IHBsYXllci5kZWNrO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBsYXllcjtcclxuXHR9O1xyXG5cdGxldCBwbGF5ID0gKHNvdXJjZV9hcnJheSwgZGVzdGluYXRpb25fYXJyYXksIGZpbkRlc3QsIGlkKSA9PiB7XHJcblx0XHRsZXQgdG9SZW1vdmUgPSBzb3VyY2VfYXJyYXkuZmluZCgoZSkgPT4gaWQgPT0gZS5pZCk7XHJcblx0XHRkZXN0aW5hdGlvbl9hcnJheSA9IFsuLi5kZXN0aW5hdGlvbl9hcnJheSx7Li4udG9SZW1vdmUsZmluRGVzdDpmaW5EZXN0fV07XHJcblx0XHRzb3VyY2VfYXJyYXkgPSBzb3VyY2VfYXJyYXkuZmlsdGVyKChlKSA9PiBlLmlkICE9IHRvUmVtb3ZlLmlkKTtcclxuXHR9O1xyXG5cdGxldCBnZW5fcmVzZWFyY2hfY2FyZCA9IChuYW1lKSA9PiB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRuYW1lOm5hbWUsXHJcblx0XHRcdHR5cGU6bmFtZSxcclxuXHRcdFx0aWQ6Z2VuX3VuaXF1ZV9pZCgpLFxyXG5cdFx0XHRpY29uczp7J3N1cnZleSc6MCwnd2FyZmFyZSc6MCwnY29sb25pemUnOjAsJ3Byb2R1Y2UnOjAsJ3RyYWRlJzowLCdyZXNlYXJjaCc6MH0sXHJcblx0XHRcdHBsYW5ldF9yZXF1aXJlbWVudHM6eydhZHZhbmNlZCc6MCwgJ21ldGFsbGljJzowLCAnZmVydGlsZSc6MH0sXHJcblx0XHRcdHJlc2VhcmNoX2Nvc3Q6MCxcclxuXHRcdFx0YWN0aW9uOigpPT57fSxcclxuXHRcdFx0aXNfcGVybWFuZW50OmZhbHNlLFxyXG5cdFx0XHRpc19kb3VibGVzaWRlZDpmYWxzZSxcclxuXHRcdFx0aW1ndXJsOlwiL2ltYWdlcy9cIixcclxuXHRcdFx0SW5mbHVlbmNlX3ZhbHVlOjAsXHJcblx0XHRcdGltZzpmdW5jdGlvbihpbSl7dGhpcy5pbWd1cmwrPWltO3JldHVybiB0aGlzO30sXHJcblx0XHRcdGluZmx1ZW5jZTpmdW5jdGlvbihpbmYpe3RoaXMuaW5mbHVlbmNlX3ZhbHVlID0gaW5mIDsgcmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0bWV0YWxsaWM6ZnVuY3Rpb24obWV0KXt0aGlzLnBsYW5ldF9yZXF1aXJlbWVudHMubWV0YWxsaWMgPSBtZXQgOyByZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRhZHZhbmNlZDpmdW5jdGlvbihhZHYpe3RoaXMucGxhbmV0X3JlcXVpcmVtZW50cy5hZHZhbmNlZCA9IGFkdjsgcmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0ZmVydGlsZTpmdW5jdGlvbihmZXIpe3RoaXMucGxhbmV0X3JlcXVpcmVtZW50cy5mZXJ0aWxlID0gZmVyOyByZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRyZXNlYXJjaDpmdW5jdGlvbihyZXMpe3RoaXMucmVzZWFyY2hfY29zdCA9IHJlczsgcmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0cGVybWFuZW50OmZ1bmN0aW9uKCl7dGhpcy5pc19wZXJtYW5lbnQgPSB0cnVlOyByZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRkb3VibGVzaWRlOmZ1bmN0aW9uKCl7dGhpcy5pc19kb3VibGVzaWRlZCA9IHRydWU7IHJldHVybiB0aGlzO30sXHJcblx0XHRcdGljb25zOmZ1bmN0aW9uKGljb25zKXt0aGlzLmljb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLmljb25zLCBpY29ucyk7IHJldHVybiB0aGlzO30sXHJcblx0XHRcdGltcHJvdmVkX2NvbG9uaXplOmZ1bmN0aW9uKCl7dGhpcy5yZXNlYXJjaCgzKTt0aGlzLmltZ3VybCs9XCJpbXByb3ZlZGNvbG9uaXplXCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfc3VydmV5OiAgZnVuY3Rpb24oKXt0aGlzLnJlc2VhcmNoKDMpO3RoaXMuaW1ndXJsKz1cImltcHJvdmVkc3VydmV5XCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfcmVzZWFyY2g6ZnVuY3Rpb24oKXt0aGlzLnJlc2VhcmNoKDMpO3RoaXMuaW1ndXJsKz1cImltcHJvdmVkcmVzZWFyY2hcIjtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRpbXByb3ZlZF93YXJmYXJlOiBmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goMyk7dGhpcy5pbWd1cmwrPVwiaW1wcm92ZWR3YXJmYXJlXCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfcHJvZHVjdGlvbjpmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goMyk7dGhpcy5pbWd1cmwrPVwiaW1wcm92ZWRwcm9kdWN0aW9uXCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfdHJhZGU6ICBcdFx0ZnVuY3Rpb24oKXt0aGlzLnJlc2VhcmNoKDMpO3RoaXMuaW1ndXJsKz1cImltcHJvdmVkdHJhZGVcIjtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRzdXJ2ZXl0ZWFtOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnc3VydmV5JzoyfSkuaW1nKCdzdXJ2ZXl0ZWFtJyk7fSxcclxuXHRcdFx0d2FycGF0aDpcdFx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnd2FyZmFyZSc6Mn0pLmltZygnd2FycGF0aCcpO30sXHJcblx0XHRcdHRlcnJhZm9ybWluZzpcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLmZlcnRpbGUoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnY29sb25pemUnOjJ9KS5pbWcoJ3RlcnJhZm9ybWluZycpO30sXHJcblx0XHRcdGdlbmV0aWNlbmdpbmVlcmluZzpcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuZmVydGlsZSgyKS5pbmZsdWVuY2UoMikuaWNvbnMoeydwcm9kdWNlJzoyfSkuaW1nKCdnZW5ldGljZW5naW5lZXJpbmcnKTt9LFxyXG5cdFx0XHRhcnRpZmljaWFsaW50ZWxsaWdlbmNlOlx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg1KS5mZXJ0aWxlKDIpLmluZmx1ZW5jZSgyKS5pY29ucyh7J2NvbG9uaXplJzoxLCdwcm9kdWNlJzoxfSkuaW1nKCdhcnRpZmljaWFsaW50ZWxsaWdlbmNlJyk7fSxcclxuXHRcdFx0ZGl2ZXJzZW1hcmtldHM6XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuYWR2YW5jZWQoMikuaW5mbHVlbmNlKDIpLmljb25zKHsncmVzZWFyY2gnOjEsJ3RyYWRlJzoxfSkuaW1nKCdkaXZlcnNlbWFya2V0cycpO30sXHJcblx0XHRcdHNwZWNpYWxpemF0aW9uOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuYWR2YW5jZWQoMikuaW5mbHVlbmNlKDIpLmljb25zKHsndHJhZGUnOjJ9KS5pbWcoJ3NwZWNpYWxpemF0aW9uJyk7fSxcclxuXHRcdFx0bW9iaWxpemF0aW9uOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnc3VydmV5JzoxLCd3YXJmYXJlJzoxfSkuaW1nKCdtb2JpbGl6YXRpb24nKTt9LFxyXG5cdFx0XHRkYXRhbmV0d29yazpcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLmFkdmFuY2VkKDIpLmluZmx1ZW5jZSgyKS5pY29ucyh7J3Jlc2VhcmNoJzoyfSkuaW1nKCdkYXRhbmV0d29yaycpO30sXHJcblx0XHRcdGFidW5kYW5jZTogICBcdFx0XHRmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goNSk7dGhpcy5pbWd1cmwrPVwiYWJ1bmRhbmNlXCI7IHRoaXMuaXNfZG91Ymxlc2lkZWQ9dHJ1ZTsgdGhpcy5pc19wZXJtYW5lbnQ9dHJ1ZTsgcmV0dXJuIHRoaXMuZmVydGlsZSgyKS5pbmZsdWVuY2UoMik7fSxcclxuXHRcdFx0YWRhcHRhYmlsaXR5Olx0XHQgICBcdGZ1bmN0aW9uKCl7dGhpcy5yZXNlYXJjaCg3KTt0aGlzLmltZ3VybCs9XCJhZGFwdGFiaWxpdHlcIjsgdGhpcy5pc19kb3VibGVzaWRlZD10cnVlOyB0aGlzLmlzX3Blcm1hbmVudD10cnVlOyByZXR1cm4gdGhpcy5hZHZhbmNlZCgzKS5pbmZsdWVuY2UoNSk7fSxcclxuXHRcdFx0YnVyZWF1Y3JhY3k6ICBcdFx0XHRmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goNyk7dGhpcy5pbWd1cmwrPVwiYnVyZWF1Y3JhY3lcIjsgdGhpcy5pc19kb3VibGVzaWRlZD10cnVlOyB0aGlzLmlzX3Blcm1hbmVudD10cnVlOyByZXR1cm4gdGhpcy5mZXJ0aWxlKDMpLmluZmx1ZW5jZSg1KTt9LFxyXG5cdFx0XHRkaXNzZW5zaW9uOlx0XHRcdFx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg3KS5mZXJ0aWxlKDMpLmluZmx1ZW5jZSg1KS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdkaXNzZW5zaW9uJyk7fSxcclxuXHRcdFx0aHlwZXJlZmZpY2llbmN5Olx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDcpLmFkdmFuY2VkKDMpLmluZmx1ZW5jZSg1KS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdoeXBlcmVmZmljaWVuY3knKTt9LFxyXG5cdFx0XHRpbXBlcmlhbGlzbTpcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLm1ldGFsbGljKDIpLmluZmx1ZW5jZSgyKS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdpbXBlcmlhbGlzbScpLmljb25zKHsnc3VydmV5JzoxLCd0cmFkZSc6MSwnd2FyZmFyZSc6MSx9KTt9LFxyXG5cdFx0XHRsb2dpc3RpY3M6XHRcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDcpLm1ldGFsbGljKDMpLmluZmx1ZW5jZSg1KS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdsb2dpc3RpY3MnKTt9LFxyXG5cdFx0XHRwcm9kdWN0aXZpdHk6XHRcdFx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg3KS5tZXRhbGxpYygzKS5pbmZsdWVuY2UoNSkucGVybWFuZW50KCkuZG91Ymxlc2lkZSgpLmltZygncHJvZHVjdGl2aXR5Jyk7fSxcclxuXHRcdFx0c2NvcmNoZWRlYXJ0aHBvbGljeTpcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLnBlcm1hbmVudCgpLmRvdWJsZXNpZGUoKS5pbWcoJ3Njb3JjaGVkZWFydGhwb2xpY3knKTt9LFxyXG5cdFx0XHRzdHJlYW1saW5pbmc6XHRcdFx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg1KS5hZHZhbmNlZCgyKS5pbmZsdWVuY2UoMikucGVybWFuZW50KCkuZG91Ymxlc2lkZSgpLmltZygnc3RyZWFtbGluaW5nJyk7fSxcclxuXHRcdFx0d2VhcG9uc2VtcG9yaXVtOlx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLmFkdmFuY2VkKDIpLmluZmx1ZW5jZSgyKS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCd3ZWFwb25lbXBvcml1bScpO30sXHJcblx0XHRcdGZlcnRpbGVncm91bmRzOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuZmVydGlsZSgyKS5pbmZsdWVuY2UoMikucGVybWFuZW50KCkuZG91Ymxlc2lkZSgpLmltZygnZmVydGlsZWdyb3VuZHMnKS5pY29ucyh7J3Jlc2VhcmNoJzoxLCdjb2xvbml6ZSc6MSwncHJvZHVjZSc6MSx9KTt9LFxyXG5cdFx0fVxyXG5cdH07XHJcblx0bGV0IGdlbl9yZXNlYXJjaF9kZWNrID0gKCkgPT4ge1xyXG5cdFx0Z2FtZS5yZXNlYXJjaF9kZWNrID1bXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9wcm9kdWN0aW9uJykubWV0YWxsaWMoMSkuaWNvbnMoeyd3YXJmYXJlJzoxLCdwcm9kdWNlJzoxfSkuaW1wcm92ZWRfcHJvZHVjdGlvbigpLmltZyhcIndwLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Byb2R1Y3Rpb24nKS5tZXRhbGxpYygxKS5pY29ucyh7J3N1cnZleSc6MSwncHJvZHVjZSc6MX0pLmltcHJvdmVkX3Byb2R1Y3Rpb24oKS5pbWcoXCJzcC5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF90cmFkZScpICAgICAubWV0YWxsaWMoMSkuaWNvbnMoeydzdXJ2ZXknOjEsJ3RyYWRlJzoxfSkuaW1wcm92ZWRfdHJhZGUoKS5pbWcoXCJzdC5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF90cmFkZScpICAgICAubWV0YWxsaWMoMSkuaWNvbnMoeyd3YXJmYXJlJzoxLCd0cmFkZSc6MX0pLmltcHJvdmVkX3RyYWRlKCkuaW1nKFwid3QucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfcmVzZWFyY2gnKSAgLm1ldGFsbGljKDEpLmljb25zKHsnd2FyZmFyZSc6MSwncmVzZWFyY2gnOjF9KS5pbXByb3ZlZF9yZXNlYXJjaCgpLmltZyhcIndyLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Jlc2VhcmNoJykgIC5tZXRhbGxpYygxKS5pY29ucyh7J3N1cnZleSc6MSwncmVzZWFyY2gnOjF9KS5pbXByb3ZlZF9yZXNlYXJjaCgpLmltZyhcInNyLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX2NvbG9uaXplJykgIC5tZXRhbGxpYygxKS5pY29ucyh7J3dhcmZhcmUnOjEsJ2NvbG9uaXplJzoxfSkuaW1wcm92ZWRfY29sb25pemUoKS5pbWcoXCJ3Yy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9jb2xvbml6ZScpICAubWV0YWxsaWMoMSkuaWNvbnMoeydzdXJ2ZXknOjEsJ2NvbG9uaXplJzoxfSkuaW1wcm92ZWRfY29sb25pemUoKS5pbWcoXCJzYy5wbmdcIiksXHJcblx0XHRcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3dhcmZhcmUnKSAgIC5mZXJ0aWxlKDEpLmljb25zKHsncHJvZHVjZSc6MSwnd2FyZmFyZSc6MX0pLmltcHJvdmVkX3dhcmZhcmUoKS5pbWcoXCJwdy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF93YXJmYXJlJykgICAuZmVydGlsZSgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCd3YXJmYXJlJzoxfSkuaW1wcm92ZWRfd2FyZmFyZSgpLmltZyhcImN3LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3RyYWRlJykgICAgIC5mZXJ0aWxlKDEpLmljb25zKHsncHJvZHVjZSc6MSwndHJhZGUnOjF9KS5pbXByb3ZlZF90cmFkZSgpLmltZyhcInB0LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3RyYWRlJykgICAgIC5mZXJ0aWxlKDEpLmljb25zKHsnY29sb25pemUnOjEsJ3RyYWRlJzoxfSkuaW1wcm92ZWRfdHJhZGUoKS5pbWcoXCJjdC5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9yZXNlYXJjaCcpICAuZmVydGlsZSgxKS5pY29ucyh7J3Byb2R1Y2UnOjEsJ3Jlc2VhcmNoJzoxfSkuaW1wcm92ZWRfcmVzZWFyY2goKS5pbWcoXCJwci5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9yZXNlYXJjaCcpICAuZmVydGlsZSgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCdyZXNlYXJjaCc6MX0pLmltcHJvdmVkX3Jlc2VhcmNoKCkuaW1nKFwiY3IucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfc3VydmV5JykgICAgLmZlcnRpbGUoMSkuaWNvbnMoeydwcm9kdWNlJzoxLCdzdXJ2ZXknOjF9KS5pbXByb3ZlZF9zdXJ2ZXkoKS5pbWcoXCJwcy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9zdXJ2ZXknKSAgICAuZmVydGlsZSgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCdzdXJ2ZXknOjF9KS5pbXByb3ZlZF9zdXJ2ZXkoKS5pbWcoXCJjcy5wbmdcIiksXHJcblx0XHRcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Byb2R1Y3Rpb24nKS5hZHZhbmNlZCgxKS5pY29ucyh7J3Jlc2VhcmNoJzoxLCdwcm9kdWNlJzoxfSkuaW1wcm92ZWRfcHJvZHVjdGlvbigpLmltZyhcInJwLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Byb2R1Y3Rpb24nKS5hZHZhbmNlZCgxKS5pY29ucyh7J3RyYWRlJzoxLCdwcm9kdWNlJzoxfSkuaW1wcm92ZWRfcHJvZHVjdGlvbigpLmltZyhcInRwLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3dhcmZhcmUnKSAgIC5hZHZhbmNlZCgxKS5pY29ucyh7J3dhcmZhcmUnOjEsJ3RyYWRlJzoxfSkuaW1wcm92ZWRfd2FyZmFyZSgpLmltZyhcInR3LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3dhcmZhcmUnKSAgIC5hZHZhbmNlZCgxKS5pY29ucyh7J3Jlc2VhcmNoJzoxLCd3YXJmYXJlJzoxfSkuaW1wcm92ZWRfd2FyZmFyZSgpLmltZyhcInJ3LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX2NvbG9uaXplJykgIC5hZHZhbmNlZCgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCd0cmFkZSc6MX0pLmltcHJvdmVkX2NvbG9uaXplKCkuaW1nKFwidGMucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfY29sb25pemUnKSAgLmFkdmFuY2VkKDEpLmljb25zKHsncmVzZWFyY2gnOjEsJ2NvbG9uaXplJzoxfSkuaW1wcm92ZWRfY29sb25pemUoKS5pbWcoXCJyYy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9zdXJ2ZXknKSAgICAuYWR2YW5jZWQoMSkuaWNvbnMoeyd0cmFkZSc6MSwnc3VydmV5JzoxfSkuaW1wcm92ZWRfc3VydmV5KCkuaW1nKFwidHMucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfc3VydmV5JykgICAgLmFkdmFuY2VkKDEpLmljb25zKHsncmVzZWFyY2gnOjEsJ3N1cnZleSc6MX0pLmltcHJvdmVkX3N1cnZleSgpLmltZyhcInJzLnBuZ1wiKSxcclxuXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdzdXJ2ZXlfdGVhbScpLnN1cnZleXRlYW0oKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnd2FyX3BhdGgnKS53YXJwYXRoKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ3RlcnJhZm9ybWluZycpLnRlcnJhZm9ybWluZygpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdnZW5ldGljX2VuZ2luZWVyaW5nJykuZ2VuZXRpY2VuZ2luZWVyaW5nKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2FydGlmaWNpYWxfaW50ZWxsaWdlbmNlJykuYXJ0aWZpY2lhbGludGVsbGlnZW5jZSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdkaXZlcnNlX21hcmtldHMnKS5kaXZlcnNlbWFya2V0cygpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdzcGVjaWFsaXphdGlvbicpLnNwZWNpYWxpemF0aW9uKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ21vYmlsaXphdGlvbicpLlx0bW9iaWxpemF0aW9uKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2RhdGFfbmV0d29yaycpLmRhdGFuZXR3b3JrKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2FidW5kYW5jZScpLmFidW5kYW5jZSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdhZGFwdGFiaWxpdHknKS5hZGFwdGFiaWxpdHkoKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnYnVyZWF1Y3JhY3knKS5idXJlYXVjcmFjeSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdkaXNzZW5zaW9uJykuZGlzc2Vuc2lvbigpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdoeXBlcmVmZmljaWVuY3knKS5oeXBlcmVmZmljaWVuY3koKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wZXJpYWxpc20nKS5pbXBlcmlhbGlzbSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdsb2dpc3RpY3MnKS5sb2dpc3RpY3MoKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgncHJvZHVjdGl2aXR5JykucHJvZHVjdGl2aXR5KCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ3Njb3JjaGVkX2VhcnRoX3BvbGljeScpLnNjb3JjaGVkZWFydGhwb2xpY3koKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnc3RyZWFtbGluaW5nJykuc3RyZWFtbGluaW5nKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ3dlYXBvbnNfZW1wb3JpdW0nKS53ZWFwb25zZW1wb3JpdW0oKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnZmVydGlsZV9ncm91bmRzJykuZmVydGlsZWdyb3VuZHMoKS5pbWcoXCIucG5nXCIpLFxyXG5cclxuXHRcdF07XHJcblx0fTtcclxuXHRsZXQgZ2VucGxheWVyID0gKF9pZCkgPT4ge1xyXG5cdFx0bGV0IF9wbGF5ZXIgPSB7XHJcblx0XHRcdCdpZCc6X2lkLFxyXG5cdFx0XHQnYWN0aW9ucm9sZXNlcXVlbmNlJzonYXInLCAvL2NhbiBiZSBhci4gcmEsIGFhciwgYXJhLCByYWFcclxuXHRcdFx0J3NwZWNpYWxpemF0aW9uJzonJyxcclxuXHRcdFx0J2F2YWlsYWJsZSc6dHJ1ZSxcclxuXHRcdFx0J3JvdW5kcyc6MCxcclxuXHRcdFx0J2xpbWJvJzogW10sXHJcblx0XHRcdCdkZWNrJyA6IGtudXRoc2h1ZmZsZShnZW5uZXdkZWNrKCkpLFxyXG5cdFx0XHQnaGFuZCcgOiBbXSxcclxuXHRcdFx0J3Blcm1hbmVudHMnIDogW10gLFxyXG5cdFx0XHQnZGlzY2FyZCcgOiBbXSxcclxuXHRcdFx0J2hhbmRzaXplJzo1LFxyXG5cdFx0XHQnYWN0aXZlYWN0aW9uJyA6IG51bGwsXHJcblx0XHRcdCdhY3RpdmVyb2xlJyA6ICcnLFxyXG5cdFx0XHQnaGFuZHNpemUnIDogNSxcclxuXHRcdFx0J2JzdEljb25zJyA6IHsnc3VydmV5JzowLCd3YXJmYXJlJzowLCdjb2xvbml6ZSc6MCwncHJvZHVjZSc6MCwndHJhZGUnOjAsJ3Jlc2VhcmNoJzowfSxcclxuXHRcdFx0J3Vuc2V0dGxlZF9wbGFuZXRzJyA6IFtnYW1lLnN0YWNrcy5zdGFydGluZ3BsYW5ldHMucG9wKCldLFxyXG5cdFx0XHQnc2V0dGxlZF9wbGFuZXRzJyA6IFtdLFxyXG5cdFx0XHQnY29ucXVlcmVkX3BsYW5ldHMnIDogW10sXHJcblx0XHRcdCdzdGFyZmlnaHRlcnMnIDogeydzbWFsbCc6MCwnbWVkaXVtJzowLCdsYXJnZSc6MH0sXHJcblx0XHRcdCdjb21iYXR2YWx1ZScgOiAwLFxyXG5cdFx0XHQnaW5mbHVlbmNlJzpbXSxcclxuXHRcdH07XHJcblx0XHRkcmF3KF9wbGF5ZXIsX3BsYXllci5oYW5kc2l6ZSk7XHJcblx0XHRnYW1lLnBsYXllcnMgPSBbLi4uZ2FtZS5wbGF5ZXJzLF9wbGF5ZXJdO1xyXG5cdH07XHJcblx0bGV0IGdlbnBsYW5ldCA9IChuYW1lX2luKSA9PiB7XHRcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGlkOmdlbl91bmlxdWVfaWQoKSxcclxuXHRcdFx0bmFtZTpuYW1lX2luLFxyXG5cdFx0XHR0eXBlOidwbGFuZXQnLFxyXG5cdFx0XHRzZXR0bGVfY29zdDoyLFxyXG5cdFx0XHRzZXR0bGVkOmZhbHNlLFxyXG5cdFx0XHRjb25xdWVyX2Nvc3Q6MixcclxuXHRcdFx0cHJvZHVjdGlvbl96b25lczpbXSxcclxuXHRcdFx0aW5mbHVlbmNlX3ZhbHVlOjIsXHJcblx0XHRcdGljb25zOnsnc3VydmV5JzowLCd3YXJmYXJlJzowLCdjb2xvbml6ZSc6MCwncHJvZHVjZSc6MCwndHJhZGUnOjAsJ3Jlc2VhcmNoJzowLH0sXHJcblx0XHRcdGhhbmRzaXplX21vZGlmaWVyOjAsXHJcblx0XHRcdGhvc3RlZF9jb2xvbmllczpbXSxcclxuXHRcdFx0bWV0YWxsaWM6ZnVuY3Rpb24oKXt0aGlzLnR5cGU9J21ldGFsbGljJztyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRhZHZhbmNlZDpmdW5jdGlvbigpe3RoaXMudHlwZT0nYWR2YW5jZWQnO3JldHVybiB0aGlzO30sXHJcblx0XHRcdGZlcnRpbGU6ZnVuY3Rpb24oKXt0aGlzLnR5cGU9J2ZlcnRpbGUnO3JldHVybiB0aGlzO30sXHJcblx0XHRcdGljb246ZnVuY3Rpb24oaWNvbl9uYW1lKXt0aGlzLmljb25zW2ljb25fbmFtZV0rKztyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRoYW5kc2l6ZTpmdW5jdGlvbihtb2RpZmllcil7dGhpcy5oYW5kc2l6ZV9tb2RpZmllcj1tb2RpZmllcjtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRpbmZsdWVuY2U6ZnVuY3Rpb24oaW5mbHVlbmNlKXt0aGlzLmluZmx1ZW5jZV92YWx1ZSA9IGluZmx1ZW5jZTtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRzZXR0bGU6ZnVuY3Rpb24oY29zdCl7dGhpcy5zZXR0bGVfY29zdD1jb3N0O3JldHVybiB0aGlzO30sXHJcblx0XHRcdGNvbnF1ZXI6ZnVuY3Rpb24oY29zdCl7dGhpcy5jb25xdWVyX2Nvc3Q9Y29zdDtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHR6b25lOmZ1bmN0aW9uKHpvbmUpe3RoaXMucHJvZHVjdGlvbl96b25lcy5wdXNoKHt0eXBlOnpvbmUsIGZpbGxlZDpmYWxzZX0pO3JldHVybiB0aGlzO30sXHJcblx0XHR9O1xyXG5cdH07XHJcblx0bGV0IGdlbnBsYW5ldGRlY2sgPSAoKSA9PiB7IFxyXG5cdFx0Z2FtZS5wbGFuZXRfZGVjayA9IGtudXRoc2h1ZmZsZShbXHJcblx0XHRcdC8vZmVydGlsZSBwbGFuZXRzXHJcblx0XHRcdGdlbnBsYW5ldCgnTUlTSEJVUlIgSVRPLUEnKS5mZXJ0aWxlKCkuc2V0dGxlKDUpLmNvbnF1ZXIoNCkuem9uZSgnZm9vZCcpICAgICAgICAgICAgICAuaW5mbHVlbmNlKDMpLmljb24oJ3Byb2R1Y2UnKSAgICxcclxuXHRcdFx0Z2VucGxhbmV0KCdTVFlLVScpLmZlcnRpbGUoKS5zZXR0bGUoNCkuY29ucXVlcig1KS56b25lKCd3YXRlcicpICAgICAgICAgICAgICAgLmluZmx1ZW5jZSgzKS5pY29uKCdjb2xvbml6ZScpICAsXHJcblx0XHRcdGdlbnBsYW5ldCgnQU5HVVMgRFVGRlknKS5mZXJ0aWxlKCkuc2V0dGxlKDMpLmNvbnF1ZXIoNikuem9uZSgnZm9vZCcpLnpvbmUoJ3dhdGVyJykgLmluZmx1ZW5jZSgzKSAgICAgICAgICAgICAgICAgICAsXHJcblx0XHRcdGdlbnBsYW5ldCgnR0VSRExBTkQnKS5mZXJ0aWxlKCkuc2V0dGxlKDQpLmNvbnF1ZXIoNSkuem9uZSgnd2F0ZXInKSAgICAgICAgICAgICAgIC5pbmZsdWVuY2UoMykuaWNvbigncHJvZHVjZScpICAgLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ01JSy1NSUsnKS5mZXJ0aWxlKCkuc2V0dGxlKDUpLmNvbnF1ZXIoNCkuem9uZSgnZm9vZCcpICAgICAgICAgICAgICAuaW5mbHVlbmNlKDMpLmljb24oJ2NvbG9uaXplJykgICxcclxuXHRcdFx0Z2VucGxhbmV0KCdORUxPUyBJVicpLmZlcnRpbGUoKS5zZXR0bGUoNSkuY29ucXVlcig0KS56b25lKCdmb29kJykgICAgICAgICAgICAgIC5pbmZsdWVuY2UoMikgICAgICAuaGFuZHNpemUoMSkgLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ1NQSUVMQkFOWSBWSScpLmZlcnRpbGUoKS5zZXR0bGUoNCkuY29ucXVlcig1KS56b25lKCd3YXRlcicpICAgICAgICAgICAgICAgLmluZmx1ZW5jZSgyKSAgICAgIC5oYW5kc2l6ZSgxKSAsXHJcblx0XHRcdGdlbnBsYW5ldCgnTkVXIFRFWEFTJykuZmVydGlsZSgpLnNldHRsZSgzKS5jb25xdWVyKDYpLnpvbmUoJ2Zvb2QnKS56b25lKCd3YXRlcicpIC5pbmZsdWVuY2UoMikuaWNvbignY29sb25pemUnKSAgLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ0FSVElHQVMgR05TLTExMScpLmZlcnRpbGUoKS5zZXR0bGUoMykuY29ucXVlcig2KS56b25lKCdmb29kJykuem9uZSgnd2F0ZXInKSAuaW5mbHVlbmNlKDIpLmljb24oJ3Byb2R1Y2UnKSAgICxcclxuXHRcdFx0Ly9hZHZhbmNlZCBwbGFuZXRzXHJcblx0XHRcdGdlbnBsYW5ldCgnSEFOT0ogLSBUJykuYWR2YW5jZWQoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnc2lsaWNvbicpLmljb24oJ3RyYWRlJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnT0tOT1cnKS5hZHZhbmNlZCgpLnNldHRsZSg0KS5jb25xdWVyKDUpLmluZmx1ZW5jZSgyKS56b25lKCdzaWxpY29uJykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFuZHNpemUoMSksXHJcblx0XHRcdGdlbnBsYW5ldCgnU1JPRCBBVkVJTiBOMicpLmFkdmFuY2VkKCkuc2V0dGxlKDMpLmNvbnF1ZXIoNikuaW5mbHVlbmNlKDQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaWNvbigncmVzZWFyY2gnKSxcclxuXHRcdFx0Z2VucGxhbmV0KFwiUkFMIEdBSSdHQVdcIikuYWR2YW5jZWQoKS5zZXR0bGUoNCkuY29ucXVlcig1KS5pbmZsdWVuY2UoMykuem9uZSgnc2lsaWNvbicpLmljb24oJ3RyYWRlJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnRUNITyBST1NFJykuYWR2YW5jZWQoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnc2lsaWNvbicpICAgICAgICAgICAgICAuaWNvbigncmVzZWFyY2gnKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdTSE9MTUlDQU4nKS5hZHZhbmNlZCgpLnNldHRsZSgzKS5jb25xdWVyKDYpLmluZmx1ZW5jZSg0KS56b25lKCdzaWxpY29uJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnWkVQSEFOJykuYWR2YW5jZWQoKS5zZXR0bGUoMykuY29ucXVlcig2KS5pbmZsdWVuY2UoNCkgICAgICAgICAgICAgICAuaWNvbigndHJhZGUnKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdTSU1BLTA3QycpLmFkdmFuY2VkKCkuc2V0dGxlKDUpLmNvbnF1ZXIoNCkuaW5mbHVlbmNlKDIpLnpvbmUoJ3NpbGljb24nKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oYW5kc2l6ZSgxKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdMWVRUTEUnKS5hZHZhbmNlZCgpLnNldHRsZSg0KS5jb25xdWVyKDUpLmluZmx1ZW5jZSgzKS56b25lKCdzaWxpY29uJykgICAgICAgICAgICAgIC5pY29uKCdyZXNlYXJjaCcpLFxyXG5cdFx0XHQvL21ldHRhbGljIHBsYW5ldHNcclxuXHRcdFx0Z2VucGxhbmV0KCdLWVJJRSAmIEpVTk8nKS5tZXRhbGxpYygpLnNldHRsZSgzKS5jb25xdWVyKDYpLmluZmx1ZW5jZSg0KSAgICAgICAgICAgIC5pY29uKCdzdXJ2ZXknKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdNQVJHSEFOTkFIIFBSSU1FJykubWV0YWxsaWMoKS5zZXR0bGUoNCkuY29ucXVlcig1KS5pbmZsdWVuY2UoMykgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFuZHNpemUoMSksXHJcblx0XHRcdGdlbnBsYW5ldCgnVEFOS0FIU0hJTicpLm1ldGFsbGljKCkuc2V0dGxlKDQpLmNvbnF1ZXIoNSkuaW5mbHVlbmNlKDMpLnpvbmUoJ21ldGFsbGljJykuaWNvbignd2FyZmFyZScpLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ1ZPU09OJykubWV0YWxsaWMoKS5zZXR0bGUoNCkuY29ucXVlcig1KS5pbmZsdWVuY2UoMykuem9uZSgnbWV0YWxsaWMnKS5pY29uKCdzdXJ2ZXknKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdQSU5LIFNPTkFSJykubWV0YWxsaWMoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnbWV0YWxsaWMnKS5pY29uKCdzdXJ2ZXknKSxcclxuXHRcdFx0Z2VucGxhbmV0KFwiT1ZFUkxPUkQgQkVUWkVMJ1MgRE9NQUlOXCIpLm1ldGFsbGljKCkuc2V0dGxlKDMpLmNvbnF1ZXIoNikuaW5mbHVlbmNlKDQpICAgICAgICAgICAgLmljb24oJ3dhcmZhcmUnKSxcclxuXHRcdFx0Z2VucGxhbmV0KCc4OTEwIFNQSUVMRU4nKS5tZXRhbGxpYygpLnNldHRsZSg0KS5jb25xdWVyKDUpLmluZmx1ZW5jZSgyKS56b25lKCdtZXRhbGxpYycpICAgICAgICAgICAgICAgLmhhbmRzaXplKDEpLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ0lEUk9ZT1MnKS5tZXRhbGxpYygpLnNldHRsZSgzKS5jb25xdWVyKDYpLmluZmx1ZW5jZSg1KSxcclxuXHRcdFx0Z2VucGxhbmV0KCdFUktBTS1XJykubWV0YWxsaWMoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnbWV0YWxsaWMnKS5pY29uKCd3YXJmYXJlJylcclxuXHRcdF0pO1xyXG5cdFx0Z2FtZS5zdGFja3Muc3RhcnRpbmdwbGFuZXRzID0ga251dGhzaHVmZmxlKFtcclxuXHRcdFx0Z2VucGxhbmV0KCdNRVNJQSBTRUROSU0nKS5mZXJ0aWxlKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ3dhdGVyJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnRFJBV0RFJykuZmVydGlsZSgpLnNldHRsZSgyKS5jb25xdWVyKDIpLmluZmx1ZW5jZSgyKS56b25lKCdmb29kJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnTElBR0lCQScpLmFkdmFuY2VkKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ3NpbGljb24nKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdQT01FUkVORScpLmFkdmFuY2VkKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ3NpbGljb24nKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdDSFJJU1BFTicpLm1ldGFsbGljKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ21ldGFsbGljJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnUElFRFJBIFNFQ0EnKS5tZXRhbGxpYygpLnNldHRsZSgyKS5jb25xdWVyKDIpLmluZmx1ZW5jZSgyKS56b25lKCdtZXRhbGxpYycpLFxyXG5cdFx0XSkgICBcclxuXHR9O1xyXG5cdGxldCBjbGVhbnVwID0gKCkgPT4ge1xyXG5cdFx0Z2V0QWN0UGx5cigpLmxpbWJvLmZvckVhY2goY2FyZCA9PiB7XHJcblx0XHRcdGdldEFjdFBseXIoKVtjYXJkLmZpbkRlc3RdID0gWyAuLi5nZXRBY3RQbHlyKClbY2FyZC5maW5EZXN0XSwgY2FyZCBdO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHRsZXQgcHVyY2hhc2UgPSAoc3JjLCBkZXN0LCBmaW5EZXN0LCBpZCkgPT4geyAvLyBkdXBsaWNhdGUgb2YgZGlzY2FyZCAmIGR1cGxpY2F0ZSBvZiBwbGF5XHJcblx0XHRsZXQgdG9SZW1vdmUgPSBzcmMuZmluZCgoZSkgPT4gaWQgPT0gZS5pZCk7XHJcblx0XHRkZXN0ID0gWy4uLmRlc3Qsey4uLnRvUmVtb3ZlLGZpbkRlc3Q6ZmluRGVzdH1dO1xyXG5cdFx0c3JjID0gc3JjLmZpbHRlcigoZSkgPT4gZS5pZCAhPSB0b1JlbW92ZS5pZCk7XHJcblx0fTtcclxuXHRsZXQgcmVtb3ZlX2Zyb21fZ2FtZSA9IChzb3VyY2VfYXJyYXksIHRvUmVtb3ZlKSA9PiB7IC8vcmVtb3ZlX2Zyb21fZ2FtZSBoYW5kLT5leGlsZVxcXHJcblx0XHR0b1JlbW92ZS5maW5EZXN0PVwiZXhpbGVcIjtcclxuXHRcdHJldHVybiBzb3VyY2VfYXJyYXkuZmlsdGVyKChlKSA9PiBlLmlkICE9IHRvUmVtb3ZlLmlkKTtcclxuXHR9O1xyXG5cdGxldCBwcmVzZW50X2FzX2Nob2ljZSA9IChvcHRpb25zKSA9PiBnYW1lLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdGxldCBzZXR0bGVfY29sb25pZXMgPSAocGxhbmV0LCBwbHlyKSA9PiB7XHJcblx0XHRsZXQgcGxhbmV0cyA9IFsuLi5wbHlyLnNldHRsZWRfcGxhbmV0cywuLi5wbHlyLmNvbnF1ZXJlZF9wbGFuZXRzXTtcclxuXHRcdGxldCByZWR1Y3Rpb24gPSBbLi4ucGxhbmV0cywuLi5nZXRMZWFkUGx5cigpLnBlcm1hbmVudHNdLnJlZHVjZSgoYWNjLGN1cik9PmFjYytjdXIuaWNvbnMuY29sb25pemUsMCk7XHJcblx0XHRpZiAocGxhbmV0LnNldHRsZV9jb3N0IC0gcmVkdWN0aW9uIDw9IHBsYW5ldC5ob3N0ZWRfY29sb25pZXMubGVuZ3RoKXtcclxuXHRcdFx0aWYgKGNoa0ZvclBlcm0oJ2FidW5kYW5jZScpICYmIHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzLmxlbmd0aCAhPSAwKXtcclxuXHRcdFx0XHRwbGFuZXQucHJvZHVjdGlvbl96b25lcyA9IHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzLm1hcCgocHopPT57cmV0dXJuIHt0eXBlOnB6LnR5cGUsZmlsbGVkOnRydWV9O30pXHJcblx0XHRcdH1cclxuXHRcdFx0cGx5ci5kaXNjYXJkID0gWy4uLnBseXIuZGlzY2FyZCwgLi4ucGxhbmV0Lmhvc3RlZF9jb2xvbmllc107XHJcblx0XHRcdHBsYW5ldC5ob3N0ZWRfY29sb25pZXMgPSBbXTtcclxuXHRcdFx0cGxhbmV0LnNldHRsZWQgPSB0cnVlO1xyXG5cdFx0XHRkaXNjYXJkKHBseXIudW5zZXR0bGVkX3BsYW5ldHMscGx5ci5zZXR0bGVkX3BsYW5ldHMscGxhbmV0LmlkKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH07XHJcblx0Ly9wYXNzX3R1cm4gbGVhZGluZ3BsYXllci0+bmV4dHBsYXllclxyXG5cdGxldCBwYXNzX3R1cm4gPSAoKSA9PiB7XHJcblx0XHRpZiAoIWxvYmJ5Lm9ubGluZSB8fCBsb2JieS5zY3JlZW5uYW1lID09IGdldEFjdFBseXIoKS5uYW1lICl7XHJcblx0XHRcdGdhbWUucGFzc3Q9ZmFsc2U7XHJcblx0XHRcdGdhbWUuYWN0aW5nX3BsYXllcl9pbmRleCA9IGdhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXggPSAoZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleCsxKSVnYW1lLm51bWJlcl9vZl9wbGF5ZXJzO1xyXG5cdFx0XHRnYW1lLmxlYWRpbmdwbGF5ZXIgPSBnYW1lLnBsYXllcnNbZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleF07XHJcblx0XHRcdGdhbWUuYWN0aW5nX3BsYXllciA9IGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XTtcclxuXHRcdFx0ZmluaXNoKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL3Bhc3NfcHJpb3JpdHkgYWN0aW5ncGxheWVyLT5uZXh0cGxheWVyXHJcblx0bGV0IHBhc3NfcHJpb3JpdHkgPSAoKSA9PiB7XHJcblx0XHRpZiAob2ZmbGluZU9ySXNDbGllbnRUdXJuKCkpe1xyXG5cdFx0XHRnYW1lLnBhc3NwPWZhbHNlO1xyXG5cdFx0XHRnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXggPSAoZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4KzEpJWdhbWUubnVtYmVyX29mX3BsYXllcnM7XHJcblx0XHRcdGdhbWUuYWN0aW5nX3BsYXllciA9IGdldEFjdFBseXIoKTtcclxuXHRcdFx0ZmluaXNoKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL2RldGVybWluZV9udW1iZXJfb2ZfcGxheWVycyBsb2dpYy0+b3B0aW9ucy0+Y2hvaWNlLT5udW1iZXJfb2ZfcGxheWVyc1xyXG5cdGxldCBkZXRlcm1pbmVfbnVtYmVyX29mX3BsYXllcnMgPSAoY2FsbGJhY2spID0+IHtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Nob2ljZW1hZGUnLHNpbmdsZUNsbEJjayggY2FsbGJhY2ssICdjaG9pY2VtYWRlJywgKCkgPT4gZ2FtZS5udW1iZXJfb2ZfcGxheWVycyA9IGdhbWUuY2hvaWNlcykpO1xyXG5cdFx0cHJlc2VudF9hc19jaG9pY2UocmFuZ2UoIGdhbWUubWluUGx5cnMsIGdhbWUubWF4UGx5cnMpKTtcclxuXHR9O1xyXG5cdC8vcHJvZHVjZSBwb2R1Y3Rpb25fcGlsZS0+aG9zdFxyXG5cdGxldCBwcm9kdWNlID0gKHBsYW5ldHMsIHJlc291cmNlcz0xKSA9PiBwcm9kdWNlVHJhZGVIZWxwZXIodHJ1ZSxwbGFuZXRzLHJlc291cmNlcyk7XHJcblx0Ly90cmFkZSBob3N0LT5wcm9kdWN0aW9uX3BpbGUsIGluZmx1ZW5jZV9waWxlLT5wbGF5ZXJfaW5mbHVlbmNlXHJcblx0Ly9sZXQgdHJhZGUgPSAocGxhbmV0cywgcGxheWVyLCByZXNvdXJjZXM9MSkgPT4gcHJvZHVjZVRyYWRlSGVscGVyKGZhbHNlLHBsYW5ldHMscmVzb3VyY2VzLCgpPT5wbGF5ZXIuaW5mbHVlbmNlLnB1c2goZ2FtZS5pbmZsdWVuY2UucG9wKCkpKTtcclxuXHRsZXQgdHJhZGUgPSAocGxudCxwbHlyLHJlcyk9PntcclxuXHRcdGxldCBwcmQgPSB7IGJsdWU6IDAsIGdyZWVuOiAwLCBwdXJwbGU6IDAsIHJlZDogMCAgfTtcclxuXHRcdGlmIChyZXMgPCAxKSByZXR1cm4gcHJkO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwbG50Lmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0Zm9yKGxldCBqID0gMDsgaiA8IHBsbnRbaV0ucHJvZHVjdGlvbl96b25lcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGlmICggcmVzID4gMCAmJiBwbG50W2ldLnByb2R1Y3Rpb25fem9uZXNbal0uZmlsbGVkICkge1xyXG5cdFx0XHRcdFx0aWYgKGdhbWUuaW5mbHVlbmNlLmxlbmd0aCAhPSAxKSBnYW1lLmluZmx1ZW5jZSA9IGdhbWUuaW5mbHVlbmNlLnNsaWNlKDEpO1xyXG5cdFx0XHRcdFx0cGxudFtpXS5wcm9kdWN0aW9uX3pvbmVzW2pdLmZpbGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cHJkW3BsbnRbaV0ucHJvZHVjdGlvbl96b25lc1tqXS50eXBlXSsrO1xyXG5cdFx0XHRcdFx0cGx5ci5pbmZsdWVuY2UgPSBbLi4ucGx5ci5pbmZsdWVuY2UsIDFdO1xyXG5cdFx0XHRcdFx0cmVzLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IHJldHVybiBwcmQ7XHJcblx0fTtcclxuXHQvL3BvbGl0aWNzIGhhbmQtPmxpbWJvLT5leGlsZSwgc3RhY2tzLT5oYW5kXHJcblx0bGV0IHBvbGl0aWNzID0gKHBvbGl0aWNzX2NhcmQsIGNhcmQsIHBsYXllcikgPT4ge1xyXG5cdFx0cG9saXRpY3NfY2FyZC5maW5EZXN0PVwiZXhpbGVcIjtcclxuXHRcdGlmIChnYW1lLnN0YWNrcy5waWxlY291bnRbY2FyZC50eXBlXSA+PSAxKXtcclxuXHRcdFx0cGxheWVyLmhhbmQgPSBbLi4ucGxheWVyLmhhbmQsIHsuLi5nYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3NbY2FyZC50eXBlXV0sICdpZCc6Z2VuX3VuaXF1ZV9pZCgpfV07XHJcblx0XHRcdGdhbWUuc3RhY2tzLnBpbGVjb3VudFtjYXJkLnR5cGVdLS07XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL3Jlc2VhcmNoIGhhbmQtPmV4aWxlXHJcblx0bGV0IHJlc2VhcmNoID0gKGNhcmRzLCBwbGF5ZXIsIGxpbWl0PTIpID0+IHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyAoaSA8IGNhcmRzLmxlbmd0aCAmJiBpIDwgbGltaXQpOyBpKyspe1xyXG5cdFx0XHRnZXRBY3RQbHlyKCkubGltYm8gPSAgcmVtb3ZlX2Zyb21fZ2FtZShnZXRBY3RQbHlyKCkubGltYm8sIGNhcmRzW2ldKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdC8vYm9vc3QgbG9naWMtPnBsYXllcl9pY29uc1xyXG5cdGxldCBib29zdCA9IChjYXJkcywgcGx5cikgPT4gY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4gYm9vc3RXaXRoSWNvbnMocGx5cixjYXJkKSk7XHJcblx0Ly9zdXJ2ZXkgZGVjay0+aGFuZFxyXG5cdGxldCBzdXJ2ZXkgPSAocGxheWVyKSA9PiBwbGF5ZXIgPSBkcmF3KHBsYXllciwyKTtcclxuXHQvL2NvbG9uaXplIGhhbmQvbGltYm8tPmhvc3RcclxuXHRsZXQgY29sb25pemUgPSAocGxhbmV0LCBzb3VyY2VfYXJyYXksIGNhcmQsIGlzUm9sZT1mYWxzZSkgPT4ge1xyXG5cdFx0bGV0IGwgPSAoaXNSb2xlKSA/IGdldEFjdFBseXIoKS5ic3RJY29ucy5jb2xvbml6ZSA6IDE7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKyl7XHJcblx0XHRcdGxldCB0b1JlbW92ZSA9IHNvdXJjZV9hcnJheS5maW5kKChlKSA9PiBjYXJkLnR5cGUgPT0gZS50eXBlICYmIGUuZmluRGVzdCE9J2V4aWxlJyk7XHJcblx0XHRcdHBsYW5ldC5ob3N0ZWRfY29sb25pZXMgPSBbLi4ucGxhbmV0Lmhvc3RlZF9jb2xvbmllcyx0b1JlbW92ZV07XHJcblx0XHRcdHNvdXJjZV9hcnJheSA9IHNvdXJjZV9hcnJheS5maWx0ZXIoKGUsaSkgPT4gZS5pZCAhPSB0b1JlbW92ZS5pZCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL3dhcmZhcmUgc3RhcnNoaXBfcGlsZS0+cGxheWVyX3N0YXJzaGlwX3BpbGVcclxuXHRsZXQgd2FyZmFyZSA9IChwbGF5ZXIpID0+IHBsYXllci5zdGFyZmlnaHRlcnMuc21hbGwrKztcclxuXHQvL2NvbnF1ZXIgcGxheWVyX3N0YXJzaGlwX3BpbGUtPnN0YXJzaGlwX3BpbGUsIHBsYXllcl91bmNvbnF1ZXJlZF9wbGFuZXRzLT5wbGF5ZXJfY29ucXVlcmVkX3BsYW5ldHNcclxuXHRsZXQgY29ucXVlciA9IChwbGFuZXQsIHBsYXllcik9PntcclxuXHRcdGlmIChjaGtGb3JQZXJtKCdzY29yY2hlZF9lYXJ0aF9wb2xpY3knKSl7XHJcblx0XHRcdFx0cGxhbmV0LnByb2R1Y3Rpb25fem9uZXMgPSBbXTtcclxuXHRcdFx0XHRwbGFuZXQuY29ucXVlcl9jb3N0IC09IDI7XHJcblx0XHRcdFx0aWYgKHBsYW5ldC5jb25xdWVyX2Nvc3QgPCAwKSB7XHJcblx0XHRcdFx0XHRwbGFuZXQuY29ucXVlcl9jb3N0ID0gMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdGlmIChwbGF5ZXIuc3RhcmZpZ2h0ZXJzLnNtYWxsID49IHBsYW5ldC5jb25xdWVyX2Nvc3Qpe1xyXG5cdFx0XHRpZiAoY2hrRm9yUGVybSgnYWJ1bmRhbmNlJykpe1xyXG5cdFx0XHRcdGlmIChwbGFuZXQucHJvZHVjdGlvbl96b25lcy5sZW5ndGggIT0gMCl7XHJcblx0XHRcdFx0XHRwbGFuZXQucHJvZHVjdGlvbl96b25lcyA9IHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzLm1hcCgocHopPT57cmV0dXJuIHt0eXBlOnB6LnR5cGUsZmlsbGVkOnRydWV9O30pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHBsYXllci5zdGFyZmlnaHRlcnMuc21hbGwgLT0gcGxhbmV0LmNvbnF1ZXJfY29zdDtcclxuXHRcdFx0cGxhbmV0ID0gc2VsZWN0X3ZpYV9pZChwbGF5ZXIudW5zZXR0bGVkX3BsYW5ldHMsIHBsYW5ldC5pZCk7XHJcblx0XHRcdHBsYW5ldC5jb25xdWVyZWQ9dHJ1ZTtcclxuXHRcdFx0cGxheWVyLmNvbnF1ZXJlZF9wbGFuZXRzLnB1c2gocGxhbmV0KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdC8vb2ZmZXJfdG9fYm9vc3QgcHJlc2VudF9hc19jaG9pY2UsIGNob29zZSwgYm9vc3RcclxuXHRsZXQgb2ZmZXJfdG9fYm9vc3QgPSAocGxheWVyKSA9PiB7XHJcblx0XHRnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmUgPSAnaGFuZCc7XHJcblx0XHRnYW1lLmRpc3BsYXlpbmZvLmFsbG93Zm9ybXVsdGlwbGVzZWxlY3Rpb25zID0gdHJ1ZTtcclxuXHRcdGdhbWUuZGlzcGxheWluZm8uc2hvd29wdGlvbnRvc2tpcCA9IHRydWU7XHJcblx0XHRwcmVzZW50X2FzX2Nob2ljZShwbGF5ZXIuaGFuZCk7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaG9pY2VtYWRlJyxzaW5nbGVDbGxCY2soKCk9Pnt9LCdjaG9pY2VtYWRlJywoKT0+Ym9vc3QoZ2FtZS5jaG9pY2VzLCBwbGF5ZXIpKSk7XHJcblx0fTtcclxuXHRsZXQgc2VsZWN0X3ZpYV9pZCA9IChzb3VyY2UsIGlkKSA9PiB7XHJcblx0XHRsZXQgdGVtcCA9IHNvdXJjZS5maW5kKHA9PnAuaWQ9PWlkKTtcclxuXHRcdHNvdXJjZSA9IHNvdXJjZS5maWx0ZXIocD0+cC5pZCE9aWQpO1xyXG5cdFx0cmV0dXJuIHRlbXBcclxuXHR9O1xyXG5cdGxldCBib29zdHJvbGV3aXRoY2FyZHMgPSAoY2hvaWNlcywgY2FsbGJhY2s9KCk9Pnt9KSA9PiB7XHJcblx0XHRpZiAoY2hvaWNlc1swXS5uYW1lID09ICdTa2lwJykgcmV0dXJuO1xyXG5cdFx0Y2hvaWNlcy5mb3JFYWNoKChjYXJkKT0+e1xyXG5cdFx0XHRib29zdFdpdGhJY29ucyhnZXRBY3RQbHlyKCksY2FyZCk7XHJcblx0XHRcdHBsYXkoZ2V0QWN0UGx5cigpLmhhbmQsZ2V0QWN0UGx5cigpLmxpbWJvLCdkaXNjYXJkJyxjYXJkc1tpXS5pZCk7XHJcblx0XHR9KTtcclxuXHRcdGNhbGxiYWNrKCk7XHJcblx0fTtcclxuXHRsZXQgZ2VuX3VuaXF1ZV9pZCA9ICgpID0+IHtcclxuXHRcdGdhbWUubm9uY2UrKztcdFxyXG5cdFx0cmV0dXJuIGdhbWUubm9uY2U7XHJcblx0fTtcclxuXHRsZXQgcGVyZm9ybWxlYWRlcnJvbGUgPSAoY2FsbGJhY2s9KCk9Pnt9KSA9PiBnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5yb2xlLnJvbGUubGVhZGVyKGNhbGxiYWNrKTtcclxuXHRsZXQgcGVyZm9ybWZvbGxvd2Vycm9sZSA9IChjYWxsYmFjaz1udWxsKSA9PiB7XHJcblx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5zZXQoZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdLmFjdGl2ZXJvbGUucm9sZSk7XHJcblx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5yb2xlLnJvbGUuZm9sbG93ZXIoY2FsbGJhY2spO1xyXG5cdH07XHJcblx0bGV0IGV4cGxvcmVfcGxhbmV0ID0gKHBsYXllcik9PntcclxuXHRcdGxldCBwbGFuZXQgPSBnYW1lLnBsYW5ldF9kZWNrLnBvcCgpO1xyXG5cdFx0cGxheWVyLmxpbWJvID0gWy4uLnBsYXllci5saW1ibyx7Li4ucGxhbmV0LCdmaW5EZXN0JzoncGxhbmV0ZGVjayd9XTtcclxuXHRcdGdhbWUub3B0aW9ucyA9IFsuLi5nYW1lLm9wdGlvbnMscGxhbmV0XTtcclxuXHR9O1xyXG5cdGxldCBjYXRhbG9nX3BsYW5ldCA9IChwbGF5ZXIpID0+IHtcclxuXHRcdGdhbWUuY2hvaWNlc1swXS5maW5EZXN0ID0gJ3Vuc2V0dHRsZWQnO1xyXG5cdFx0cGxheWVyLnVuc2V0dGxlZF9wbGFuZXRzID0gWy4uLnBsYXllci51bnNldHRsZWRfcGxhbmV0cyxnYW1lLmNob2ljZXNbMF1dO1xyXG5cdFx0cGxheWVyLmxpbWJvID0gcGxheWVyLmxpbWJvLmZpbHRlcihwPT5wLmlkIT1nYW1lLmNob2ljZXNbMF0uaWQpO1xyXG5cdFx0cGxheWVyLmxpbWJvLmZpbHRlcihjYXJkID0+IGNhcmQuZmluRGVzdD09J3BsYW5ldGRlY2snKS5mb3JFYWNoKHBsYW5ldD0+IGRpc2NhcmQocGxheWVyLmxpbWJvLGdhbWUucGxhbmV0X2RlY2sscGxhbmV0LmlkKSlcclxuXHR9O1xyXG5cdGxldCBmb2xsb3djZW50ZXJjYXJkcm9sZSA9IChjaG9pY2VzLCBjYWxsYmFjaz1udWxsKSA9PiB7XHJcblx0XHRsZXQgY2FyZCA9IGNob2ljZXNbMF07XHJcblx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5zZXQoY2FyZCk7XHJcblx0XHRpZiAoZ2FtZS5zdGFja3MucGlsZWNvdW50W2NhcmQudHlwZV0gPj0gMSl7XHJcblx0XHRcdGdldEFjdFBseXIoKS5ic3RJY29uc1tjYXJkLnR5cGVdKys7XHJcblx0XHRcdGdldEFjdFBseXIoKS5saW1iby5wdXNoKE9iamVjdC5hc3NpZ24oeydpZCc6Z2VuX3VuaXF1ZV9pZCgpLCAnZmluRGVzdCc6J2Rpc2NhcmQnfSxnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3NbY2FyZC50eXBlXV0pKTtcclxuXHRcdFx0XHJcblx0XHRcdGdhbWUuc3RhY2tzLnBpbGVjb3VudFtjYXJkLnR5cGVdLS07XHJcblx0XHR9XHJcblx0XHRsZXQgWywsLi4uYXJyXSA9IGFyZ3VtZW50cztcclxuXHRcdGNhbGxiYWNrKGNhcmQsYXJyKTtcclxuXHR9O1xyXG5cdGxldCBkaXNjYXJkY2FyZHNmcm9taGFuZCA9IChjaG9pY2VzLCBjYWxsYmFjaz1udWxsKSA9PiB7XHJcblx0XHRpZihjaG9pY2VzWzBdLm5hbWUhPVwiU2tpcFwiKXtcclxuXHRcdFx0Y2hvaWNlcy5mb3JFYWNoKGNhcmQ9PmRpc2NhcmQoZ2V0QWN0UGx5cigpLmhhbmQsIGdldEFjdFBseXIoKS5kaXNjYXJkLCBjYXJkLmlkKSk7XHJcblx0XHR9XHJcblx0XHRsZXQgWywsLi4uYXJyXSA9IGFyZ3VtZW50cztcclxuXHRcdGNhbGxiYWNrKGNob2ljZXMsYXJyKTtcclxuXHR9O1xyXG5cdGxldCBwaGFzZWZpbmlzaGZ1bmN0aW9uID0gKHNlbmQgPSBmYWxzZSkgPT4ge1xyXG5cdFx0Z2FtZS5jdXJyZW50cGhhc2UgPSAoZ2FtZS5jdXJyZW50cGhhc2UgKyAxKSAlIGdhbWUuZ2FtZXNlcXVlbmNlLmxlbmd0aDsgXHJcblx0XHRsZXQganNvYmogPSBnYW1lLmdhbWVzZXF1ZW5jZVtnYW1lLmN1cnJlbnRwaGFzZV07XHJcblx0XHRsZXQgbmV4dHBoYXNlLG1zZztcclxuXHRcdGZvciAobGV0IGtleSBpbiBqc29iail7XHJcblx0XHRcdG1zZyA9IGtleVxyXG5cdFx0XHRuZXh0cGhhc2U9anNvYmpba2V5XTtcclxuXHRcdH1cclxuXHRcdGlmIChnYW1lLm5leHRwaGFzZSAhPT0gZW5kZ2FtZSl7XHJcblx0XHRcdGdhbWUubmV4dHBoYXNlID0gbmV4dHBoYXNlO1xyXG5cdFx0XHRnYW1lLm1lc3NhZ2V0b3BsYXllci5wdXNoKG1zZyk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmIChzZW5kKSBzZW5kc3RhdGUoKTtcclxuXHRcdGdhbWUubmV4dHBoYXNlKCk7XHJcblx0fTtcclxuXHRsZXQgZ2VuZ2FtZXNlcXVlbmNlID0gKCkgPT4ge1xyXG5cdFx0bGV0IF9nYW1lc2VxdWVuY2U9W107XHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1swXS5zdGFydF0sX2dhbWVzZXF1ZW5jZSk7XHJcblx0XHQvL2FyLiByYSwgYWFyLCBhcmEsIHJhYVxyXG5cdFx0X2dhbWVzZXF1ZW5jZSA9IGdzaGVscGVyKFsuLi5nYW1lLmdhbWVwaGFzZXNbMV0uYWN0aW9uXSxfZ2FtZXNlcXVlbmNlLCAoKT0+e3JldHVybiBnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlPT0nYWFyJ30pO1xyXG5cdFx0X2dhbWVzZXF1ZW5jZSA9IGdzaGVscGVyKFsuLi5nYW1lLmdhbWVwaGFzZXNbMV0uYWN0aW9uXSxfZ2FtZXNlcXVlbmNlLCAoKT0+e3JldHVybiBnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlPT0nYWFyJyB8fCBnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlPT0nYXInICB9KTtcclxuXHRcdFxyXG5cdFx0X2dhbWVzZXF1ZW5jZSA9IGdzaGVscGVyKFsuLi5nYW1lLmdhbWVwaGFzZXNbMl0ucm9sZV0sX2dhbWVzZXF1ZW5jZSk7XHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1szXS5sZWFkXSxfZ2FtZXNlcXVlbmNlKTtcclxuXHRcdGZvciAobGV0IGkgPSAxOyBpPGdhbWUubnVtYmVyX29mX3BsYXllcnM7IGkrKyl7XHJcblx0XHRcdF9nYW1lc2VxdWVuY2UgPSBnc2hlbHBlcihbLi4uZ2FtZS5nYW1lcGhhc2VzWzRdLmZvbGxvd10sX2dhbWVzZXF1ZW5jZSk7XHJcblx0XHR9XHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1sxXS5hY3Rpb25dLF9nYW1lc2VxdWVuY2UsICgpPT57cmV0dXJuIGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2U9PSdyYWEnIHx8IGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2U9PSdhcmEnICB9KTtcclxuXHRcdF9nYW1lc2VxdWVuY2UgPSBnc2hlbHBlcihbLi4uZ2FtZS5nYW1lcGhhc2VzWzFdLmFjdGlvbl0sX2dhbWVzZXF1ZW5jZSwgKCk9PntyZXR1cm4gZ2V0QWN0UGx5cigpLmFjdGlvbnJvbGVzZXF1ZW5jZT09J3JhYSd9KTtcclxuXHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1s1XS5kaXNjYXJkXSxfZ2FtZXNlcXVlbmNlKTtcclxuXHRcdF9nYW1lc2VxdWVuY2UgPSBnc2hlbHBlcihbLi4uZ2FtZS5nYW1lcGhhc2VzWzZdLmNsZWFudXBdLF9nYW1lc2VxdWVuY2UpO1xyXG5cdFx0Z2FtZS5nYW1lc2VxdWVuY2UgPSBfZ2FtZXNlcXVlbmNlO1xyXG5cdH07XHJcblx0bGV0IGdzaGVscGVyID0gKHNvdXJjZV9hcnJheSwgZGVzdGluYXRpb25fYXJyYXksIHdyYXBwZXJmdW5jdGlvbj1mYWxzZSkgPT4ge1xyXG5cdFx0Zm9yIChsZXQgaSBpbiBzb3VyY2VfYXJyYXkpe1xyXG5cdFx0XHRpZiAod3JhcHBlcmZ1bmN0aW9uKXtcclxuXHRcdFx0XHRsZXQganNvYmogPSBzb3VyY2VfYXJyYXlbaV07XHJcblx0XHRcdFx0bGV0IGZ1bmMsa2V5O1xyXG5cdFx0XHRcdGxldCBpdGVtID0ge307XHJcblx0XHRcdFx0Zm9yIChrZXkgaW4ganNvYmope1xyXG5cdFx0XHRcdFx0ZnVuYz1qc29ialtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpdGVtW2tleV0gPSAoKT0+e1xyXG5cdFx0XHRcdFx0aWYgKHdyYXBwZXJmdW5jdGlvbigpKXtcclxuXHRcdFx0XHRcdFx0ZnVuYygpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGRlc3RpbmF0aW9uX2FycmF5LnB1c2goaXRlbSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGVzdGluYXRpb25fYXJyYXkucHVzaChzb3VyY2VfYXJyYXlbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGVzdGluYXRpb25fYXJyYXk7XHJcblx0fTtcclxuXHRsZXQgZ2VubmV3ZGVjayA9ICgpID0+IHtcclxuXHRcdGxldCBkZWNrID0gIFtcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3Muc3VydmV5XSksXHJcblx0XHRcdE9iamVjdC5hc3NpZ24oeydpZCc6Z2VuX3VuaXF1ZV9pZCgpfSwgZ2FtZS5zdGFja3Mucm9sZWNhcmRzW2dhbWUuc3RhY2tzLnN1cnZleV0pLFxyXG5cdFx0XHRPYmplY3QuYXNzaWduKHsnaWQnOmdlbl91bmlxdWVfaWQoKX0sIGdhbWUuc3RhY2tzLnJvbGVjYXJkc1tnYW1lLnN0YWNrcy53YXJmYXJlXSksXHJcblx0XHRcdE9iamVjdC5hc3NpZ24oeydpZCc6Z2VuX3VuaXF1ZV9pZCgpfSwgZ2FtZS5zdGFja3Mucm9sZWNhcmRzW2dhbWUuc3RhY2tzLnByb2R1Y2V0cmFkZV0pLFxyXG5cdFx0XHRPYmplY3QuYXNzaWduKHsnaWQnOmdlbl91bmlxdWVfaWQoKX0sIGdhbWUuc3RhY2tzLnJvbGVjYXJkc1tnYW1lLnN0YWNrcy5wcm9kdWNldHJhZGVdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MuY29sb25pemVdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MuY29sb25pemVdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MucmVzZWFyY2hdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MucmVzZWFyY2hdKSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCdpZCc6Z2VuX3VuaXF1ZV9pZCgpLFxyXG5cdFx0XHRcdHR5cGUgOiAncG9saXRpY3MnLFxyXG5cdFx0XHRcdCdzZWxlY3RlZCc6ZmFsc2UsXHJcblx0XHRcdFx0YWN0aW9uIDogKGNhbGxiYWNrKT0+e1xyXG5cdFx0XHRcdFx0bGV0IGNhbGxiYWNrd3JhcHBlciA9ICgpPT57IFx0XHJcblx0XHRcdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nob2ljZW1hZGUnLGNhbGxiYWNrd3JhcHBlcik7XHJcblx0XHRcdFx0XHRcdHBvbGl0aWNzKGdldEFjdFBseXIoKS5hY3RpdmVhY3Rpb24sIGdhbWUuY2hvaWNlc1swXSwgZ2V0QWN0UGx5cigpKTtcclxuXHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuXHRcdFx0XHRcdH07XHRcclxuXHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHM9dHJ1ZTtcclxuXHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT0ncm9sZWNhcmRzJztcclxuXHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uYWxsb3dmb3JtdWx0aXBsZXNlbGVjdGlvbnM9ZmFsc2U7XHJcblx0XHRcdFx0XHRnYW1lLmRpc3BsYXlpbmZvLnNob3dvcHRpb250b3NraXA9ZmFsc2U7XHJcblx0XHRcdFx0XHRnYW1lLm1lc3NhZ2V0b3BsYXllci5wdXNoKCdjaG9vc2UgYSBjYXJkIGZyb20gdGhlIGNlbnRlciByb3cgdG8gYWRkIHRvIHlvdXIgaGFuZCcpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hvaWNlbWFkZScsY2FsbGJhY2t3cmFwcGVyKTtcclxuXHRcdFx0XHRcdHByZXNlbnRfYXNfY2hvaWNlKGdhbWUuc3RhY2tzLnJvbGVjYXJkcyk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRyb2xlIDogbnVsbCxcclxuXHRcdFx0XHRpY29ucyA6IHsnc3VydmV5JzowLCd3YXJmYXJlJzowLCdjb2xvbml6ZSc6MCwncHJvZHVjZSc6MCwndHJhZGUnOjAsJ3Jlc2VhcmNoJzowLCdwb2xpdGljcyc6MX0sXHJcblx0XHRcdFx0bmFtZSA6ICdQb2xpdGljcycsXHJcblx0XHRcdFx0aW1hZ2UgOiBudWxsXHJcblx0XHRcdH1cclxuXHRcdF07XHJcblx0XHRyZXR1cm4gZGVjaztcclxuXHR9O1xyXG5cdGxldCBwaGFzZWluY3JlbWVudCA9ICgpID0+IGdhbWUuY3VycmVudHBoYXNlKys7XHJcblx0bGV0IG5ld2dhbWUgPSAobnVtYmVyX29mX3BsYXllcnMpID0+IHtcclxuXHRcdGxvYmJ5Lm9ubGluZT10cnVlO1xyXG5cdFx0aW5pdGdhbWUobnVtYmVyX29mX3BsYXllcnMpO1xyXG5cdFx0aW5pdFNvY2tldCgoKT0+d3MuZW1pdCgnbWVzc2FnZScsanN0cih7J2hlYWRlcic6J25ld2dhbWUnLGdhbWU6Z2FtZSxzZXRzOmxvYmJ5LnNldHMsbnVtYmVyX29mX3BsYXllcnM6Z2FtZS5wbGF5ZXJzLmxlbmd0aH0pKSk7XHJcblx0XHRcclxuXHR9O1xyXG5cdGxldCBpbml0U29ja2V0ID0gKGZ1bmMpID0+IHtcclxuXHRcdGxldCBwaW5nID0gKCkgPT4geyBzZXRUaW1lb3V0KCAoKSA9PiB7IHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoe2hlYWRlcjoncGluZyd9KSk7IHBpbmcoKTsgfSwyMDAwKTsgfTtcclxuXHRcdHdzID0gaW8oKTtcclxuXHRcdHdzLm9uKCdjb25uZWN0JywoKT0+eyBsb2coJ2Nvbm5lY3RlZCcpO1xyXG5cdFx0XHR3cy5vbignaWQnLChtc2cpPT57IGxvZygnaWQnKTtcclxuXHRcdFx0XHRsb2coanBycyhtc2cpKTtcclxuXHRcdFx0XHRnYW1lID0gey4uLmdhbWUsXHJcblx0XHRcdFx0XHRnYW1lX2lkOmpwcnMobXNnKSxcclxuXHRcdFx0XHRcdGhhZGVyOicnLFxyXG5cdFx0XHRcdFx0Y3VycmVudHBoYXNlOmdhbWUuY3VycmVudHBoYXNlKzF9O1xyXG5cdFx0XHRcdGxvYmJ5ID0gey4uLmxvYmJ5LFxyXG5cdFx0XHRcdFx0ZXhpc3RpbmdnYW1lczpbLi4ubG9iYnkuZXhpc3RpbmdnYW1lcywgZ2FtZV0sXHJcblx0XHRcdFx0XHRvbmxpbmU6dHJ1ZX07XHJcblx0XHRcdFx0cmVnaXN0ZXJ3cygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0d3Mub24oJ2ZldGNoJywobXNnKT0+eyBsb2coJ2ZldGNoJyk7XHJcblx0XHRcdFx0bG9nKGpwcnMobXNnKSk7XHJcblx0XHRcdFx0Z2FtZS5jdXJyZW50cGhhc2UgPSAtMTtcclxuXHRcdFx0XHRsb2JieSA9IHsuLi5sb2JieSxcclxuXHRcdFx0XHRcdGV4aXN0aW5nZ2FtZXM6IGpwcnMobXNnKS5tYXAoZWw9PmVsLmdhbWUpLmZpbHRlcihnPT5nLnBsYXllcnMuZmlsdGVyKGxsPT5sbC5hdmFpbGFibGUpLmxlbmd0aCA+IDApLFxyXG5cdFx0XHRcdFx0b25saW5lOnRydWV9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR3cy5vbignZW50ZXInLChtc2cpPT57IGxvZygnZW50ZXInKTtcclxuXHRcdFx0XHRsb2coanBycyhtc2cpKTtcclxuXHRcdFx0XHRnYW1lID0gey4uLmpwcnMobXNnKSxwaGFzc2U6Z2FtZS5waGFzZXMsZ2FtZXNlcXVlbmNlOmdhbWUuZ2FtZXNlcXVlbmNlfTtcclxuXHRcdFx0XHRsb2JieSA9IHsgLi4ubG9iYnksXHJcblx0XHRcdFx0XHRvbmxpbmU6dHJ1ZSxcclxuXHRcdFx0XHRcdHBsYXllcl9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgMTApXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR3cy5vbignam9pbicsKG1zZyk9PnsgbG9nKCdqb2luJyk7XHJcblx0XHRcdFx0bXNnID0ganBycyhtc2cpO1xyXG5cdFx0XHRcdGxvZyhtc2cpO1xyXG5cdFx0XHRcdGdhbWUucGxheWVyc1ttc2cuc2xvdF0gPSBtc2cucGxheWVyO1xyXG5cdFx0XHRcdGxvZygnYXZhaWxhYmxlIHNsb3RzOiAnLCBnYW1lLnBsYXllcnMucmVkdWNlKChhY2MsY3VyKT0+YWNjICsgKGN1ci5hdmFpbGFibGUpID8gMSA6IDAsMCkpO1xyXG5cdFx0XHRcdGlmIChnYW1lLnBsYXllcnMucmVkdWNlKChhY2MsY3VyKT0+YWNjICsgKGN1ci5hdmFpbGFibGUpID8gMSA6IDAsMCkgPT0gMCkgZmluaXNoKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR3cy5vbignc2V0JywobXNnKT0+eyAvL2xvZygnc2V0Jyk7IFxyXG5cdFx0XHRcdGxvZyhqcHJzKG1zZykpO1xyXG5cdFx0XHRcdGdhbWUgPSB7Li4uanBycyhtc2cpLHBoYXNzZTpnYW1lLnBoYXNlcyxnYW1lc2VxdWVuY2U6Z2FtZS5nYW1lc2VxdWVuY2V9O1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0ZnVuYygpO1xyXG5cdFx0XHRwaW5nKCk7XHJcblx0XHR9KVxyXG5cdH1cclxuXHRsZXQgZmV0Y2hleGlzdGluZ2dhbWVzID0gKCkgPT4gaW5pdFNvY2tldCgoKT0+IHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoeydoZWFkZXInOidmZXRjaGV4aXN0aW5nJ30pKSk7XHJcblx0bGV0IGVudGVyZXhpc3RpbmdnYW1lID0gKGcpID0+IHtcclxuXHRcdGxldCBzbG90ID0gZy5wbGF5ZXJzLmZpbmRJbmRleChwPT5wLmF2YWlsYWJsZSk7XHJcblx0XHRpZiAoIWxvYmJ5LmluaXQpIGluaXRnYW1lKGcubnVtYmVyX29mX3BsYXllcnMpOyBcclxuXHRcdHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoeydoZWFkZXInOidlbnRlcmV4aXN0aW5nJyxnYW1lX2lkOmcuZ2FtZV9pZCxwbGF5ZXJfbmFtZTpsb2JieS5zY3JlZW5hbWUsc2xvdDpzbG90fSkpO1xyXG5cdH07XHJcblx0bGV0IHNlbmRzdGF0ZSA9ICgpID0+IGxvYmJ5Lm9ubGluZSAmJiB3cy5lbWl0KCdtZXNzYWdlJyxqc3RyKHsuLi5nYW1lLCdoZWFkZXInOidzZXQnLCdzZW5kZXInOmxvYmJ5LnBsYXllcl9pZH0pKTtcclxuXHRsZXQgcmVnaXN0ZXJ3cyA9ICgpID0+IHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoey4uLmdhbWUsJ2hlYWRlcic6J3JlZ2lzdGVyJywnc2VuZGVyJzpsb2JieS5wbGF5ZXJfaWR9KSk7XHJcblx0bGV0IGluaXRnYW1lID0gKG51bWJlcl9vZl9wbGF5ZXJzKSA9PiB7XHJcblx0XHRnYW1lLmxhYmVsID0gbG9iYnkuc2NyZWVubmFtZTtcclxuXHRcdGxvYmJ5LmluaXQ9dHJ1ZTtcclxuXHRcdGdlbnBsYW5ldGRlY2soKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyX29mX3BsYXllcnM7IGkrKyl7XHJcblx0XHRcdGdlbnBsYXllcihpKTtcclxuXHRcdH1cclxuXHRcdGdlbl9yZXNlYXJjaF9kZWNrKCk7XHJcblx0XHRnZW5nYW1lc2VxdWVuY2UoKTtcclxuXHRcdGlmICghbG9iYnkub25saW5lKSB7XHJcblx0XHRcdGdlbl9nYW1lX2lkKCk7XHJcblx0XHRcdGdlbl9wbGF5ZXJfbmFtZXMoKTtcclxuXHRcdH0gXHJcblx0fTtcclxuXHRsZXQgZ2VuX3BsYXllcl9uYW1lcyA9ICgpID0+IGdhbWUucGxheWVycy5mb3JFYWNoKChwbHlyLGkpPT5wbHlyLm5hbWUgPSAnUGxheWVyICcrKGkrMSkpO1xyXG5cdGxldCB0b2dnbGVfY2VudGVyX29yX3BsYW5ldHMgPSAoKSA9PiBnYW1lLmRpc3BsYXlpbmZvLmNlbnRlcl9vcl9wbGFuZXRzID0gIWdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHM7XHJcblx0bGV0IHRvZ2dsZXBhc3N0b3BsYXllciA9ICgpID0+IHtcclxuXHRcdGdhbWUucGFzc3RvcGxheWVyID0gIWdhbWUucGFzc3RvcGxheWVyO1xyXG5cdFx0b3BlbkZ1bGxzY3JlZW4oKTtcclxuXHR9O1xyXG5cdGxldCBjbGFzc19nZW4gPSAoem9uZSwgaXRlbSkgPT4gKGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT09em9uZSkgPyAoKGl0ZW0uc2VsZWN0ZWQpID8gXCJzZWxlY3RlZFwiIDogXCJzZWxlY3RhYmxlXCIgKSAgOiBcImJvcmRlcmVkXCI7XHJcblx0XHJcblx0bGV0IGdlbl9nYW1lX2lkID0gKCkgPT4ge1xyXG5cdFx0Z2FtZS5nYW1lX2lkID0nJztcclxuXHRcdGdhbWUuZ2FtZV9pZCArPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgMTApO1xyXG5cdH07XHJcblx0bGV0IGtudXRoc2h1ZmZsZSA9IChhcnJheSkgPT4ge1xyXG5cdFx0bGV0IGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aDtcclxuXHRcdGxldCB0ZW1wb3JhcnlWYWx1ZSwgcmFuZG9tSW5kZXg7XHJcblx0XHQvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxyXG5cdFx0d2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xyXG5cdFx0XHQvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cclxuXHRcdFx0cmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xyXG5cdFx0XHRjdXJyZW50SW5kZXggLT0gMTtcclxuXHJcblx0XHRcdC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuXHRcdFx0dGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xyXG5cdFx0XHRhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xyXG5cdFx0XHRhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBhcnJheTtcclxuXHR9O1xyXG5cdGxldCBkcmFnID0gKGV2dCxpdGVtKSA9PiAoKSA9PiBnYW1lLmRpc3BsYXlpbmZvLmRyYWdnZWQ9aXRlbTtcclxuXHRsZXQgZHJvcCA9IChldnQsem9uZSkgPT4gKCkgPT4ge1xyXG5cdFx0bGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllZGNhcmRzJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0XHRpZiAoZXZ0LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggPiBlbC5sZWZ0XHJcblx0XHQmJiBldnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCA8IGVsLmxlZnQrIGVsLndpZHRoXHJcblx0XHQmJiBldnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSA8IGVsLnRvcCtlbC5oZWlnaHRcclxuXHRcdCYmIGV2dC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZID4gZWwudG9wKXtcclxuXHRcdFx0aWYoZ2FtZS5kaXNwbGF5aW5mby5kcmFnZ2VkIT09bnVsbCkgXHJcblx0XHRcdFx0Y2hvb3Nld3JhcHBlcihnYW1lLmRpc3BsYXlpbmZvLmRyYWdnZWQsem9uZSk7XHJcblx0XHRcdGdhbWUuZGlzcGxheWluZm8uZHJhZ2dlZCE9bnVsbDtcclxuXHRcdH1cclxuXHRcdGxldCBsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcmFnZ2VkJyk7XHJcblx0XHRsbC5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI7XHJcblx0fTtcclxuXHRsZXQgbW92ZSA9IChldnQsIGltZykgPT4gKCkgPT4ge1xyXG5cdFx0bGV0IHRvdWNoID0gZXZ0LnRhcmdldFRvdWNoZXNbMF07XHJcblx0XHQvLyBQbGFjZSBlbGVtZW50IHdoZXJlIHRoZSBmaW5nZXIgaXNcclxuXHRcdGxldCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcmFnZ2VkJyk7XHJcblx0XHRlbC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuXHRcdGVsLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCI7XHJcblx0XHRlbC5zdHlsZS50b3AgPSB0b3VjaC5wYWdlWS03NSsncHgnO1xyXG5cdFx0ZWwuc3R5bGUubGVmdCA9IHRvdWNoLnBhZ2VYLTUwKydweCc7XHJcblx0XHRlbC5zdHlsZS53aWR0aCA9IFwiMTAwcHhcIjtcclxuXHRcdGVsLnN0eWxlLmhlaWdodCA9IFwiMTM3cHhcIjtcclxuXHRcdGVsLnN0eWxlLnpJbmRleCA9IFwiNFwiO1xyXG5cdFx0ZWwuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKCdcIitpbWcrXCInKVwiO1xyXG5cdH07XHJcblx0bGV0IG5ld29mZmxpbmUgPSAoKSA9PiB7XHJcblx0XHRsb2JieS5vbmxpbmU9ZmFsc2U7XHJcblx0XHRnYW1lLmN1cnJlbnRwaGFzZSA9IDA7XHJcblx0XHRpbml0Z2FtZSgyKTtcclxuXHRcdGZpbmlzaCgpOztcclxuXHR9O1xyXG5cdGxldCBzZXRwbGF5ZXJuYW1lID0gKG5hbWUpID0+IHtcclxuXHRcdGxvYmJ5LnNjcmVlbmFtZSA9IG5hbWU7XHJcblx0XHRwaGFzZWluY3JlbWVudCgpO1xyXG5cdH07XHJcblx0bGV0IG9wZW5GdWxsc2NyZWVuID0gKCkgPT4ge1xyXG5cdFx0bGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcmVlblwiKTtcclxuXHRcdGlmIChlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKSB7XHJcblx0XHRlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKCk7XHJcblx0XHR9IGVsc2UgaWYgKGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHsgLyogRmlyZWZveCAqL1xyXG5cdFx0ZWxlbS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xyXG5cdFx0fSBlbHNlIGlmIChlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7IC8qIENocm9tZSwgU2FmYXJpIGFuZCBPcGVyYSAqL1xyXG5cdFx0ZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG5cdFx0fSBlbHNlIGlmIChlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHsgLyogSUUvRWRnZSAqL1xyXG5cdFx0ZWxlbS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcblx0LnNob3cge1xyXG5cdFx0ICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdFx0dG9wOiAyMHZoO1xyXG5cdFx0XHRoZWlnaHQ6IDI1dmg7XHJcblx0XHRcdHdpZHRoOiAyNXZoO1xyXG5cdFx0XHRiYWNrZ3JvdW5kOiByZ2IoODAsODAsODApO1xyXG5cdFx0XHRib3JkZXItcmFkaXVzOiAwJSA1MCUgNTAlIDAlO1xyXG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0Y29sb3I6cmdiKDQ5LCAxNTgsIDE3Nyk7XHJcblx0XHRcdHotaW5kZXg6MjtcclxuXHR9XHJcblx0LnBsYXllciB7XHJcblx0XHRib3JkZXItcmFkaXVzOiA1dmg7XHJcblx0XHRiYWNrZ3JvdW5kOiByZ2IoODAsODAsODApO1xyXG5cdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHRcclxuXHR9XHJcblx0LnN0YXJzIHtcclxuXHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0dG9wOiA1MCU7XHJcblx0bGVmdDogNTAlO1xyXG5cdHdpZHRoOiAycHg7XHJcblx0aGVpZ2h0OiAycHg7XHJcblx0Ym94LXNoYWRvdzogNjg2cHggNDY2cHggI2Q0ZDRkNCwgNjMwcHggMzY1cHggd2hpdGVzbW9rZSwgMTE0MHB4IDIyNHB4ICNlZGVkZWQsIDEwNDhweCAzNDRweCB3aGl0ZSwgODU3cHggNzBweCAjZTNlM2UzLCA2NTFweCA0MDBweCAjZGJkYmRiLCA0MzFweCAtMTA3cHggI2QxZDFkMSwgLTE0NHB4IDE1MXB4ICNkNGQ0ZDQsIDEzOXB4IDQwMnB4ICNmN2Y3ZjcsIDEwOTBweCAtMTYwcHggI2M5YzljOSwgMTQ4OXB4IDc1cHggI2Q2ZDZkNiwgLTQwNHB4IC0xMTNweCAjZTBlMGUwLCAtOTRweCAtMzU4cHggI2ZhZmFmYSwgNjkycHggLTIxMXB4ICNmY2ZjZmMsIDE0MTRweCA0MDNweCAjZTNlM2UzLCA0NDVweCAtNDY5cHggd2hpdGVzbW9rZSwgNDM3cHggLTE3M3B4ICNjZmNmY2YsIC0xNDc0cHggNzlweCAjZThlOGU4LCAyODZweCAtMzcwcHggI2UzZTNlMywgLTM4OXB4IC03NHB4ICNmMmYyZjIsIC0zODZweCAyMzBweCAjY2NjY2NjLCAxMjg5cHggLTQxNXB4ICNmMGYwZjAsIDU2NnB4IDZweCAjZDFkMWQxLCA2NDVweCA1M3B4ICNmN2Y3ZjcsIDkwcHggLTIzMnB4ICNkNGQ0ZDQsIDg2OHB4IDIxNHB4ICNkZWRlZGUsIDYzM3B4IC0xMjZweCAjYzRjNGM0LCAtMTQzMnB4IC0zMjRweCAjYzRjNGM0LCA0ODZweCAtMTFweCAjZjBmMGYwLCAxNDg0cHggMzM4cHggI2YyZjJmMiwgMTQ5NnB4IC0xMjdweCAjZThlOGU4LCA1ODdweCAtNDQ2cHggI2YwZjBmMCwgNjk1cHggLTE0MnB4ICNlNmU2ZTYsIDExNDVweCAxNHB4ICNmMGYwZjAsIDMzOXB4IC0zNnB4ICNkNGQ0ZDQsIDE5M3B4IC0zMzdweCAjZWJlYmViLCAtMTM2NHB4IC00NTNweCAjZWJlYmViLCAyODdweCAtMjUycHggd2hpdGVzbW9rZSwgODg4cHggOTRweCAjZmFmYWZhLCA0ODVweCAxNDhweCAjYzRjNGM0LCAtNjE5cHggLTI2cHggI2Q2ZDZkNiwgLTEwMTZweCAtMjUxcHggI2M5YzljOSwgLTM2OXB4IC0zODdweCAjZTNlM2UzLCAtODdweCAtNDMzcHggI2YyZjJmMiwgLTEyOHB4IDE2MnB4ICNlZGVkZWQsIDI4NXB4IDQ2OHB4ICNjZmNmY2YsIC03MTVweCAtNDQ3cHggI2NmY2ZjZiwgMTEyNHB4IC00MDRweCAjZDlkOWQ5LCAxMjA5cHggMjQ4cHggI2U2ZTZlNiwgODMxcHggLTQ1OXB4ICNmN2Y3ZjcsIC0xMzIwcHggMzkwcHggI2ZhZmFmYSwgLTQxNnB4IDE4OXB4ICNlYmViZWIsIC0xNDQ1cHggLTJweCAjZDZkNmQ2LCAtNzY1cHggLTE4MXB4ICNlM2UzZTMsIC0yMTdweCAtNDcxcHggI2VkZWRlZCwgMTI4M3B4IDc2cHggI2U2ZTZlNiwgLTcxOHB4IC00NzRweCAjZTBlMGUwLCAxOThweCAtNzFweCAjZGJkYmRiLCAxMDA5cHggLTIwMHB4ICNmMmYyZjIsIC0xNDE4cHggMjAwcHggI2Q0ZDRkNCwgMTM1NHB4IC0zNDlweCAjZGVkZWRlLCAtOTM0cHggMjQzcHggI2NmY2ZjZiwgLTExNnB4IDQ2NXB4ICNlOGU4ZTgsIC0zMTRweCA0NDZweCAjYzljOWM5LCAtMzM4cHggLTMxMXB4ICNkYmRiZGIsIDMwN3B4IDkycHggI2ZjZmNmYywgLTE0MTRweCA0MTJweCAjYzRjNGM0LCAtMTI5NnB4IDQ3MnB4ICNmY2ZjZmMsIC03ODdweCAtNzZweCAjZTBlMGUwLCAtMzk4cHggNDY2cHggI2RiZGJkYiwgLTUzMnB4IDE0NHB4ICNkNmQ2ZDYsIC0xNDQ5cHggLTE0M3B4ICNjN2M3YzcsIDc1NXB4IC0xMDFweCAjZDlkOWQ5LCAyMjJweCAzNTVweCAjZGJkYmRiLCAtMTE0NXB4IC0zMThweCAjZDRkNGQ0LCAzNTVweCAtNDYzcHggd2hpdGVzbW9rZSwgLTgwN3B4IC0zMzZweCB3aGl0ZSwgLTM5OHB4IC00NzFweCAjYzRjNGM0LCAtOTM1cHggMTUycHggI2Q0ZDRkNCwgMTA4MnB4IDE2NnB4ICNkMWQxZDEsIDQ1NnB4IC0xNTlweCAjZGVkZWRlLCAtODE4cHggMjcwcHggI2RiZGJkYiwgNjNweCAyNzBweCB3aGl0ZSwgNjBweCAzcHggI2M5YzljOSwgNTYwcHggMTczcHggd2hpdGVzbW9rZSwgMTIxN3B4IC0yOTJweCAjZWJlYmViLCAtOTEzcHggLTQxOXB4ICNjMmMyYzIsIC03OTBweCAtMzg2cHggI2U2ZTZlNiwgOTg4cHggLTQ3MnB4ICNjZmNmY2YsIC0zMThweCAtNDc2cHggI2YyZjJmMiwgLTE3OXB4IC0yODJweCAjZjdmN2Y3LCAxMDc5cHggLTI3cHggI2ZhZmFmYSwgLTExNzlweCAtNDY2cHggI2NjY2NjYywgMzIycHggLTE5M3B4ICNjN2M3YzcsIC01NDVweCAtMjY5cHggI2NjY2NjYywgLTExODhweCAzMThweCAjZTBlMGUwLCAxOXB4IDIyN3B4ICNkOWQ5ZDksIC0xMTQxcHggLTQzN3B4ICNkOWQ5ZDksIDQ3NXB4IDg2cHggI2NmY2ZjZiwgOTNweCAyMDhweCAjZmNmY2ZjLCAtNzM0cHggLTIyMnB4ICNmY2ZjZmMsIC00ODdweCA2MXB4ICNlYmViZWIsIDExMzZweCAxMDdweCAjZDZkNmQ2LCAyMTFweCAtMjkxcHggI2ViZWJlYiwgLTEwMDNweCA5MXB4ICNjMmMyYzIsIDEzNzlweCA0NjJweCAjZThlOGU4LCAtODVweCAtNDEycHggI2U4ZThlOCwgNTQ5cHggLTEyOXB4ICNjZmNmY2YsIC0yNjlweCAtNDI4cHggI2M0YzRjNCwgLTQ0MnB4IDI4MXB4ICNjMmMyYzIsIC0xMTZweCAtMTg2cHggI2MyYzJjMiwgLTEwOTJweCAyNTJweCAjZThlOGU4LCA1OThweCAtNDdweCAjYzRjNGM0LCA1OTlweCA0MzBweCAjZTBlMGUwLCA5NDZweCAyMjVweCAjZTNlM2UzLCA5OTRweCAtNDQxcHggI2M5YzljOSwgLTI2NXB4IDRweCAjZDRkNGQ0LCAxMzc2cHggLTQ1NHB4ICNkOWQ5ZDksIC05NjNweCAtMjI0cHggd2hpdGUsIC0yMDJweCAtMjIzcHggI2NmY2ZjZiwgMTAwNXB4IC0yMDFweCAjZTNlM2UzLCAtNjU5cHggLTMwMnB4ICNmMmYyZjIsIC0zMjVweCAzOTdweCAjYzJjMmMyLCAtNDRweCAtMzkxcHggI2MyYzJjMiwgMjI4cHggLTIyM3B4ICNkZWRlZGUsIC02MDNweCAyMjFweCAjZGVkZWRlLCAtMTQ3cHggLTM5N3B4ICNjOWM5YzksIDc1cHggLTM5NHB4ICNkOWQ5ZDksIC0zMDhweCAyMzlweCAjZjBmMGYwLCAtODA3cHggLTc0cHggI2RiZGJkYiwgLTg1N3B4IC0yMzVweCAjZjBmMGYwLCAxMDU1cHggNDY1cHggI2Q5ZDlkOSwgMzA3cHggMjUycHggI2NjY2NjYywgLTEyNDlweCAyNXB4ICNkMWQxZDEsIDY2OXB4IDMwNHB4ICNkYmRiZGIsIC03MzhweCAtMzQxcHggI2YwZjBmMCwgLTEwNjNweCAtMjBweCAjZWJlYmViLCAtMTQ3NnB4IC0yNzFweCAjZThlOGU4LCAtMjBweCAtNDE1cHggI2NjY2NjYywgLTEwMTBweCAzMzhweCAjZDRkNGQ0LCAtMTY2cHggLTNweCAjY2ZjZmNmLCAxMjlweCA3cHggI2UwZTBlMCwgNjE4cHggMTBweCAjZWRlZGVkLCAtMTQ4MXB4IC0yNzNweCAjZjJmMmYyLCAtOTY1cHggLTE5M3B4ICNjNGM0YzQsIDEyNzFweCA0MzFweCAjZjJmMmYyLCA5OTFweCAtMzE1cHggI2M0YzRjNCwgLTkxOHB4IDI3MHB4ICNkMWQxZDEsIC0xMTcycHggLTIxNnB4ICNlYmViZWIsIDE0ODNweCA0NDlweCAjZGVkZWRlLCA3MjhweCAxMDRweCAjZTZlNmU2LCAxNDRweCAtMzY2cHggd2hpdGUsIC02NTZweCA0MnB4ICNmMmYyZjIsIC01MjdweCAtMzcxcHggI2Y3ZjdmNywgNzZweCAyMzFweCAjZDFkMWQxLCAxMDczcHggLTE4M3B4ICNlZGVkZWQsIDUyMHB4IDEyMHB4ICNlM2UzZTMsIC0xNjNweCAxNnB4ICNjY2NjY2MsIC0xMzY3cHggODJweCAjZDZkNmQ2LCAtNDg0cHggLTEzMXB4IHdoaXRlc21va2UsIDI3OXB4IC00MzVweCAjZThlOGU4LCA0NDZweCAtMTQ5cHggI2UwZTBlMCwgLTczNXB4IDM3OXB4ICNlZGVkZWQsIC03OTRweCAtNDQycHggI2YyZjJmMiwgMTMxNHB4IDQ1MnB4ICNjMmMyYzIsIC0xMTQ2cHggLTY1cHggI2Q2ZDZkNiwgLTZweCAtMzkwcHggI2ZhZmFmYSwgNTI0cHggLTE4M3B4ICNjY2NjY2MsIDY0MXB4IC0xNDhweCAjZTNlM2UzLCA4MjdweCAtMzQxcHggI2RlZGVkZSwgMTUwcHggMTUwcHggI2Q0ZDRkNCwgLTEyMDZweCA0MTdweCAjY2NjY2NjLCAtODZweCAtNDUxcHggI2QxZDFkMSwgMTE0NHB4IC0yMnB4ICNlMGUwZTAsIC0zMzZweCAtMTQ0cHggI2MyYzJjMiwgNDM2cHggMTczcHggI2MyYzJjMiwgNTA2cHggLTMxOHB4ICNmYWZhZmEsIDE2N3B4IDkwcHggI2NjY2NjYywgMTI4cHggMjIwcHggI2ViZWJlYiwgLTM0NHB4IDQyNHB4ICNjMmMyYzIsIDYwOXB4IDM5M3B4ICNmY2ZjZmMsIDI5OHB4IDIxMXB4ICNjMmMyYzIsIC01OTVweCAtMzM5cHggI2NjY2NjYywgMTE4NHB4IC0zMzhweCAjYzdjN2M3LCAtMTE0OXB4IDExOHB4ICNkYmRiZGIsIC04OTFweCAxNHB4ICNlYmViZWIsIDEwN3B4IC00MTlweCAjZDlkOWQ5LCAtMjMzcHggLTMzMHB4ICNmMGYwZjAsIC0xNDU3cHggNDQzcHggI2RlZGVkZSwgLTIxN3B4IDg2cHggI2Q0ZDRkNCwgMTE0MnB4IDgzcHggI2M0YzRjNCwgNjIzcHggMzA5cHggI2Y3ZjdmNywgNTAzcHggLTIxNnB4ICNlOGU4ZTgsIC05ODlweCAtMTc2cHggI2ViZWJlYiwgLTI2OXB4IDI5MXB4ICNlM2UzZTMsIDQ4M3B4IDIycHggI2ZjZmNmYywgMTI5MHB4IDMwMnB4ICNjY2NjY2MsIC0xMDE2cHggLTI3M3B4ICNjN2M3YzcsIC0xNDI2cHggLTY1cHggI2UzZTNlMywgMTYycHggLTM0MXB4ICNjN2M3YzcsIC0xMDNweCAzMzVweCAjZGJkYmRiLCA5NDRweCAtNDQxcHggI2UzZTNlMywgMTE1MXB4IDE2M3B4ICNlOGU4ZTgsIC0xMTEwcHggLTQycHggI2NmY2ZjZiwgLTkwMXB4IDE1cHggI2M0YzRjNCwgMTc5cHggNjBweCAjZGJkYmRiLCA2OTVweCAtMzIwcHggI2UzZTNlMywgLTkyM3B4IC0zNDhweCB3aGl0ZSwgMTEwMnB4IDM3M3B4ICNlMGUwZTAsIC04MjNweCAxNTRweCB3aGl0ZXNtb2tlLCAtNjk1cHggNDI0cHggI2YyZjJmMiwgMTQyMXB4IC0zMzZweCAjZDlkOWQ5LCAtOTQ3cHggLTQ3MXB4ICNmY2ZjZmMsIDEyNjdweCAtNDEwcHggI2ZhZmFmYSwgMTQwcHggLTQ3MHB4ICNkMWQxZDEsIC05MzFweCAtNDc2cHggI2Q0ZDRkNCwgNjUwcHggLTM1NHB4ICNjN2M3YzcsIC04MzhweCAtNDI2cHggI2RlZGVkZSwgODEwcHggMzM5cHggI2QxZDFkMSwgLTE0MDVweCAzNDNweCAjZDlkOWQ5LCAxODNweCAtMTdweCAjZTNlM2UzLCAtMTI3NXB4IC0yMzdweCAjZjJmMmYyLCAtNjY2cHggLTc0cHggd2hpdGUsIC0xMTU1cHggNjFweCAjZTZlNmU2LCAtMTQ3OHB4IDQ4cHggI2ViZWJlYiwgLTE0NnB4IDI4OHB4ICNmMGYwZjAsIDkzNnB4IC0yNzdweCAjZTNlM2UzLCA3NzBweCA0MDlweCAjZDZkNmQ2LCA5MzVweCA0NDNweCAjYzRjNGM0LCAtNjE2cHggLTQwOHB4ICNmMGYwZjAsIC05N3B4IC0yNjhweCAjYzljOWM5LCAtNnB4IC0yOTJweCB3aGl0ZSwgMTBweCAyNjJweCAjZWJlYmViLCA3OTFweCA0MzhweCAjZjJmMmYyLCA0NzBweCAtMzRweCAjZDZkNmQ2LCA2NzlweCAtMjk4cHggI2Q2ZDZkNiwgMTI3MXB4IC0zMDNweCB3aGl0ZXNtb2tlLCA0ODBweCAxNjZweCAjZTBlMGUwLCAtNTAycHggLTI0MXB4ICNkOWQ5ZDksIDU5OXB4IC00MzVweCAjZDFkMWQxLCAxMzE3cHggMTc2cHggI2MyYzJjMiwgMTEyNHB4IC0xMjZweCAjZDZkNmQ2LCAxN3B4IC0zNThweCAjYzJjMmMyLCAxMzY0cHggMjMycHggI2NjY2NjYywgLTExNzZweCAtMjQ4cHggI2MyYzJjMiwgMTE3OHB4IC0xNzVweCB3aGl0ZSwgODRweCAtOThweCAjYzljOWM5LCAtNDk0cHggMzA1cHggI2NjY2NjYywgLTQ2NHB4IDQ3NnB4IHdoaXRlc21va2UsIDI2OXB4IC0yNTBweCAjZTNlM2UzLCAtMzgxcHggNTlweCAjZTNlM2UzLCA4MDVweCAtMjQ3cHggI2U4ZThlOCwgMTAzcHggLTYwcHggI2Q2ZDZkNiwgLTEzNjhweCAtMjEwcHggI2YwZjBmMCwgMzA0cHggMzlweCB3aGl0ZXNtb2tlLCAxMTg5cHggNDU3cHggI2Q5ZDlkOSwgLTExNzFweCA0NDdweCAjZWJlYmViLCAtMTQ0N3B4IC0yNXB4ICNmMmYyZjIsIC01MDdweCAtMzQ3cHggI2Y3ZjdmNywgODM1cHggLTQ3M3B4ICNjZmNmY2YsIDU0NHB4IDEzM3B4ICNjY2NjY2MsIC0yNTRweCAzNnB4ICNjOWM5YzksIC0xMzRweCA0cHggI2Q5ZDlkOSwgLTcyN3B4IC04OHB4ICNlZGVkZWQsIDIwMHB4IDkycHggI2Y3ZjdmNywgLTEzNzJweCAtOTNweCAjZTZlNmU2LCAtMTZweCAtMTdweCAjZDFkMWQxLCA3MDdweCAtMTUycHggI2NmY2ZjZiwgLTQ0MnB4IDMxMXB4ICNjNGM0YzQsIC03N3B4IDExMnB4ICNlYmViZWIsIC0xNDg4cHggMjI2cHggI2MyYzJjMiwgLTExNTFweCA0MzFweCB3aGl0ZSwgMTE4MHB4IC05NXB4ICNkNmQ2ZDYsIC04MzZweCAtMjYzcHggI2YyZjJmMiwgLTM1cHggMzI3cHggI2ZhZmFmYSwgMTI0MnB4IC0yMzhweCAjZThlOGU4LCAtNjc5cHggLTI3M3B4ICNjNGM0YzQsIDI5NnB4IDQwMXB4ICNjZmNmY2YsIC03MjRweCA3MHB4ICNmMGYwZjAsIC0xMzUwcHggLTE3MXB4ICNmMGYwZjAsIDUzcHggMTEzcHggd2hpdGVzbW9rZSwgMTExMnB4IC0yMDdweCAjZmFmYWZhLCAyNzZweCAtNDM3cHggI2Q5ZDlkOSwgNTEzcHggNDI5cHggd2hpdGVzbW9rZSwgMzBweCAzNDNweCAjY2NjY2NjLCA2MHB4IDg2cHggI2RiZGJkYiwgNjU0cHggLTE1N3B4ICNmMmYyZjIsIDk3MHB4IDI5OXB4ICNjZmNmY2YsIC0xMjQ3cHggLTI2NHB4ICNlYmViZWIsIC02OTdweCAzMDFweCAjYzdjN2M3LCAtMjA1cHggNTBweCAjZWJlYmViLCAtMzMycHggMTkycHggI2ZjZmNmYywgMTA3N3B4IC0zNzRweCAjYzljOWM5LCAtODU2cHggLTQ0OXB4ICNlNmU2ZTYsIDMxM3B4IDM4OXB4ICNmY2ZjZmMsIDI2MnB4IC0zNzhweCAjYzdjN2M3LCAtODAxcHggLTIwNnB4ICNjN2M3YzcsIC0zMzBweCAtOHB4ICNmN2Y3ZjcsIDI4NHB4IDNweCAjY2NjY2NjLCAtMTI2NHB4IDQ3OHB4ICNjY2NjY2MsIDE0NThweCAtMTYwcHggd2hpdGVzbW9rZSwgLTkwNnB4IC0yMjVweCAjZGVkZWRlLCA1MDNweCAtOThweCAjYzdjN2M3LCA5M3B4IC04NHB4ICNkZWRlZGUsIDEyMDFweCAtMzQ3cHggI2Y3ZjdmNywgNTgwcHggMjY1cHggI2UwZTBlMCwgMTQ5NXB4IC0xNTdweCB3aGl0ZXNtb2tlLCAtMTAwcHggLTI1NXB4ICNlOGU4ZTgsIDIxNHB4IDQ2MnB4ICNlYmViZWIsIDIwcHggLTE4NXB4ICNlZGVkZWQsIDExMzRweCAtMzgxcHggI2VkZWRlZCwgLTEyNjNweCAyODFweCAjZWJlYmViLCAtNzQ4cHggMTEzcHggI2ViZWJlYiwgLTEzNzFweCAtMTM3cHggd2hpdGVzbW9rZSwgMTNweCAtMTNweCAjY2ZjZmNmLCAxMTE2cHggMTAxcHggI2U2ZTZlNiwgLTEzOXB4IC00MTBweCAjYzdjN2M3LCAyNThweCAtODNweCAjYzljOWM5LCAtMTMzNnB4IDM1MXB4ICNlNmU2ZTYsIDUwMnB4IDFweCAjZTBlMGUwLCAyNjhweCAtMjY5cHggI2MyYzJjMiwgLTU0OXB4IDUwcHggI2M5YzljOSwgMTE5MXB4IC0zNjNweCAjYzdjN2M3LCAtMTE3cHggLTI3MXB4ICNmMmYyZjIsIDI4N3B4IDI4OHB4ICNkYmRiZGIsIC03OHB4IC05NXB4ICNmYWZhZmEsIC01NjdweCAyMjhweCAjY2ZjZmNmLCAtOTExcHggLTI4NXB4ICNjMmMyYzIsIDEyNDJweCAtMjU3cHggI2ZhZmFmYSwgMTMwNHB4IDMzNnB4ICNlZGVkZWQsIC02NnB4IC0xMTdweCAjYzRjNGM0LCAtNTYwcHggMTk4cHggI2M5YzljOSwgLTEyMjlweCAtMjQ1cHggd2hpdGVzbW9rZSwgLTk4MHB4IDE0NHB4ICNkMWQxZDEsIC05ODJweCAtNDUzcHggI2ViZWJlYiwgLTEwNTZweCAyNzJweCAjZDRkNGQ0LCAtMzBweCAtMjQ3cHggI2U4ZThlOCwgLTc0MXB4IDQ1NnB4ICNkNmQ2ZDYsIC0xNDY3cHggMzk3cHggI2YyZjJmMiwgLTEzNDFweCAxMzRweCAjZGJkYmRiLCAxMjI2cHggLTQwOHB4ICNjZmNmY2YsIDk5NXB4IDM0NXB4ICNjN2M3YzcsIDU2NHB4IDE2N3B4ICNlNmU2ZTYsIC0zMzNweCAzM3B4ICNmN2Y3ZjcsIC0xMTk4cHggNDMzcHggI2ViZWJlYiwgMTMwOHB4IDM1NnB4ICNlM2UzZTMsIDk5N3B4IDI4NnB4ICNkMWQxZDEsIDczNHB4IDIxM3B4ICNlYmViZWIsIC0xMjU2cHggLTE3M3B4IHdoaXRlc21va2UsIDg0N3B4IC0yMDBweCAjY2ZjZmNmLCAtNzUxcHggNDI5cHggI2RlZGVkZTtcclxuXHRhbmltYXRpb246IGZseSAzcyBsaW5lYXIgaW5maW5pdGU7XHJcblx0dHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDtcclxuXHR9XHJcblx0LnN0YXJzOmJlZm9yZSwgLnN0YXJzOmFmdGVyIHtcclxuXHRjb250ZW50OiBcIlwiO1xyXG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHR3aWR0aDogaW5oZXJpdDtcclxuXHRoZWlnaHQ6IGluaGVyaXQ7XHJcblx0Ym94LXNoYWRvdzogaW5oZXJpdDtcclxuXHR9XHJcblx0LnN0YXJzOmJlZm9yZSB7XHJcblx0dHJhbnNmb3JtOiB0cmFuc2xhdGVaKC0zMDBweCk7XHJcblx0YW5pbWF0aW9uOiBmYWRlMSAzcyBsaW5lYXIgaW5maW5pdGU7XHJcblx0fVxyXG5cdC5zdGFyczphZnRlciB7XHJcblx0dHJhbnNmb3JtOiB0cmFuc2xhdGVaKC02MDBweCk7XHJcblx0YW5pbWF0aW9uOiBmYWRlMiAzcyBsaW5lYXIgaW5maW5pdGU7XHJcblx0fVxyXG5cclxuXHRAa2V5ZnJhbWVzIGZseSB7XHJcblx0ZnJvbSB7XHJcblx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMHB4KTtcclxuXHR9XHJcblx0dG8ge1xyXG5cdFx0dHJhbnNmb3JtOiB0cmFuc2xhdGVaKDMwMHB4KTtcclxuXHR9XHJcblx0fVxyXG5cdEBrZXlmcmFtZXMgZmFkZTEge1xyXG5cdGZyb20ge1xyXG5cdFx0b3BhY2l0eTogLjU7XHJcblx0fVxyXG5cdHRvIHtcclxuXHRcdG9wYWNpdHk6IDE7XHJcblx0fVxyXG5cdH1cclxuXHRAa2V5ZnJhbWVzIGZhZGUyIHtcclxuXHRmcm9tIHtcclxuXHRcdG9wYWNpdHk6IDA7XHJcblx0fVxyXG5cdHRvIHtcclxuXHRcdG9wYWNpdHk6IC41O1xyXG5cdH1cclxuXHR9XHJcblxyXG5cdC5wYXNzIHtcclxuXHRcdGJvcmRlci1yYWRpdXM6MXZoO1xyXG5cdFx0aGVpZ2h0OiA1MHB4O1xyXG5cdFx0bWluLXdpZHRoOiAyMDBweDtcclxuXHRcdGJhY2tncm91bmQ6cmdiKDgwLDgwLDgwKTtcclxuXHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0fVxyXG5cdC5tZXNzYWdldG9wbGF5ZXJ7XHJcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRiYWNrZ3JvdW5kOiByZ2IoODAsODAsODApO1xyXG5cdFx0Ym9yZGVyLXJhZGl1czogNXZoO1xyXG5cdFx0d2lkdGg6IDYwJTtcclxuXHRcdG1hcmdpbi1sZWZ0OiAyMCU7XHJcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHR0b3A6NzUlO1xyXG5cdH1cclxuXHQuc2VsZWN0YWJsZXtcclxuXHRcdGJvcmRlcjogc29saWQgcmdiKDExNCwgMjEwLCAyMjMpO1xyXG5cdFx0Ym9yZGVyLXdpZHRoOiAxcHg7XHJcblx0fVxyXG5cdC5zZWxlY3RlZHtcclxuXHRcdGJvcmRlcjogc29saWQgcmdiKDUwLCAxOTAsIDEzMik7XHJcblx0XHRib3JkZXItd2lkdGg6IDFweDtcclxuXHR9XHJcblx0LmZsZXgge1xyXG5cdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHR9XHJcblxyXG5cdC5wbGF5ZXJpbmZvIHtcclxuXHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdFx0anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7XHJcblx0XHR3aWR0aDogMTAwJTtcclxuXHRcdGhlaWdodDogMTAlO1xyXG5cdH1cclxuXHJcblx0LnBsYXlpbmdmaWVsZCB7XHJcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xyXG5cdFx0bWluLWhlaWdodDoxMDB2aDtcclxuXHRcdG1pbi13aWR0aDogMTAwdnc7XHJcblx0XHRtaW4taGVpZ2h0OjEwMHZoO1xyXG5cdFx0bWluLXdpZHRoOiAxMDB2dztcclxuXHRcdGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChyZ2IoODIsNDgsMTAzKSwgcmdiKDEwLDEwLDEwKSk7XHJcblx0XHRiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG5cdFx0YmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuXHR9XHJcblx0XHJcblx0Lm9wdGlvbnMsIC50YWxsb3B0aW9uc3tcclxuXHRcdGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi9pbWFnZXMvZW1iYWNrZ3JvdW5kLnBuZ1wiKTtcclxuXHRcdGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcblx0XHRkaXNwbGF5OmZsZXg7IFxyXG5cdFx0ZmxleC1kaXJlY3Rpb246cm93OyBcclxuXHRcdGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG5cdFx0cG9zaXRpb246IGFic29sdXRlOyBcclxuXHRcdHJpZ2h0OjEwJTtcclxuXHRcdHRvcDogNTAlO1xyXG5cdFx0aGVpZ2h0OiAxNSU7XHJcblx0XHR3aWR0aDo4MCU7XHJcblx0XHRmb250LXNpemU6IDE1MCU7XHJcblx0fVxyXG5cdC50YWxsb3B0aW9uc3tcclxuXHRcdGhlaWdodDozMCU7XHJcblx0fVxyXG5cdC5vd25lZGNhcmRze1xyXG5cdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRoZWlnaHQ6MjAlO1xyXG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdFx0dG9wOjgwJTtcclxuXHR9XHJcblx0LmhhbmR7XHJcblx0XHRtYXJnaW46IGF1dG87XHJcblx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHRcdG1heC13aWR0aDogOTAlO1xyXG5cdFx0bWF4LWhlaWdodDogMTAwJTtcclxuXHRcdG92ZXJmbG93LXg6IHNjcm9sbDtcclxuXHRcdG92ZXJmbG93LXk6IGhpZGRlbjtcclxuXHR9XHJcblx0LmRlY2ssIC5kaXNjYXJkIHtcclxuXHRcdGJvcmRlci1yYWRpdXM6IDN2aDtcclxuXHRcdG1pbi13aWR0aDogMTl2aDtcclxuXHRcdG1heC13aWR0aDogMTl2aDtcclxuXHRcdGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcclxuXHRcdHRleHQtYWxpZ246Y2VudGVyO1xyXG5cdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdGZvbnQtc2l6ZTogNnZoO1xyXG5cdH1cclxuXHQuZGVja3tcclxuXHRcdG1hcmdpbi1yaWdodDphdXRvO1xyXG5cdFx0YmFja2dyb3VuZC1pbWFnZTp1cmwoJy4uL2ltYWdlcy9jYXJkLWRyYXcuc3ZnJyk7XHJcblx0fVxyXG5cdC5kaXNjYXJke1xyXG5cdFx0bWFyZ2luLWxlZnQ6YXV0bztcclxuXHRcdGJhY2tncm91bmQtaW1hZ2U6dXJsKCcuLi9pbWFnZXMvY2FyZC1idXJuLnN2ZycpO1xyXG5cdH1cclxuXHQuem9uZSB7XHJcblx0XHR3aWR0aDogMTAwJTtcclxuXHRcdG92ZXJmbG93LXg6IHNjcm9sbDtcclxuXHRcdG92ZXJmbG93LXk6IGhpZGRlbjtcclxuXHRcdGRpc3BsYXk6ZmxleDtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0fVxyXG5cdC5jZW50ZXJyb3d7XHJcblx0XHRoZWlnaHQ6NDAlO1xyXG5cdFx0cG9zaXRpb246YWJzb2x1dGU7XHJcblx0XHR0b3A6MTUlO1xyXG5cdH1cclxuXHQucmVzZWFyY2hyb3d7XHJcblx0XHRoZWlnaHQ6NDAlO1xyXG5cdH1cclxuXHQucmVzZWFyY2hyb3cgPiBkaXZ7XHJcblx0XHRoZWlnaHQ6OTUlO1xyXG5cdH1cclxuXHQucGxheWVkY2FyZHN7XHJcblx0XHRoZWlnaHQ6MjAlO1xyXG5cdFx0b3ZlcmZsb3cteDpzY3JvbGw7XHJcblx0XHRwb3NpdGlvbjphYnNvbHV0ZTtcclxuXHRcdHRvcDo1NSU7XHJcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcblx0fVxyXG5cdC5ib3JkZXJlZHtcclxuXHRcdGJvcmRlcjogc29saWQgIzAwMDtcclxuXHRcdGJvcmRlci13aWR0aDogMXB4O1xyXG5cdH1cclxuXHQ6Oi13ZWJraXQtc2Nyb2xsYmFyIHsgXHJcblx0XHRkaXNwbGF5OiBub25lOyAgXHJcblx0fVxyXG5cdC5wbGF5ZXJjb3VudHNlbGVjdG9yID4gcCB7XHJcblx0XHRoZWlnaHQ6MzMlOyBcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjsgXHJcblx0XHRmb250LXNpemU6IDMwMCU7XHJcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMzQsIDI2LCA1OSk7XHJcblx0XHRib3JkZXI6IHNvbGlkICMwMDA7XHJcblx0XHRib3JkZXItd2lkdGg6IDFweDtcclxuXHR9XHJcblx0LnBsYXllcmNvdW50c2VsZWN0b3IgPiBpbnB1dCB7XHJcblx0XHRoZWlnaHQ6MzMlOyBcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjsgXHJcblx0XHR3aWR0aDoxMDAlO1xyXG5cdFx0Zm9udC1zaXplOiAzMDAlO1xyXG5cdFx0YmFja2dyb3VuZC1jb2xvcjogcmdiKDM0LCAyNiwgNTkpO1xyXG5cdFx0Ym9yZGVyOiBzb2xpZCAjMDAwO1xyXG5cdFx0Ym9yZGVyLXdpZHRoOiAxcHg7XHJcblx0XHRjb2xvcjogcmdiKDQ5LCAxNTgsIDE3Nyk7XHJcblx0XHRwYWRkaW5nOiAwcHg7XHJcblx0XHRtYXJnaW46MHB4O1xyXG5cdH1cclxuXHQucGFzc3RvcGxheWVye1xyXG5cdFx0aGVpZ2h0OjgwJTtcclxuXHRcdHdpZHRoOjEwMCU7XHJcblx0XHR0b3A6MTAlO1xyXG5cdFx0Ym9yZGVyOiBzb2xpZCAjMDAwO1xyXG5cdFx0Ym9yZGVyLXdpZHRoOiAxcHg7XHJcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRmb250LXNpemU6IDMwMCU7XHJcblx0XHRjb2xvcjp3aGl0ZTtcclxuXHRcdGJhY2tncm91bmQtY29sb3I6IHJnYigzNCwgMjYsIDU5KTtcclxuXHJcblx0fVxyXG48L3N0eWxlPlxyXG57I2lmIG1vdW50ZWR9XHJcblx0eyNpZiBnYW1lLmN1cnJlbnRwaGFzZT09LTR9XHJcblx0PGRpdiBjbGFzcz1cInBsYXllcmNvdW50c2VsZWN0b3JcIj5cclxuXHRcdDxwPiBDaG9vc2UgeW91ciBTY3JlZW4gTmFtZTwvcD5cdFxyXG5cdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgYmluZDp2YWx1ZT17bG9iYnkuc2NyZWVubmFtZX0gb246a2V5cHJlc3M9eyhlKT0+e2lmKGUua2V5PT0nRW50ZXInKSBzZXRwbGF5ZXJuYW1lKGxvYmJ5LnNjcmVlbm5hbWUpfSB9PlxyXG5cdFx0PHAgb246Y2xpY2s9XCJ7KCk9PnNldHBsYXllcm5hbWUobG9iYnkuc2NyZWVubmFtZSl9XCIgb246dGFwPVwieygpPT5zZXRwbGF5ZXJuYW1lKGxvYmJ5LnNjcmVlbm5hbWUpfVwiPkZpbmlzaGVkPC9wPlxyXG5cdDwvZGl2PlxyXG5cdHs6ZWxzZSBpZiBnYW1lLmN1cnJlbnRwaGFzZT09LTN9XHJcblx0PGRpdiBjbGFzcz1cInBsYXllcmNvdW50c2VsZWN0b3JcIj5cclxuXHRcdDxwIG9uOmNsaWNrPVwieygpPT5waGFzZWluY3JlbWVudCgpfVwiIG9uOnRhcD1cInsoKT0+cGhhc2VpbmNyZW1lbnQoKX1cIj5TdGFydCBhIE5ldyBPbmxpbmUgR2FtZTwvcD5cclxuXHRcdDxwIG9uOmNsaWNrPVwieygpPT5mZXRjaGV4aXN0aW5nZ2FtZXMoKX1cIiBvbjp0YXA9XCJ7KCk9PmZldGNoZXhpc3RpbmdnYW1lcygpfVwiPkpvaW4gYW4gRXhpc3RpbmcgT25saW5lIEdhbWU8L3A+XHJcblx0XHQ8cCBvbjpjbGljaz1cInsoKT0+bmV3b2ZmbGluZSgpfVwiIG9uOnRhcD1cInsoKT0+bmV3b2ZmbGluZSgpfVwiPlN0YXJ0IGEgTmV3IE9mZmxpbmUgR2FtZTwvcD5cclxuXHQ8L2Rpdj5cclxuXHR7OmVsc2UgaWYgZ2FtZS5jdXJyZW50cGhhc2U9PS0yfVxyXG5cdDxkaXYgY2xhc3M9XCJwbGF5ZXJjb3VudHNlbGVjdG9yXCI+XHJcblx0XHQ8cD4gQ2hvb3NlIHlvdXIgR2FtZSdzIG51bWJlciBvZiBQbGF5ZXJzPC9wPlxyXG5cdFx0PHAgb246Y2xpY2s9eyhlKSA9PiBuZXdnYW1lKDIpfSBvbjp0YXA9eyhlKSA9PiBuZXdnYW1lKDIpfT4yPC9wPlxyXG5cdFx0PHAgb246Y2xpY2s9eyhlKSA9PiBuZXdnYW1lKDMpfSBvbjp0YXA9eyhlKSA9PiBuZXdnYW1lKDMpfT4zPC9wPlxyXG5cdFx0PHAgb246Y2xpY2s9eyhlKSA9PiBuZXdnYW1lKDQpfSBvbjp0YXA9eyhlKSA9PiBuZXdnYW1lKDQpfT40PC9wPlxyXG5cdDwvZGl2PlxyXG5cdHs6ZWxzZSBpZiBnYW1lLmN1cnJlbnRwaGFzZT09LTF9XHJcblx0XHQ8ZGl2IGNsYXNzPVwicGxheWVyY291bnRzZWxlY3RvclwiPlxyXG5cdFx0XHQ8cD5DaG9vc2UgYSBHYW1lIHRvIEpvaW48L3A+XHJcblx0XHRcdHsjZWFjaCBsb2JieS5leGlzdGluZ2dhbWVzIGFzIGd9XHJcblx0XHRcdFx0PHAgb246Y2xpY2s9XCJ7KCk9PmVudGVyZXhpc3RpbmdnYW1lKGcpfVwiIG9uOnRhcD1cInsoKT0+ZW50ZXJleGlzdGluZ2dhbWUoZyl9XCI+e2cubGFiZWwrXCIncyBHYW1lXCJ9PC9wPlxyXG5cdFx0XHR7L2VhY2h9XHJcblx0XHQ8L2Rpdj5cclxuXHR7OmVsc2UgaWYgZ2FtZS5wYXNzdG9wbGF5ZXIgJiYgIWxvYmJ5Lm9ubGluZX1cclxuXHRcdDxkaXYgY2xhc3M9J3Bhc3N0b3BsYXllcicgb246Y2xpY2s9XCJ7KCk9PnRvZ2dsZXBhc3N0b3BsYXllcigpfVwiIG9uOnRhcD1cInsoKT0+dG9nZ2xlcGFzc3RvcGxheWVyKCl9XCI+XHJcblx0XHRcdHBhc3MgdG8gbmV4dCBwbGF5ZXJcclxuXHRcdDwvZGl2PlxyXG5cdHs6ZWxzZSBpZiAhIWdhbWUud2lubmVyfVxyXG5cdFx0PGRpdiBjbGFzcz0ncGFzc3RvcGxheWVyJz5cclxuXHRcdFx0e2dhbWUud2lubmVyfSBXT04hISEhXHJcblx0XHQ8L2Rpdj5cclxuXHR7OmVsc2V9XHJcblx0XHQ8ZGl2IGNsYXNzPSdzdGFycyc+PC9kaXY+XHJcblx0XHQ8ZGl2IGlkPVwic2NyZWVuXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO1wiIGNsYXNzPVwiZmxleFwiPlxyXG5cdFx0XHR7I2VhY2ggZ2FtZS5wbGF5ZXJzIGFzIHBsYXllcn1cclxuXHRcdFx0XHR7I2lmIGdhbWUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdIT09dW5kZWZpbmVkICYmICgobG9iYnkuc2NyZWVubmFtZT09cGxheWVyLm5hbWUgJiYgbG9iYnkub25saW5lKSB8fCAoZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0uaWQ9PXBsYXllci5pZCAmJiAhbG9iYnkub25saW5lKSkgfVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJvcmRlcmVkIHBsYXlpbmdmaWVsZFwiPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGlkPSdkcmFnZ2VkJz48L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBsYXllcmluZm8gYm9yZGVyZWRcIj5cclxuXHRcdFx0XHRcdFx0XHR7I2VhY2ggZ2FtZS5wbGF5ZXJzIGFzIHB9XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwid2lkdGg6ezEwMC9nYW1lLm51bWJlcl9vZl9wbGF5ZXJzfSVcIiBjbGFzcz1cImZsZXggcGxheWVyIHsoZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0gIT09IHVuZGVmaW5lZCAmJiBwLm5hbWUgPT0gZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0ubmFtZSkgPyAnc2VsZWN0YWJsZScgOiAnYm9yZGVyZWQnfVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwid2lkdGg6MzMlOyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+IE1pbGl0YXJ5IE1pZ2h0IHtwLnN0YXJmaWdodGVycy5zbWFsbH08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIndpZHRoOjMzJTsgdGV4dC1hbGlnbjogY2VudGVyO1wiPiBHYWxhY3RpYyBJbmZsdWVuY2Uge3AuaW5mbHVlbmNlLmxlbmd0aH08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIndpZHRoOjMzJTsgdGV4dC1hbGlnbjogY2VudGVyO1wiPiB7cC5uYW1lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0ey9lYWNofVxyXG5cdFx0XHRcdFx0XHRcdDwhLS0gPGRpdiBzdHlsZT1cIndpZHRoOjEwMCU7IHRleHQtYWxpZ246IGNlbnRlcjtcIiBjbGFzcz1cImJvcmRlcmVkXCI+IFJlbWFpbmluZyBJbmZsdWVuY2UgdGhyb3VnaG91dCB0aGUgR2FsYXh5IHtnYW1lLmluZmx1ZW5jZS5sZW5ndGh9PC9kaXY+IC0tPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PCEtLSBzdGFja3MgLyBwbGFuZXRzIHRvZ2dsZSAtLT5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInNob3dcIiBvbjpjbGljaz17KCk9PnRvZ2dsZV9jZW50ZXJfb3JfcGxhbmV0cygpfSBvbjp0YXA9eygpPT50b2dnbGVfY2VudGVyX29yX3BsYW5ldHMoKX0+XHJcblx0XHRcdFx0XHRcdFx0c2hvdyB7KGdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHMpID8gXCJwbGFuZXRzXCIgOiBcImNlbnRlciByb3dcIn1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwhLS0gc3RhY2tzIC0tPlxyXG5cdFx0XHRcdFx0XHR7I2lmIGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT09J3Jlc2VhcmNoJ31cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiem9uZSByZXNlYXJjaHJvd1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0eyNlYWNoIGdhbWUucmVzZWFyY2hfZGVjayBhcyBjYXJkIChjYXJkLmlkKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PENhcmQgb246Y2xpY2s9XCJ7KCk9PmNob29zZXdyYXBwZXIoY2FyZCwncmVzZWFyY2gnKX1cIiBvbjp0YXA9XCJ7KCk9PmNob29zZXdyYXBwZXIoY2FyZCwncmVzZWFyY2gnKX1cIiBzZWxlY3RhYmxlPXsoZ2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lPT0ncmVzZWFyY2gnKX0ge2NhcmR9Lz5cclxuXHRcdFx0XHRcdFx0XHRcdHsvZWFjaH1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0ezplbHNlIGlmIGdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHN9XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZsZXggem9uZSBjZW50ZXJyb3dcIj5cclxuXHRcdFx0XHRcdFx0XHRcdHsjZWFjaCBnYW1lLnN0YWNrcy5yb2xlY2FyZHMgYXMgY2FyZCAoY2FyZC5uYW1lKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PENhcmQge2NhcmR9IHNlbGVjdGFibGU9e2dhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT09J3JvbGVjYXJkcyd9IHBpbGVjb3VudD1cIntnYW1lLnN0YWNrcy5waWxlY291bnRbY2FyZC50eXBlXX1cIiBvbjpjbGljaz1cInsoKT0+Y2hvb3Nld3JhcHBlcihjYXJkLCdyb2xlY2FyZHMnKX1cIiBvbjp0YXA9XCJ7KCk9PmNob29zZXdyYXBwZXIoY2FyZCwncm9sZWNhcmRzJyl9XCIgb246dG91Y2htb3ZlPVwieyhldmVudCk9Pm1vdmUoZXZlbnQsICcvaW1hZ2VzLycrY2FyZC50eXBlKycucG5nJywncm9sZWNhcmRzJyl9XCIgb246dG91Y2hzdGFydD1cInsoZXZlbnQpPT5kcmFnKGV2ZW50LGNhcmQsJ3JvbGVjYXJkcycpfVwiIG9uOnRvdWNoZW5kPVwieyhldmVudCk9PmRyb3AoZXZlbnQsJ3JvbGVjYXJkcycpfVwiLz5cclxuXHRcdFx0XHRcdFx0XHRcdHsvZWFjaH1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0ey9pZn1cclxuXHRcdFx0XHRcdFx0eyNpZiAhZ2FtZS5kaXNwbGF5aW5mby5jZW50ZXJfb3JfcGxhbmV0c31cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmxleCB6b25lIGNlbnRlcnJvd1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0eyNlYWNoIHBsYXllci51bnNldHRsZWRfcGxhbmV0cyBhcyBwbGFuZXQgKHBsYW5ldC5pZCl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxQbGFuZXRDYXJkIHBsYW5ldD17cGxhbmV0fSBvbjpjbGljaz17KCk9PmNob29zZXdyYXBwZXIocGxhbmV0LCd1bnNldHRsZWRfcGxhbmV0cycpfSBvbjp0YXA9eygpPT5jaG9vc2V3cmFwcGVyKHBsYW5ldCwndW5zZXR0bGVkX3BsYW5ldHMnKX0vPlxyXG5cdFx0XHRcdFx0XHRcdFx0ey9lYWNofVxyXG5cdFx0XHRcdFx0XHRcdFx0eyNlYWNoIFsuLi5wbGF5ZXIuc2V0dGxlZF9wbGFuZXRzLCAuLi5wbGF5ZXIuY29ucXVlcmVkX3BsYW5ldHNdIGFzIHBsYW5ldCAocGxhbmV0LmlkKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PFBsYW5ldENhcmQgcGxhbmV0PXtwbGFuZXR9IHNlbGVjdGVkPXtnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9PSdzZXR0bGVkXyZfY29ucXVlcmVkX3BsYW5ldHMnfSBvbjpjbGljaz17KCk9PmNob29zZXdyYXBwZXIocGxhbmV0LCdzZXR0bGVkXyZfY29ucXVlcmVkX3BsYW5ldHMnKX0gb246dGFwPXsoKT0+Y2hvb3Nld3JhcHBlcihwbGFuZXQsJ3NldHRsZWRfJl9jb25xdWVyZWRfcGxhbmV0cycpfSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0ey9lYWNofVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHR7L2lmfVxyXG5cdFx0XHRcdFx0XHQ8IS0tIHBsYXllZCBjYXJkcy0tPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGlkPVwicGxheWVkY2FyZHNcIiBjbGFzcz1cImZsZXggem9uZSBwbGF5ZWRjYXJkc1wiID5cclxuXHRcdFx0XHRcdFx0XHR7I2lmIGdhbWUuZGlzcGxheWluZm8uc2hvd29wdGlvbnRvc2tpcH1cclxuXHRcdFx0XHRcdFx0XHRcdDwhLS0gPGltZyBzcmM9Jy4vaW1hZ2VzL28uc3ZnJyBhbHQ9J28nIHN0eWxlPVwibWFyZ2luLXJpZ2h0OmF1dG9cIiBjbGFzcz1cInNlbGVjdGFibGUgcGFzc1wiIG9uOmNsaWNrPVwieygpPT5jaG9vc2UoW3tuYW1lOidTa2lwJ31dKX1cIiBvbjp0YXA9XCJ7KCk9PmNob29zZShbe25hbWU6J1NraXAnfV0pfVwiLz4gLS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6YXV0b1wiIGNsYXNzPVwic2VsZWN0YWJsZSBwYXNzXCIgb246Y2xpY2s9XCJ7KCk9PmNob29zZShbe25hbWU6J1NraXAnfV0pfVwiIG9uOnRhcD1cInsoKT0+Y2hvb3NlKFt7bmFtZTonU2tpcCd9XSl9XCI+W0Nob29zZSBOb25lXTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdHs6ZWxzZX1cclxuXHRcdFx0XHRcdFx0XHQ8IS0tIDxpbWcgc3JjPScuL2ltYWdlcy9vLnN2ZycgYWx0PSdvJyBzdHlsZT1cIm1hcmdpbi1yaWdodDphdXRvXCIgY2xhc3M9XCJib3JkZXJlZCBwYXNzXCIgLz4gLS0+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwibWFyZ2luLXJpZ2h0OmF1dG9cIiBjbGFzcz1cImJvcmRlcmVkIHBhc3NcIj5bX19fX108L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHR7L2lmfVxyXG5cdFx0XHRcdFx0XHRcdHsjZWFjaCBnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5saW1ibyBhcyBjYXJkIChjYXJkLmlkKX1cclxuXHRcdFx0XHRcdFx0XHRcdDxDYXJkIG1pbmk9e3RydWV9IG9uOmNsaWNrPXsoKT0+dW5jaG9vc2UoY2FyZCl9IG9uOnRhcD17KCk9PnVuY2hvb3NlKGNhcmQpfSB7Y2FyZH0vPlxyXG5cdFx0XHRcdFx0XHRcdHsvZWFjaH1cclxuXHRcdFx0XHRcdFx0XHR7I2lmIGdhbWUucGFzc3AgfVxyXG5cdFx0XHRcdFx0XHRcdFx0PCEtLSA8aW1nIHNyYz0nLi9pbWFnZXMveC5zdmcnIGFsdD0neCcgc3R5bGU9XCJtYXJnaW4tbGVmdDphdXRvXCIgY2xhc3M9XCJzZWxlY3RhYmxlIHBhc3NcIiBvbjpjbGljaz1cInsoKT0+cGFzc19wcmlvcml0eSgpfVwib246dGFwPVwieygpPT5wYXNzX3ByaW9yaXR5KCl9XCIvPiAtLT5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tbGVmdDphdXRvXCIgY2xhc3M9XCJzZWxlY3RhYmxlIHBhc3NcIiBvbjpjbGljaz1cInsoKT0+cGFzc19wcmlvcml0eSgpfVwib246dGFwPVwieygpPT5wYXNzX3ByaW9yaXR5KCl9XCI+W1Bhc3MgdG8gPGJyPiBOZXh0IFBsYXllcl08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHR7OmVsc2UgaWYgZ2FtZS5wYXNzdH1cclxuXHRcdFx0XHRcdFx0XHRcdDwhLS0gPGltZyBzcmM9Jy4vaW1hZ2VzL3guc3ZnJyBhbHQ9J3gnIHN0eWxlPVwibWFyZ2luLWxlZnQ6YXV0b1wiIGNsYXNzPVwic2VsZWN0YWJsZSBwYXNzXCIgb246Y2xpY2s9XCJ7KCk9PnBhc3NfdHVybigpfVwiIG9uOnRhcD1cInsoKT0+cGFzc190dXJuKCl9XCIvPiAtLT5cclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1sZWZ0OmF1dG9cIiBjbGFzcz1cInNlbGVjdGFibGUgcGFzc1wiIG9uOmNsaWNrPVwieygpPT5wYXNzX3R1cm4oKX1cIiBvbjp0YXA9XCJ7KCk9PnBhc3NfdHVybigpfVwiPltFbmQgVHVybl08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHR7OmVsc2UgaWYgZ2FtZS5kaXNwbGF5aW5mby5hbGxvd2Zvcm11bHRpcGxlc2VsZWN0aW9ucyAmJiBnYW1lLmNob2ljZXMubGVuZ3RoPjB9XHJcblx0XHRcdFx0XHRcdFx0XHQ8IS0tIDxpbWcgc3JjPScuL2ltYWdlcy94LnN2ZycgYWx0PSd4JyBzdHlsZT1cIm1hcmdpbi1sZWZ0OmF1dG9cIiBjbGFzcz1cInNlbGVjdGFibGUgcGFzc1wiIG9uOmNsaWNrPVwieygpPT5jaG9vc2UoZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXSl9XCIgb246dGFwPVwieygpPT5jaG9vc2UoZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXSl9XCIvPiAtLT5cclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1sZWZ0OmF1dG9cIiBjbGFzcz1cInNlbGVjdGFibGUgcGFzc1wiIG9uOmNsaWNrPVwieygpPT5jaG9vc2UoZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXSl9XCIgb246dGFwPVwieygpPT5jaG9vc2UoZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXSl9XCI+W0Nob29zZSBTZWxlY3RlZF08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHR7OmVsc2V9XHJcblx0XHRcdFx0XHRcdFx0XHQ8IS0tIDxpbWcgc3JjPScuL2ltYWdlcy94LnN2ZycgYWx0PSd4JyBzdHlsZT1cIm1hcmdpbi1sZWZ0OmF1dG9cIiBjbGFzcz1cImJvcmRlcmVkIHBhc3NcIiAvPiAtLT5cclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJvcmRlcmVkIHBhc3NcIiA+W19fX19fX108L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHR7L2lmfVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2V0b3BsYXllciBib3JkZXJlZFwiPntnYW1lLm1lc3NhZ2V0b3BsYXllcltnYW1lLm1lc3NhZ2V0b3BsYXllci5sZW5ndGgtMV19PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwhLS0gaGFuZCAtLT5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZsZXggem9uZSBvd25lZGNhcmRzXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYm9yZGVyZWQgZGVjayc+e3BsYXllci5kZWNrLmxlbmd0aH08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdoYW5kJz5cclxuXHRcdFx0XHRcdFx0XHRcdHsjZWFjaCBwbGF5ZXIuaGFuZCBhcyBjYXJkIChjYXJkLmlkKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PENhcmQgY2FyZD17Y2FyZH0gbWluaT17dHJ1ZX0gc2VsZWN0YWJsZT17Z2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lPT0naGFuZCd9IG9uOnRvdWNoc3RhcnQ9eyhldmVudCk9PmRyYWcoZXZlbnQsIGNhcmQsJ2hhbmQnKX0gb246dG91Y2hlbmQ9eyhldmVudCk9PmRyb3AoZXZlbnQsJ2hhbmQnKX0gb246dG91Y2htb3ZlPXsoZXZlbnQpPT5tb3ZlKGV2ZW50LCBjYXJkLmltZ3VybCwnaGFuZCcpfSBvbjpjbGljaz17KCk9Pntsb2coY2FyZCk7Y2hvb3Nld3JhcHBlcihjYXJkLCdoYW5kJyk7fX0gb246dGFwPXsoKT0+Y2hvb3Nld3JhcHBlcihjYXJkLCdoYW5kJyl9IC8+XHJcblx0XHRcdFx0XHRcdFx0XHR7L2VhY2h9XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJvcmRlcmVkIGRpc2NhcmRcIj57cGxheWVyLmRpc2NhcmQubGVuZ3RofTwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHsvaWZ9XHJcblx0XHRcdHsvZWFjaH1cclxuXHRcdFx0PCEtLSBnYW1lLm9wdGlvbnMgLS0+XHJcblx0XHRcdHsjaWYgZ2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lPT0nb3B0aW9ucyd9XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInsoIGdhbWUub3B0aW9uc1swXSAhPT0gdW5kZWZpbmVkICYmIGdhbWUub3B0aW9uc1swXS50eXBlICE9PSB1bmRlZmluZWQpID8gJ3RhbGxvcHRpb25zJyA6ICdvcHRpb25zJ31cIj5cclxuXHRcdFx0XHRcdHsjZWFjaCBnYW1lLm9wdGlvbnMgYXMgb3B0aW9uIChvcHRpb24ubmFtZSl9XHJcblx0XHRcdFx0XHRcdHsjaWYgb3B0aW9uLnR5cGUgIT09IHVuZGVmaW5lZH1cclxuXHRcdFx0XHRcdFx0XHQ8UGxhbmV0Q2FyZCBwbGFuZXQ9e29wdGlvbn0gc2VsZWN0YWJsZT17Z2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lPT0nb3B0aW9ucyd9IG9uOmNsaWNrPXsoKT0+Y2hvb3Nld3JhcHBlcihvcHRpb24sJ29wdGlvbnMnKX0gb246dGFwPXsoKT0+Y2hvb3Nld3JhcHBlcihvcHRpb24sJ29wdGlvbnMnKX0vPlxyXG5cdFx0XHRcdFx0XHRcdDxQbGFuZXRDYXJkIHBsYW5ldD17ey4uLm9wdGlvbixzZXR0bGVkOnRydWV9fSBzZWxlY3RhYmxlPXtnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9PSdvcHRpb25zJ30gb246Y2xpY2s9eygpPT5jaG9vc2V3cmFwcGVyKG9wdGlvbiwnb3B0aW9ucycpfSBvbjp0YXA9eygpPT5jaG9vc2V3cmFwcGVyKG9wdGlvbiwnb3B0aW9ucycpfS8+XHJcblx0XHRcdFx0XHRcdHs6ZWxzZX1cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFzcyB7KGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT09J29wdGlvbnMnKSA/ICggKG9wdGlvbi5zZWxlY3RlZCkgPyAnc2VsZWN0ZWQnIDogJ3NlbGVjdGFibGUnICk6ICdib3JkZXJlZCd9XCIgb246Y2xpY2s9XCJ7KCk9PmNob29zZXdyYXBwZXIob3B0aW9uLCdvcHRpb25zJyl9XCIgb246dGFwPVwieygpPT5jaG9vc2V3cmFwcGVyKG9wdGlvbiwnb3B0aW9ucycpfVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0e29wdGlvbi5uYW1lfVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHR7L2lmfVxyXG5cdFx0XHRcdFx0ey9lYWNofVxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHR7L2lmfVxyXG5cdFx0PC9kaXY+XHJcblx0ey9pZn1cclxuey9pZn0iLCI8c2NyaXB0PlxuXHRleHBvcnQgbGV0IGVycm9yO1xuXHRleHBvcnQgbGV0IHN0YXR1cztcbjwvc2NyaXB0PlxuXG48aDE+e3N0YXR1c308L2gxPlxuXG48cD57ZXJyb3IubWVzc2FnZX08L3A+XG5cbnsjaWYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCd9XG5cdDxwcmU+e2Vycm9yLnN0YWNrfTwvcHJlPlxuey9pZn0iLCIvLyBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IFNhcHBlciDigJQgZG8gbm90IGVkaXQgaXQhXG5pbXBvcnQgY29tcG9uZW50XzAgZnJvbSBcIi4uLy4uLy4uL3JvdXRlcy9pbmRleC5zdmVsdGVcIjtcbmltcG9ydCByb290IGZyb20gXCIuL2xheW91dC5zdmVsdGVcIjtcbmltcG9ydCBlcnJvciBmcm9tIFwiLi9lcnJvci5zdmVsdGVcIjtcblxuY29uc3QgZCA9IGRlY29kZVVSSUNvbXBvbmVudDtcblxuZXhwb3J0IGNvbnN0IG1hbmlmZXN0ID0ge1xuXHRzZXJ2ZXJfcm91dGVzOiBbXG5cdFx0XG5cdF0sXG5cblx0cGFnZXM6IFtcblx0XHR7XG5cdFx0XHQvLyBpbmRleC5zdmVsdGVcblx0XHRcdHBhdHRlcm46IC9eXFwvJC8sXG5cdFx0XHRwYXJ0czogW1xuXHRcdFx0XHR7IG5hbWU6IFwiaW5kZXhcIiwgZmlsZTogXCJpbmRleC5zdmVsdGVcIiwgY29tcG9uZW50OiBjb21wb25lbnRfMCB9XG5cdFx0XHRdXG5cdFx0fVxuXHRdLFxuXG5cdHJvb3QsXG5cdHJvb3RfcHJlbG9hZDogKCkgPT4ge30sXG5cdGVycm9yXG59O1xuXG5leHBvcnQgY29uc3QgYnVpbGRfZGlyID0gXCJfX3NhcHBlcl9fL2RldlwiO1xuXG5leHBvcnQgY29uc3Qgc3JjX2RpciA9IFwic3JjXCI7XG5cbmV4cG9ydCBjb25zdCBkZXYgPSB0cnVlOyIsImltcG9ydCB7IG5vb3AsIHNhZmVfbm90X2VxdWFsLCBzdWJzY3JpYmUsIHJ1bl9hbGwsIGlzX2Z1bmN0aW9uIH0gZnJvbSAnLi4vaW50ZXJuYWwnO1xuZXhwb3J0IHsgZ2V0X3N0b3JlX3ZhbHVlIGFzIGdldCB9IGZyb20gJy4uL2ludGVybmFsJztcblxuY29uc3Qgc3Vic2NyaWJlcl9xdWV1ZSA9IFtdO1xuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge1N0YXJ0U3RvcE5vdGlmaWVyfXN0YXJ0IHN0YXJ0IGFuZCBzdG9wIG5vdGlmaWNhdGlvbnMgZm9yIHN1YnNjcmlwdGlvbnNcbiAqL1xuZnVuY3Rpb24gcmVhZGFibGUodmFsdWUsIHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3Vic2NyaWJlOiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQpLnN1YnNjcmliZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBgV3JpdGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIGJvdGggdXBkYXRpbmcgYW5kIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICogQHBhcmFtIHsqPX12YWx1ZSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge1N0YXJ0U3RvcE5vdGlmaWVyPX1zdGFydCBzdGFydCBhbmQgc3RvcCBub3RpZmljYXRpb25zIGZvciBzdWJzY3JpcHRpb25zXG4gKi9cbmZ1bmN0aW9uIHdyaXRhYmxlKHZhbHVlLCBzdGFydCA9IG5vb3ApIHtcbiAgICBsZXQgc3RvcDtcbiAgICBjb25zdCBzdWJzY3JpYmVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcbiAgICAgICAgaWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ld192YWx1ZTtcbiAgICAgICAgICAgIGlmIChzdG9wKSB7IC8vIHN0b3JlIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgY29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IHN1YnNjcmliZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICBzWzFdKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWUucHVzaChzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChydW5fcXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuICAgICAgICBzZXQoZm4odmFsdWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlciA9IFtydW4sIGludmFsaWRhdGVdO1xuICAgICAgICBzdWJzY3JpYmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBzdG9wID0gc3RhcnQoc2V0KSB8fCBub29wO1xuICAgICAgICB9XG4gICAgICAgIHJ1bih2YWx1ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHN1YnNjcmliZXJzLmluZGV4T2Yoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICAgICAgc3RvcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IHNldCwgdXBkYXRlLCBzdWJzY3JpYmUgfTtcbn1cbmZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuICAgIGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG4gICAgY29uc3Qgc3RvcmVzX2FycmF5ID0gc2luZ2xlXG4gICAgICAgID8gW3N0b3Jlc11cbiAgICAgICAgOiBzdG9yZXM7XG4gICAgY29uc3QgYXV0byA9IGZuLmxlbmd0aCA8IDI7XG4gICAgcmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQpID0+IHtcbiAgICAgICAgbGV0IGluaXRlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgbGV0IHBlbmRpbmcgPSAwO1xuICAgICAgICBsZXQgY2xlYW51cCA9IG5vb3A7XG4gICAgICAgIGNvbnN0IHN5bmMgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZuKHNpbmdsZSA/IHZhbHVlc1swXSA6IHZhbHVlcywgc2V0KTtcbiAgICAgICAgICAgIGlmIChhdXRvKSB7XG4gICAgICAgICAgICAgICAgc2V0KHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwID0gaXNfZnVuY3Rpb24ocmVzdWx0KSA/IHJlc3VsdCA6IG5vb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT4gc3Vic2NyaWJlKHN0b3JlLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgcGVuZGluZyAmPSB+KDEgPDwgaSk7XG4gICAgICAgICAgICBpZiAoaW5pdGVkKSB7XG4gICAgICAgICAgICAgICAgc3luYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICBwZW5kaW5nIHw9ICgxIDw8IGkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGluaXRlZCA9IHRydWU7XG4gICAgICAgIHN5bmMoKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgICAgICBydW5fYWxsKHVuc3Vic2NyaWJlcnMpO1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuXG5leHBvcnQgeyBkZXJpdmVkLCByZWFkYWJsZSwgd3JpdGFibGUgfTtcbiIsImltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxuZXhwb3J0IGNvbnN0IENPTlRFWFRfS0VZID0ge307XG5cbmV4cG9ydCBjb25zdCBwcmVsb2FkID0gKCkgPT4gKHt9KTsiLCI8IS0tIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgU2FwcGVyIOKAlCBkbyBub3QgZWRpdCBpdCEgLS0+XG48c2NyaXB0PlxuXHRpbXBvcnQgeyBzZXRDb250ZXh0IH0gZnJvbSAnc3ZlbHRlJztcblx0aW1wb3J0IHsgQ09OVEVYVF9LRVkgfSBmcm9tICcuL3NoYXJlZCc7XG5cdGltcG9ydCBMYXlvdXQgZnJvbSAnLi9sYXlvdXQuc3ZlbHRlJztcblx0aW1wb3J0IEVycm9yIGZyb20gJy4vZXJyb3Iuc3ZlbHRlJztcblxuXHRleHBvcnQgbGV0IHN0b3Jlcztcblx0ZXhwb3J0IGxldCBlcnJvcjtcblx0ZXhwb3J0IGxldCBzdGF0dXM7XG5cdGV4cG9ydCBsZXQgc2VnbWVudHM7XG5cdGV4cG9ydCBsZXQgbGV2ZWwwO1xuXHRleHBvcnQgbGV0IGxldmVsMSA9IG51bGw7XG5cblx0c2V0Q29udGV4dChDT05URVhUX0tFWSwgc3RvcmVzKTtcbjwvc2NyaXB0PlxuXG48TGF5b3V0IHNlZ21lbnQ9XCJ7c2VnbWVudHNbMF19XCIgey4uLmxldmVsMC5wcm9wc30+XG5cdHsjaWYgZXJyb3J9XG5cdFx0PEVycm9yIHtlcnJvcn0ge3N0YXR1c30vPlxuXHR7OmVsc2V9XG5cdFx0PHN2ZWx0ZTpjb21wb25lbnQgdGhpcz1cIntsZXZlbDEuY29tcG9uZW50fVwiIHsuLi5sZXZlbDEucHJvcHN9Lz5cblx0ey9pZn1cbjwvTGF5b3V0PiIsImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IGRldiwgYnVpbGRfZGlyLCBzcmNfZGlyLCBtYW5pZmVzdCB9IGZyb20gJy4vaW50ZXJuYWwvbWFuaWZlc3Qtc2VydmVyJztcbmltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcbmltcG9ydCBTdHJlYW0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IFVybCBmcm9tICd1cmwnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcbmltcG9ydCB6bGliIGZyb20gJ3psaWInO1xuaW1wb3J0IEFwcCBmcm9tICcuL2ludGVybmFsL0FwcC5zdmVsdGUnO1xuXG4vKipcbiAqIEBwYXJhbSB0eXBlTWFwIFtPYmplY3RdIE1hcCBvZiBNSU1FIHR5cGUgLT4gQXJyYXlbZXh0ZW5zaW9uc11cbiAqIEBwYXJhbSAuLi5cbiAqL1xuZnVuY3Rpb24gTWltZSgpIHtcbiAgdGhpcy5fdHlwZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLl9leHRlbnNpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMuZGVmaW5lKGFyZ3VtZW50c1tpXSk7XG4gIH1cblxuICB0aGlzLmRlZmluZSA9IHRoaXMuZGVmaW5lLmJpbmQodGhpcyk7XG4gIHRoaXMuZ2V0VHlwZSA9IHRoaXMuZ2V0VHlwZS5iaW5kKHRoaXMpO1xuICB0aGlzLmdldEV4dGVuc2lvbiA9IHRoaXMuZ2V0RXh0ZW5zaW9uLmJpbmQodGhpcyk7XG59XG5cbi8qKlxuICogRGVmaW5lIG1pbWV0eXBlIC0+IGV4dGVuc2lvbiBtYXBwaW5ncy4gIEVhY2gga2V5IGlzIGEgbWltZS10eXBlIHRoYXQgbWFwc1xuICogdG8gYW4gYXJyYXkgb2YgZXh0ZW5zaW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIHR5cGUuICBUaGUgZmlyc3QgZXh0ZW5zaW9uIGlzXG4gKiB1c2VkIGFzIHRoZSBkZWZhdWx0IGV4dGVuc2lvbiBmb3IgdGhlIHR5cGUuXG4gKlxuICogZS5nLiBtaW1lLmRlZmluZSh7J2F1ZGlvL29nZycsIFsnb2dhJywgJ29nZycsICdzcHgnXX0pO1xuICpcbiAqIElmIGEgdHlwZSBkZWNsYXJlcyBhbiBleHRlbnNpb24gdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQsIGFuIGVycm9yIHdpbGxcbiAqIGJlIHRocm93bi4gIFRvIHN1cHByZXNzIHRoaXMgZXJyb3IgYW5kIGZvcmNlIHRoZSBleHRlbnNpb24gdG8gYmUgYXNzb2NpYXRlZFxuICogd2l0aCB0aGUgbmV3IHR5cGUsIHBhc3MgYGZvcmNlYD10cnVlLiAgQWx0ZXJuYXRpdmVseSwgeW91IG1heSBwcmVmaXggdGhlXG4gKiBleHRlbnNpb24gd2l0aCBcIipcIiB0byBtYXAgdGhlIHR5cGUgdG8gZXh0ZW5zaW9uLCB3aXRob3V0IG1hcHBpbmcgdGhlXG4gKiBleHRlbnNpb24gdG8gdGhlIHR5cGUuXG4gKlxuICogZS5nLiBtaW1lLmRlZmluZSh7J2F1ZGlvL3dhdicsIFsnd2F2J119LCB7J2F1ZGlvL3gtd2F2JywgWycqd2F2J119KTtcbiAqXG4gKlxuICogQHBhcmFtIG1hcCAoT2JqZWN0KSB0eXBlIGRlZmluaXRpb25zXG4gKiBAcGFyYW0gZm9yY2UgKEJvb2xlYW4pIGlmIHRydWUsIGZvcmNlIG92ZXJyaWRpbmcgb2YgZXhpc3RpbmcgZGVmaW5pdGlvbnNcbiAqL1xuTWltZS5wcm90b3R5cGUuZGVmaW5lID0gZnVuY3Rpb24odHlwZU1hcCwgZm9yY2UpIHtcbiAgZm9yICh2YXIgdHlwZSBpbiB0eXBlTWFwKSB7XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0eXBlTWFwW3R5cGVdLm1hcChmdW5jdGlvbih0KSB7cmV0dXJuIHQudG9Mb3dlckNhc2UoKX0pO1xuICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBleHQgPSBleHRlbnNpb25zW2ldO1xuXG4gICAgICAvLyAnKicgcHJlZml4ID0gbm90IHRoZSBwcmVmZXJyZWQgdHlwZSBmb3IgdGhpcyBleHRlbnNpb24uICBTbyBmaXh1cCB0aGVcbiAgICAgIC8vIGV4dGVuc2lvbiwgYW5kIHNraXAgaXQuXG4gICAgICBpZiAoZXh0WzBdID09ICcqJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFmb3JjZSAmJiAoZXh0IGluIHRoaXMuX3R5cGVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0F0dGVtcHQgdG8gY2hhbmdlIG1hcHBpbmcgZm9yIFwiJyArIGV4dCArXG4gICAgICAgICAgJ1wiIGV4dGVuc2lvbiBmcm9tIFwiJyArIHRoaXMuX3R5cGVzW2V4dF0gKyAnXCIgdG8gXCInICsgdHlwZSArXG4gICAgICAgICAgJ1wiLiBQYXNzIGBmb3JjZT10cnVlYCB0byBhbGxvdyB0aGlzLCBvdGhlcndpc2UgcmVtb3ZlIFwiJyArIGV4dCArXG4gICAgICAgICAgJ1wiIGZyb20gdGhlIGxpc3Qgb2YgZXh0ZW5zaW9ucyBmb3IgXCInICsgdHlwZSArICdcIi4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3R5cGVzW2V4dF0gPSB0eXBlO1xuICAgIH1cblxuICAgIC8vIFVzZSBmaXJzdCBleHRlbnNpb24gYXMgZGVmYXVsdFxuICAgIGlmIChmb3JjZSB8fCAhdGhpcy5fZXh0ZW5zaW9uc1t0eXBlXSkge1xuICAgICAgdmFyIGV4dCA9IGV4dGVuc2lvbnNbMF07XG4gICAgICB0aGlzLl9leHRlbnNpb25zW3R5cGVdID0gKGV4dFswXSAhPSAnKicpID8gZXh0IDogZXh0LnN1YnN0cigxKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogTG9va3VwIGEgbWltZSB0eXBlIGJhc2VkIG9uIGV4dGVuc2lvblxuICovXG5NaW1lLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24ocGF0aCkge1xuICBwYXRoID0gU3RyaW5nKHBhdGgpO1xuICB2YXIgbGFzdCA9IHBhdGgucmVwbGFjZSgvXi4qWy9cXFxcXS8sICcnKS50b0xvd2VyQ2FzZSgpO1xuICB2YXIgZXh0ID0gbGFzdC5yZXBsYWNlKC9eLipcXC4vLCAnJykudG9Mb3dlckNhc2UoKTtcblxuICB2YXIgaGFzUGF0aCA9IGxhc3QubGVuZ3RoIDwgcGF0aC5sZW5ndGg7XG4gIHZhciBoYXNEb3QgPSBleHQubGVuZ3RoIDwgbGFzdC5sZW5ndGggLSAxO1xuXG4gIHJldHVybiAoaGFzRG90IHx8ICFoYXNQYXRoKSAmJiB0aGlzLl90eXBlc1tleHRdIHx8IG51bGw7XG59O1xuXG4vKipcbiAqIFJldHVybiBmaWxlIGV4dGVuc2lvbiBhc3NvY2lhdGVkIHdpdGggYSBtaW1lIHR5cGVcbiAqL1xuTWltZS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9uID0gZnVuY3Rpb24odHlwZSkge1xuICB0eXBlID0gL15cXHMqKFteO1xcc10qKS8udGVzdCh0eXBlKSAmJiBSZWdFeHAuJDE7XG4gIHJldHVybiB0eXBlICYmIHRoaXMuX2V4dGVuc2lvbnNbdHlwZS50b0xvd2VyQ2FzZSgpXSB8fCBudWxsO1xufTtcblxudmFyIE1pbWVfMSA9IE1pbWU7XG5cbnZhciBzdGFuZGFyZCA9IHtcImFwcGxpY2F0aW9uL2FuZHJldy1pbnNldFwiOltcImV6XCJdLFwiYXBwbGljYXRpb24vYXBwbGl4d2FyZVwiOltcImF3XCJdLFwiYXBwbGljYXRpb24vYXRvbSt4bWxcIjpbXCJhdG9tXCJdLFwiYXBwbGljYXRpb24vYXRvbWNhdCt4bWxcIjpbXCJhdG9tY2F0XCJdLFwiYXBwbGljYXRpb24vYXRvbXN2Yyt4bWxcIjpbXCJhdG9tc3ZjXCJdLFwiYXBwbGljYXRpb24vYmRvY1wiOltcImJkb2NcIl0sXCJhcHBsaWNhdGlvbi9jY3htbCt4bWxcIjpbXCJjY3htbFwiXSxcImFwcGxpY2F0aW9uL2NkbWktY2FwYWJpbGl0eVwiOltcImNkbWlhXCJdLFwiYXBwbGljYXRpb24vY2RtaS1jb250YWluZXJcIjpbXCJjZG1pY1wiXSxcImFwcGxpY2F0aW9uL2NkbWktZG9tYWluXCI6W1wiY2RtaWRcIl0sXCJhcHBsaWNhdGlvbi9jZG1pLW9iamVjdFwiOltcImNkbWlvXCJdLFwiYXBwbGljYXRpb24vY2RtaS1xdWV1ZVwiOltcImNkbWlxXCJdLFwiYXBwbGljYXRpb24vY3Utc2VlbWVcIjpbXCJjdVwiXSxcImFwcGxpY2F0aW9uL2Rhc2greG1sXCI6W1wibXBkXCJdLFwiYXBwbGljYXRpb24vZGF2bW91bnQreG1sXCI6W1wiZGF2bW91bnRcIl0sXCJhcHBsaWNhdGlvbi9kb2Nib29rK3htbFwiOltcImRia1wiXSxcImFwcGxpY2F0aW9uL2Rzc2MrZGVyXCI6W1wiZHNzY1wiXSxcImFwcGxpY2F0aW9uL2Rzc2MreG1sXCI6W1wieGRzc2NcIl0sXCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0XCI6W1wiZWNtYVwiLFwiZXNcIl0sXCJhcHBsaWNhdGlvbi9lbW1hK3htbFwiOltcImVtbWFcIl0sXCJhcHBsaWNhdGlvbi9lcHViK3ppcFwiOltcImVwdWJcIl0sXCJhcHBsaWNhdGlvbi9leGlcIjpbXCJleGlcIl0sXCJhcHBsaWNhdGlvbi9mb250LXRkcGZyXCI6W1wicGZyXCJdLFwiYXBwbGljYXRpb24vZ2VvK2pzb25cIjpbXCJnZW9qc29uXCJdLFwiYXBwbGljYXRpb24vZ21sK3htbFwiOltcImdtbFwiXSxcImFwcGxpY2F0aW9uL2dweCt4bWxcIjpbXCJncHhcIl0sXCJhcHBsaWNhdGlvbi9neGZcIjpbXCJneGZcIl0sXCJhcHBsaWNhdGlvbi9nemlwXCI6W1wiZ3pcIl0sXCJhcHBsaWNhdGlvbi9oanNvblwiOltcImhqc29uXCJdLFwiYXBwbGljYXRpb24vaHlwZXJzdHVkaW9cIjpbXCJzdGtcIl0sXCJhcHBsaWNhdGlvbi9pbmttbCt4bWxcIjpbXCJpbmtcIixcImlua21sXCJdLFwiYXBwbGljYXRpb24vaXBmaXhcIjpbXCJpcGZpeFwiXSxcImFwcGxpY2F0aW9uL2phdmEtYXJjaGl2ZVwiOltcImphclwiLFwid2FyXCIsXCJlYXJcIl0sXCJhcHBsaWNhdGlvbi9qYXZhLXNlcmlhbGl6ZWQtb2JqZWN0XCI6W1wic2VyXCJdLFwiYXBwbGljYXRpb24vamF2YS12bVwiOltcImNsYXNzXCJdLFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiOltcImpzXCIsXCJtanNcIl0sXCJhcHBsaWNhdGlvbi9qc29uXCI6W1wianNvblwiLFwibWFwXCJdLFwiYXBwbGljYXRpb24vanNvbjVcIjpbXCJqc29uNVwiXSxcImFwcGxpY2F0aW9uL2pzb25tbCtqc29uXCI6W1wianNvbm1sXCJdLFwiYXBwbGljYXRpb24vbGQranNvblwiOltcImpzb25sZFwiXSxcImFwcGxpY2F0aW9uL2xvc3QreG1sXCI6W1wibG9zdHhtbFwiXSxcImFwcGxpY2F0aW9uL21hYy1iaW5oZXg0MFwiOltcImhxeFwiXSxcImFwcGxpY2F0aW9uL21hYy1jb21wYWN0cHJvXCI6W1wiY3B0XCJdLFwiYXBwbGljYXRpb24vbWFkcyt4bWxcIjpbXCJtYWRzXCJdLFwiYXBwbGljYXRpb24vbWFuaWZlc3QranNvblwiOltcIndlYm1hbmlmZXN0XCJdLFwiYXBwbGljYXRpb24vbWFyY1wiOltcIm1yY1wiXSxcImFwcGxpY2F0aW9uL21hcmN4bWwreG1sXCI6W1wibXJjeFwiXSxcImFwcGxpY2F0aW9uL21hdGhlbWF0aWNhXCI6W1wibWFcIixcIm5iXCIsXCJtYlwiXSxcImFwcGxpY2F0aW9uL21hdGhtbCt4bWxcIjpbXCJtYXRobWxcIl0sXCJhcHBsaWNhdGlvbi9tYm94XCI6W1wibWJveFwiXSxcImFwcGxpY2F0aW9uL21lZGlhc2VydmVyY29udHJvbCt4bWxcIjpbXCJtc2NtbFwiXSxcImFwcGxpY2F0aW9uL21ldGFsaW5rK3htbFwiOltcIm1ldGFsaW5rXCJdLFwiYXBwbGljYXRpb24vbWV0YWxpbms0K3htbFwiOltcIm1ldGE0XCJdLFwiYXBwbGljYXRpb24vbWV0cyt4bWxcIjpbXCJtZXRzXCJdLFwiYXBwbGljYXRpb24vbW9kcyt4bWxcIjpbXCJtb2RzXCJdLFwiYXBwbGljYXRpb24vbXAyMVwiOltcIm0yMVwiLFwibXAyMVwiXSxcImFwcGxpY2F0aW9uL21wNFwiOltcIm1wNHNcIixcIm00cFwiXSxcImFwcGxpY2F0aW9uL21zd29yZFwiOltcImRvY1wiLFwiZG90XCJdLFwiYXBwbGljYXRpb24vbXhmXCI6W1wibXhmXCJdLFwiYXBwbGljYXRpb24vbi1xdWFkc1wiOltcIm5xXCJdLFwiYXBwbGljYXRpb24vbi10cmlwbGVzXCI6W1wibnRcIl0sXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjpbXCJiaW5cIixcImRtc1wiLFwibHJmXCIsXCJtYXJcIixcInNvXCIsXCJkaXN0XCIsXCJkaXN0elwiLFwicGtnXCIsXCJicGtcIixcImR1bXBcIixcImVsY1wiLFwiZGVwbG95XCIsXCJleGVcIixcImRsbFwiLFwiZGViXCIsXCJkbWdcIixcImlzb1wiLFwiaW1nXCIsXCJtc2lcIixcIm1zcFwiLFwibXNtXCIsXCJidWZmZXJcIl0sXCJhcHBsaWNhdGlvbi9vZGFcIjpbXCJvZGFcIl0sXCJhcHBsaWNhdGlvbi9vZWJwcy1wYWNrYWdlK3htbFwiOltcIm9wZlwiXSxcImFwcGxpY2F0aW9uL29nZ1wiOltcIm9neFwiXSxcImFwcGxpY2F0aW9uL29tZG9jK3htbFwiOltcIm9tZG9jXCJdLFwiYXBwbGljYXRpb24vb25lbm90ZVwiOltcIm9uZXRvY1wiLFwib25ldG9jMlwiLFwib25ldG1wXCIsXCJvbmVwa2dcIl0sXCJhcHBsaWNhdGlvbi9veHBzXCI6W1wib3hwc1wiXSxcImFwcGxpY2F0aW9uL3BhdGNoLW9wcy1lcnJvcit4bWxcIjpbXCJ4ZXJcIl0sXCJhcHBsaWNhdGlvbi9wZGZcIjpbXCJwZGZcIl0sXCJhcHBsaWNhdGlvbi9wZ3AtZW5jcnlwdGVkXCI6W1wicGdwXCJdLFwiYXBwbGljYXRpb24vcGdwLXNpZ25hdHVyZVwiOltcImFzY1wiLFwic2lnXCJdLFwiYXBwbGljYXRpb24vcGljcy1ydWxlc1wiOltcInByZlwiXSxcImFwcGxpY2F0aW9uL3BrY3MxMFwiOltcInAxMFwiXSxcImFwcGxpY2F0aW9uL3BrY3M3LW1pbWVcIjpbXCJwN21cIixcInA3Y1wiXSxcImFwcGxpY2F0aW9uL3BrY3M3LXNpZ25hdHVyZVwiOltcInA3c1wiXSxcImFwcGxpY2F0aW9uL3BrY3M4XCI6W1wicDhcIl0sXCJhcHBsaWNhdGlvbi9wa2l4LWF0dHItY2VydFwiOltcImFjXCJdLFwiYXBwbGljYXRpb24vcGtpeC1jZXJ0XCI6W1wiY2VyXCJdLFwiYXBwbGljYXRpb24vcGtpeC1jcmxcIjpbXCJjcmxcIl0sXCJhcHBsaWNhdGlvbi9wa2l4LXBraXBhdGhcIjpbXCJwa2lwYXRoXCJdLFwiYXBwbGljYXRpb24vcGtpeGNtcFwiOltcInBraVwiXSxcImFwcGxpY2F0aW9uL3Bscyt4bWxcIjpbXCJwbHNcIl0sXCJhcHBsaWNhdGlvbi9wb3N0c2NyaXB0XCI6W1wiYWlcIixcImVwc1wiLFwicHNcIl0sXCJhcHBsaWNhdGlvbi9wc2tjK3htbFwiOltcInBza2N4bWxcIl0sXCJhcHBsaWNhdGlvbi9yYW1sK3lhbWxcIjpbXCJyYW1sXCJdLFwiYXBwbGljYXRpb24vcmRmK3htbFwiOltcInJkZlwiLFwib3dsXCJdLFwiYXBwbGljYXRpb24vcmVnaW5mbyt4bWxcIjpbXCJyaWZcIl0sXCJhcHBsaWNhdGlvbi9yZWxheC1uZy1jb21wYWN0LXN5bnRheFwiOltcInJuY1wiXSxcImFwcGxpY2F0aW9uL3Jlc291cmNlLWxpc3RzK3htbFwiOltcInJsXCJdLFwiYXBwbGljYXRpb24vcmVzb3VyY2UtbGlzdHMtZGlmZit4bWxcIjpbXCJybGRcIl0sXCJhcHBsaWNhdGlvbi9ybHMtc2VydmljZXMreG1sXCI6W1wicnNcIl0sXCJhcHBsaWNhdGlvbi9ycGtpLWdob3N0YnVzdGVyc1wiOltcImdiclwiXSxcImFwcGxpY2F0aW9uL3Jwa2ktbWFuaWZlc3RcIjpbXCJtZnRcIl0sXCJhcHBsaWNhdGlvbi9ycGtpLXJvYVwiOltcInJvYVwiXSxcImFwcGxpY2F0aW9uL3JzZCt4bWxcIjpbXCJyc2RcIl0sXCJhcHBsaWNhdGlvbi9yc3MreG1sXCI6W1wicnNzXCJdLFwiYXBwbGljYXRpb24vcnRmXCI6W1wicnRmXCJdLFwiYXBwbGljYXRpb24vc2JtbCt4bWxcIjpbXCJzYm1sXCJdLFwiYXBwbGljYXRpb24vc2N2cC1jdi1yZXF1ZXN0XCI6W1wic2NxXCJdLFwiYXBwbGljYXRpb24vc2N2cC1jdi1yZXNwb25zZVwiOltcInNjc1wiXSxcImFwcGxpY2F0aW9uL3NjdnAtdnAtcmVxdWVzdFwiOltcInNwcVwiXSxcImFwcGxpY2F0aW9uL3NjdnAtdnAtcmVzcG9uc2VcIjpbXCJzcHBcIl0sXCJhcHBsaWNhdGlvbi9zZHBcIjpbXCJzZHBcIl0sXCJhcHBsaWNhdGlvbi9zZXQtcGF5bWVudC1pbml0aWF0aW9uXCI6W1wic2V0cGF5XCJdLFwiYXBwbGljYXRpb24vc2V0LXJlZ2lzdHJhdGlvbi1pbml0aWF0aW9uXCI6W1wic2V0cmVnXCJdLFwiYXBwbGljYXRpb24vc2hmK3htbFwiOltcInNoZlwiXSxcImFwcGxpY2F0aW9uL3NpZXZlXCI6W1wic2l2XCIsXCJzaWV2ZVwiXSxcImFwcGxpY2F0aW9uL3NtaWwreG1sXCI6W1wic21pXCIsXCJzbWlsXCJdLFwiYXBwbGljYXRpb24vc3BhcnFsLXF1ZXJ5XCI6W1wicnFcIl0sXCJhcHBsaWNhdGlvbi9zcGFycWwtcmVzdWx0cyt4bWxcIjpbXCJzcnhcIl0sXCJhcHBsaWNhdGlvbi9zcmdzXCI6W1wiZ3JhbVwiXSxcImFwcGxpY2F0aW9uL3NyZ3MreG1sXCI6W1wiZ3J4bWxcIl0sXCJhcHBsaWNhdGlvbi9zcnUreG1sXCI6W1wic3J1XCJdLFwiYXBwbGljYXRpb24vc3NkbCt4bWxcIjpbXCJzc2RsXCJdLFwiYXBwbGljYXRpb24vc3NtbCt4bWxcIjpbXCJzc21sXCJdLFwiYXBwbGljYXRpb24vdGVpK3htbFwiOltcInRlaVwiLFwidGVpY29ycHVzXCJdLFwiYXBwbGljYXRpb24vdGhyYXVkK3htbFwiOltcInRmaVwiXSxcImFwcGxpY2F0aW9uL3RpbWVzdGFtcGVkLWRhdGFcIjpbXCJ0c2RcIl0sXCJhcHBsaWNhdGlvbi92b2ljZXhtbCt4bWxcIjpbXCJ2eG1sXCJdLFwiYXBwbGljYXRpb24vd2FzbVwiOltcIndhc21cIl0sXCJhcHBsaWNhdGlvbi93aWRnZXRcIjpbXCJ3Z3RcIl0sXCJhcHBsaWNhdGlvbi93aW5obHBcIjpbXCJobHBcIl0sXCJhcHBsaWNhdGlvbi93c2RsK3htbFwiOltcIndzZGxcIl0sXCJhcHBsaWNhdGlvbi93c3BvbGljeSt4bWxcIjpbXCJ3c3BvbGljeVwiXSxcImFwcGxpY2F0aW9uL3hhbWwreG1sXCI6W1wieGFtbFwiXSxcImFwcGxpY2F0aW9uL3hjYXAtZGlmZit4bWxcIjpbXCJ4ZGZcIl0sXCJhcHBsaWNhdGlvbi94ZW5jK3htbFwiOltcInhlbmNcIl0sXCJhcHBsaWNhdGlvbi94aHRtbCt4bWxcIjpbXCJ4aHRtbFwiLFwieGh0XCJdLFwiYXBwbGljYXRpb24veG1sXCI6W1wieG1sXCIsXCJ4c2xcIixcInhzZFwiLFwicm5nXCJdLFwiYXBwbGljYXRpb24veG1sLWR0ZFwiOltcImR0ZFwiXSxcImFwcGxpY2F0aW9uL3hvcCt4bWxcIjpbXCJ4b3BcIl0sXCJhcHBsaWNhdGlvbi94cHJvYyt4bWxcIjpbXCJ4cGxcIl0sXCJhcHBsaWNhdGlvbi94c2x0K3htbFwiOltcInhzbHRcIl0sXCJhcHBsaWNhdGlvbi94c3BmK3htbFwiOltcInhzcGZcIl0sXCJhcHBsaWNhdGlvbi94dit4bWxcIjpbXCJteG1sXCIsXCJ4aHZtbFwiLFwieHZtbFwiLFwieHZtXCJdLFwiYXBwbGljYXRpb24veWFuZ1wiOltcInlhbmdcIl0sXCJhcHBsaWNhdGlvbi95aW4reG1sXCI6W1wieWluXCJdLFwiYXBwbGljYXRpb24vemlwXCI6W1wiemlwXCJdLFwiYXVkaW8vM2dwcFwiOltcIiozZ3BwXCJdLFwiYXVkaW8vYWRwY21cIjpbXCJhZHBcIl0sXCJhdWRpby9iYXNpY1wiOltcImF1XCIsXCJzbmRcIl0sXCJhdWRpby9taWRpXCI6W1wibWlkXCIsXCJtaWRpXCIsXCJrYXJcIixcInJtaVwiXSxcImF1ZGlvL21wM1wiOltcIiptcDNcIl0sXCJhdWRpby9tcDRcIjpbXCJtNGFcIixcIm1wNGFcIl0sXCJhdWRpby9tcGVnXCI6W1wibXBnYVwiLFwibXAyXCIsXCJtcDJhXCIsXCJtcDNcIixcIm0yYVwiLFwibTNhXCJdLFwiYXVkaW8vb2dnXCI6W1wib2dhXCIsXCJvZ2dcIixcInNweFwiXSxcImF1ZGlvL3MzbVwiOltcInMzbVwiXSxcImF1ZGlvL3NpbGtcIjpbXCJzaWxcIl0sXCJhdWRpby93YXZcIjpbXCJ3YXZcIl0sXCJhdWRpby93YXZlXCI6W1wiKndhdlwiXSxcImF1ZGlvL3dlYm1cIjpbXCJ3ZWJhXCJdLFwiYXVkaW8veG1cIjpbXCJ4bVwiXSxcImZvbnQvY29sbGVjdGlvblwiOltcInR0Y1wiXSxcImZvbnQvb3RmXCI6W1wib3RmXCJdLFwiZm9udC90dGZcIjpbXCJ0dGZcIl0sXCJmb250L3dvZmZcIjpbXCJ3b2ZmXCJdLFwiZm9udC93b2ZmMlwiOltcIndvZmYyXCJdLFwiaW1hZ2UvYWNlc1wiOltcImV4clwiXSxcImltYWdlL2FwbmdcIjpbXCJhcG5nXCJdLFwiaW1hZ2UvYm1wXCI6W1wiYm1wXCJdLFwiaW1hZ2UvY2dtXCI6W1wiY2dtXCJdLFwiaW1hZ2UvZGljb20tcmxlXCI6W1wiZHJsZVwiXSxcImltYWdlL2VtZlwiOltcImVtZlwiXSxcImltYWdlL2ZpdHNcIjpbXCJmaXRzXCJdLFwiaW1hZ2UvZzNmYXhcIjpbXCJnM1wiXSxcImltYWdlL2dpZlwiOltcImdpZlwiXSxcImltYWdlL2hlaWNcIjpbXCJoZWljXCJdLFwiaW1hZ2UvaGVpYy1zZXF1ZW5jZVwiOltcImhlaWNzXCJdLFwiaW1hZ2UvaGVpZlwiOltcImhlaWZcIl0sXCJpbWFnZS9oZWlmLXNlcXVlbmNlXCI6W1wiaGVpZnNcIl0sXCJpbWFnZS9pZWZcIjpbXCJpZWZcIl0sXCJpbWFnZS9qbHNcIjpbXCJqbHNcIl0sXCJpbWFnZS9qcDJcIjpbXCJqcDJcIixcImpwZzJcIl0sXCJpbWFnZS9qcGVnXCI6W1wianBlZ1wiLFwianBnXCIsXCJqcGVcIl0sXCJpbWFnZS9qcG1cIjpbXCJqcG1cIl0sXCJpbWFnZS9qcHhcIjpbXCJqcHhcIixcImpwZlwiXSxcImltYWdlL2p4clwiOltcImp4clwiXSxcImltYWdlL2t0eFwiOltcImt0eFwiXSxcImltYWdlL3BuZ1wiOltcInBuZ1wiXSxcImltYWdlL3NnaVwiOltcInNnaVwiXSxcImltYWdlL3N2Zyt4bWxcIjpbXCJzdmdcIixcInN2Z3pcIl0sXCJpbWFnZS90MzhcIjpbXCJ0MzhcIl0sXCJpbWFnZS90aWZmXCI6W1widGlmXCIsXCJ0aWZmXCJdLFwiaW1hZ2UvdGlmZi1meFwiOltcInRmeFwiXSxcImltYWdlL3dlYnBcIjpbXCJ3ZWJwXCJdLFwiaW1hZ2Uvd21mXCI6W1wid21mXCJdLFwibWVzc2FnZS9kaXNwb3NpdGlvbi1ub3RpZmljYXRpb25cIjpbXCJkaXNwb3NpdGlvbi1ub3RpZmljYXRpb25cIl0sXCJtZXNzYWdlL2dsb2JhbFwiOltcInU4bXNnXCJdLFwibWVzc2FnZS9nbG9iYWwtZGVsaXZlcnktc3RhdHVzXCI6W1widThkc25cIl0sXCJtZXNzYWdlL2dsb2JhbC1kaXNwb3NpdGlvbi1ub3RpZmljYXRpb25cIjpbXCJ1OG1kblwiXSxcIm1lc3NhZ2UvZ2xvYmFsLWhlYWRlcnNcIjpbXCJ1OGhkclwiXSxcIm1lc3NhZ2UvcmZjODIyXCI6W1wiZW1sXCIsXCJtaW1lXCJdLFwibW9kZWwvM21mXCI6W1wiM21mXCJdLFwibW9kZWwvZ2x0Zitqc29uXCI6W1wiZ2x0ZlwiXSxcIm1vZGVsL2dsdGYtYmluYXJ5XCI6W1wiZ2xiXCJdLFwibW9kZWwvaWdlc1wiOltcImlnc1wiLFwiaWdlc1wiXSxcIm1vZGVsL21lc2hcIjpbXCJtc2hcIixcIm1lc2hcIixcInNpbG9cIl0sXCJtb2RlbC9zdGxcIjpbXCJzdGxcIl0sXCJtb2RlbC92cm1sXCI6W1wid3JsXCIsXCJ2cm1sXCJdLFwibW9kZWwveDNkK2JpbmFyeVwiOltcIip4M2RiXCIsXCJ4M2RielwiXSxcIm1vZGVsL3gzZCtmYXN0aW5mb3NldFwiOltcIngzZGJcIl0sXCJtb2RlbC94M2QrdnJtbFwiOltcIip4M2R2XCIsXCJ4M2R2elwiXSxcIm1vZGVsL3gzZCt4bWxcIjpbXCJ4M2RcIixcIngzZHpcIl0sXCJtb2RlbC94M2QtdnJtbFwiOltcIngzZHZcIl0sXCJ0ZXh0L2NhY2hlLW1hbmlmZXN0XCI6W1wiYXBwY2FjaGVcIixcIm1hbmlmZXN0XCJdLFwidGV4dC9jYWxlbmRhclwiOltcImljc1wiLFwiaWZiXCJdLFwidGV4dC9jb2ZmZWVzY3JpcHRcIjpbXCJjb2ZmZWVcIixcImxpdGNvZmZlZVwiXSxcInRleHQvY3NzXCI6W1wiY3NzXCJdLFwidGV4dC9jc3ZcIjpbXCJjc3ZcIl0sXCJ0ZXh0L2h0bWxcIjpbXCJodG1sXCIsXCJodG1cIixcInNodG1sXCJdLFwidGV4dC9qYWRlXCI6W1wiamFkZVwiXSxcInRleHQvanN4XCI6W1wianN4XCJdLFwidGV4dC9sZXNzXCI6W1wibGVzc1wiXSxcInRleHQvbWFya2Rvd25cIjpbXCJtYXJrZG93blwiLFwibWRcIl0sXCJ0ZXh0L21hdGhtbFwiOltcIm1tbFwiXSxcInRleHQvbWR4XCI6W1wibWR4XCJdLFwidGV4dC9uM1wiOltcIm4zXCJdLFwidGV4dC9wbGFpblwiOltcInR4dFwiLFwidGV4dFwiLFwiY29uZlwiLFwiZGVmXCIsXCJsaXN0XCIsXCJsb2dcIixcImluXCIsXCJpbmlcIl0sXCJ0ZXh0L3JpY2h0ZXh0XCI6W1wicnR4XCJdLFwidGV4dC9ydGZcIjpbXCIqcnRmXCJdLFwidGV4dC9zZ21sXCI6W1wic2dtbFwiLFwic2dtXCJdLFwidGV4dC9zaGV4XCI6W1wic2hleFwiXSxcInRleHQvc2xpbVwiOltcInNsaW1cIixcInNsbVwiXSxcInRleHQvc3R5bHVzXCI6W1wic3R5bHVzXCIsXCJzdHlsXCJdLFwidGV4dC90YWItc2VwYXJhdGVkLXZhbHVlc1wiOltcInRzdlwiXSxcInRleHQvdHJvZmZcIjpbXCJ0XCIsXCJ0clwiLFwicm9mZlwiLFwibWFuXCIsXCJtZVwiLFwibXNcIl0sXCJ0ZXh0L3R1cnRsZVwiOltcInR0bFwiXSxcInRleHQvdXJpLWxpc3RcIjpbXCJ1cmlcIixcInVyaXNcIixcInVybHNcIl0sXCJ0ZXh0L3ZjYXJkXCI6W1widmNhcmRcIl0sXCJ0ZXh0L3Z0dFwiOltcInZ0dFwiXSxcInRleHQveG1sXCI6W1wiKnhtbFwiXSxcInRleHQveWFtbFwiOltcInlhbWxcIixcInltbFwiXSxcInZpZGVvLzNncHBcIjpbXCIzZ3BcIixcIjNncHBcIl0sXCJ2aWRlby8zZ3BwMlwiOltcIjNnMlwiXSxcInZpZGVvL2gyNjFcIjpbXCJoMjYxXCJdLFwidmlkZW8vaDI2M1wiOltcImgyNjNcIl0sXCJ2aWRlby9oMjY0XCI6W1wiaDI2NFwiXSxcInZpZGVvL2pwZWdcIjpbXCJqcGd2XCJdLFwidmlkZW8vanBtXCI6W1wiKmpwbVwiLFwianBnbVwiXSxcInZpZGVvL21qMlwiOltcIm1qMlwiLFwibWpwMlwiXSxcInZpZGVvL21wMnRcIjpbXCJ0c1wiXSxcInZpZGVvL21wNFwiOltcIm1wNFwiLFwibXA0dlwiLFwibXBnNFwiXSxcInZpZGVvL21wZWdcIjpbXCJtcGVnXCIsXCJtcGdcIixcIm1wZVwiLFwibTF2XCIsXCJtMnZcIl0sXCJ2aWRlby9vZ2dcIjpbXCJvZ3ZcIl0sXCJ2aWRlby9xdWlja3RpbWVcIjpbXCJxdFwiLFwibW92XCJdLFwidmlkZW8vd2VibVwiOltcIndlYm1cIl19O1xuXG52YXIgbGl0ZSA9IG5ldyBNaW1lXzEoc3RhbmRhcmQpO1xuXG5mdW5jdGlvbiBnZXRfc2VydmVyX3JvdXRlX2hhbmRsZXIocm91dGVzKSB7XG5cdGFzeW5jIGZ1bmN0aW9uIGhhbmRsZV9yb3V0ZShyb3V0ZSwgcmVxLCByZXMsIG5leHQpIHtcblx0XHRyZXEucGFyYW1zID0gcm91dGUucGFyYW1zKHJvdXRlLnBhdHRlcm4uZXhlYyhyZXEucGF0aCkpO1xuXG5cdFx0Y29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuXHRcdC8vICdkZWxldGUnIGNhbm5vdCBiZSBleHBvcnRlZCBmcm9tIGEgbW9kdWxlIGJlY2F1c2UgaXQgaXMgYSBrZXl3b3JkLFxuXHRcdC8vIHNvIGNoZWNrIGZvciAnZGVsJyBpbnN0ZWFkXG5cdFx0Y29uc3QgbWV0aG9kX2V4cG9ydCA9IG1ldGhvZCA9PT0gJ2RlbGV0ZScgPyAnZGVsJyA6IG1ldGhvZDtcblx0XHRjb25zdCBoYW5kbGVfbWV0aG9kID0gcm91dGUuaGFuZGxlcnNbbWV0aG9kX2V4cG9ydF07XG5cdFx0aWYgKGhhbmRsZV9tZXRob2QpIHtcblx0XHRcdGlmIChwcm9jZXNzLmVudi5TQVBQRVJfRVhQT1JUKSB7XG5cdFx0XHRcdGNvbnN0IHsgd3JpdGUsIGVuZCwgc2V0SGVhZGVyIH0gPSByZXM7XG5cdFx0XHRcdGNvbnN0IGNodW5rcyA9IFtdO1xuXHRcdFx0XHRjb25zdCBoZWFkZXJzID0ge307XG5cblx0XHRcdFx0Ly8gaW50ZXJjZXB0IGRhdGEgc28gdGhhdCBpdCBjYW4gYmUgZXhwb3J0ZWRcblx0XHRcdFx0cmVzLndyaXRlID0gZnVuY3Rpb24oY2h1bmspIHtcblx0XHRcdFx0XHRjaHVua3MucHVzaChCdWZmZXIuZnJvbShjaHVuaykpO1xuXHRcdFx0XHRcdHdyaXRlLmFwcGx5KHJlcywgYXJndW1lbnRzKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRyZXMuc2V0SGVhZGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0XHRcdFx0XHRoZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRzZXRIZWFkZXIuYXBwbHkocmVzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHJlcy5lbmQgPSBmdW5jdGlvbihjaHVuaykge1xuXHRcdFx0XHRcdGlmIChjaHVuaykgY2h1bmtzLnB1c2goQnVmZmVyLmZyb20oY2h1bmspKTtcblx0XHRcdFx0XHRlbmQuYXBwbHkocmVzLCBhcmd1bWVudHMpO1xuXG5cdFx0XHRcdFx0cHJvY2Vzcy5zZW5kKHtcblx0XHRcdFx0XHRcdF9fc2FwcGVyX186IHRydWUsXG5cdFx0XHRcdFx0XHRldmVudDogJ2ZpbGUnLFxuXHRcdFx0XHRcdFx0dXJsOiByZXEudXJsLFxuXHRcdFx0XHRcdFx0bWV0aG9kOiByZXEubWV0aG9kLFxuXHRcdFx0XHRcdFx0c3RhdHVzOiByZXMuc3RhdHVzQ29kZSxcblx0XHRcdFx0XHRcdHR5cGU6IGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddLFxuXHRcdFx0XHRcdFx0Ym9keTogQnVmZmVyLmNvbmNhdChjaHVua3MpLnRvU3RyaW5nKClcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgaGFuZGxlX25leHQgPSAoZXJyKSA9PiB7XG5cdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRyZXMuc3RhdHVzQ29kZSA9IDUwMDtcblx0XHRcdFx0XHRyZXMuZW5kKGVyci5tZXNzYWdlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwcm9jZXNzLm5leHRUaWNrKG5leHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVfbWV0aG9kKHJlcSwgcmVzLCBoYW5kbGVfbmV4dCk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHRoYW5kbGVfbmV4dChlcnIpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBubyBtYXRjaGluZyBoYW5kbGVyIGZvciBtZXRob2Rcblx0XHRcdHByb2Nlc3MubmV4dFRpY2sobmV4dCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZ1bmN0aW9uIGZpbmRfcm91dGUocmVxLCByZXMsIG5leHQpIHtcblx0XHRmb3IgKGNvbnN0IHJvdXRlIG9mIHJvdXRlcykge1xuXHRcdFx0aWYgKHJvdXRlLnBhdHRlcm4udGVzdChyZXEucGF0aCkpIHtcblx0XHRcdFx0aGFuZGxlX3JvdXRlKHJvdXRlLCByZXEsIHJlcywgbmV4dCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRuZXh0KCk7XG5cdH07XG59XG5cbi8qIVxuICogY29va2llXG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IFJvbWFuIFNodHlsbWFuXG4gKiBDb3B5cmlnaHQoYykgMjAxNSBEb3VnbGFzIENocmlzdG9waGVyIFdpbHNvblxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG52YXIgcGFyc2VfMSA9IHBhcnNlO1xudmFyIHNlcmlhbGl6ZV8xID0gc2VyaWFsaXplO1xuXG4vKipcbiAqIE1vZHVsZSB2YXJpYWJsZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBkZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XG52YXIgZW5jb2RlID0gZW5jb2RlVVJJQ29tcG9uZW50O1xudmFyIHBhaXJTcGxpdFJlZ0V4cCA9IC87ICovO1xuXG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBmaWVsZC1jb250ZW50IGluIFJGQyA3MjMwIHNlYyAzLjJcbiAqXG4gKiBmaWVsZC1jb250ZW50ID0gZmllbGQtdmNoYXIgWyAxKiggU1AgLyBIVEFCICkgZmllbGQtdmNoYXIgXVxuICogZmllbGQtdmNoYXIgICA9IFZDSEFSIC8gb2JzLXRleHRcbiAqIG9icy10ZXh0ICAgICAgPSAleDgwLUZGXG4gKi9cblxudmFyIGZpZWxkQ29udGVudFJlZ0V4cCA9IC9eW1xcdTAwMDlcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdTAwZmZdKyQvO1xuXG4vKipcbiAqIFBhcnNlIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gY29va2llIGhlYWRlciBzdHJpbmcgaW50byBhbiBvYmplY3RcbiAqIFRoZSBvYmplY3QgaGFzIHRoZSB2YXJpb3VzIGNvb2tpZXMgYXMga2V5cyhuYW1lcykgPT4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHJldHVybiB7b2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzdHIgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG5cbiAgdmFyIG9iaiA9IHt9O1xuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHBhaXJzID0gc3RyLnNwbGl0KHBhaXJTcGxpdFJlZ0V4cCk7XG4gIHZhciBkZWMgPSBvcHQuZGVjb2RlIHx8IGRlY29kZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcbiAgICB2YXIgZXFfaWR4ID0gcGFpci5pbmRleE9mKCc9Jyk7XG5cbiAgICAvLyBza2lwIHRoaW5ncyB0aGF0IGRvbid0IGxvb2sgbGlrZSBrZXk9dmFsdWVcbiAgICBpZiAoZXFfaWR4IDwgMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IHBhaXIuc3Vic3RyKDAsIGVxX2lkeCkudHJpbSgpO1xuICAgIHZhciB2YWwgPSBwYWlyLnN1YnN0cigrK2VxX2lkeCwgcGFpci5sZW5ndGgpLnRyaW0oKTtcblxuICAgIC8vIHF1b3RlZCB2YWx1ZXNcbiAgICBpZiAoJ1wiJyA9PSB2YWxbMF0pIHtcbiAgICAgIHZhbCA9IHZhbC5zbGljZSgxLCAtMSk7XG4gICAgfVxuXG4gICAgLy8gb25seSBhc3NpZ24gb25jZVxuICAgIGlmICh1bmRlZmluZWQgPT0gb2JqW2tleV0pIHtcbiAgICAgIG9ialtrZXldID0gdHJ5RGVjb2RlKHZhbCwgZGVjKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIFNlcmlhbGl6ZSBkYXRhIGludG8gYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFNlcmlhbGl6ZSB0aGUgYSBuYW1lIHZhbHVlIHBhaXIgaW50byBhIGNvb2tpZSBzdHJpbmcgc3VpdGFibGUgZm9yXG4gKiBodHRwIGhlYWRlcnMuIEFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHNwZWNpZmllZCBjb29raWUgcGFyYW1ldGVycy5cbiAqXG4gKiBzZXJpYWxpemUoJ2ZvbycsICdiYXInLCB7IGh0dHBPbmx5OiB0cnVlIH0pXG4gKiAgID0+IFwiZm9vPWJhcjsgaHR0cE9ubHlcIlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplKG5hbWUsIHZhbCwgb3B0aW9ucykge1xuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIGVuYyA9IG9wdC5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGlmICh0eXBlb2YgZW5jICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGVuY29kZSBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgbmFtZSBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICB2YXIgdmFsdWUgPSBlbmModmFsKTtcblxuICBpZiAodmFsdWUgJiYgIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHZhbCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICB2YXIgc3RyID0gbmFtZSArICc9JyArIHZhbHVlO1xuXG4gIGlmIChudWxsICE9IG9wdC5tYXhBZ2UpIHtcbiAgICB2YXIgbWF4QWdlID0gb3B0Lm1heEFnZSAtIDA7XG4gICAgaWYgKGlzTmFOKG1heEFnZSkpIHRocm93IG5ldyBFcnJvcignbWF4QWdlIHNob3VsZCBiZSBhIE51bWJlcicpO1xuICAgIHN0ciArPSAnOyBNYXgtQWdlPScgKyBNYXRoLmZsb29yKG1heEFnZSk7XG4gIH1cblxuICBpZiAob3B0LmRvbWFpbikge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LmRvbWFpbikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBkb21haW4gaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBEb21haW49JyArIG9wdC5kb21haW47XG4gIH1cblxuICBpZiAob3B0LnBhdGgpIHtcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG9wdC5wYXRoKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHBhdGggaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBQYXRoPScgKyBvcHQucGF0aDtcbiAgfVxuXG4gIGlmIChvcHQuZXhwaXJlcykge1xuICAgIGlmICh0eXBlb2Ygb3B0LmV4cGlyZXMudG9VVENTdHJpbmcgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBleHBpcmVzIGlzIGludmFsaWQnKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJzsgRXhwaXJlcz0nICsgb3B0LmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChvcHQuaHR0cE9ubHkpIHtcbiAgICBzdHIgKz0gJzsgSHR0cE9ubHknO1xuICB9XG5cbiAgaWYgKG9wdC5zZWN1cmUpIHtcbiAgICBzdHIgKz0gJzsgU2VjdXJlJztcbiAgfVxuXG4gIGlmIChvcHQuc2FtZVNpdGUpIHtcbiAgICB2YXIgc2FtZVNpdGUgPSB0eXBlb2Ygb3B0LnNhbWVTaXRlID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHQuc2FtZVNpdGUudG9Mb3dlckNhc2UoKSA6IG9wdC5zYW1lU2l0ZTtcblxuICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGF4JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPUxheCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaWN0JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgIHN0ciArPSAnOyBTYW1lU2l0ZT1Ob25lJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gc2FtZVNpdGUgaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG5cbi8qKlxuICogVHJ5IGRlY29kaW5nIGEgc3RyaW5nIHVzaW5nIGEgZGVjb2RpbmcgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGVjb2RlXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHRyeURlY29kZShzdHIsIGRlY29kZSkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGUoc3RyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxudmFyIGNvb2tpZSA9IHtcblx0cGFyc2U6IHBhcnNlXzEsXG5cdHNlcmlhbGl6ZTogc2VyaWFsaXplXzFcbn07XG5cbnZhciBjaGFycyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXyQnO1xudmFyIHVuc2FmZUNoYXJzID0gL1s8PlxcYlxcZlxcblxcclxcdFxcMFxcdTIwMjhcXHUyMDI5XS9nO1xudmFyIHJlc2VydmVkID0gL14oPzpkb3xpZnxpbnxmb3J8aW50fGxldHxuZXd8dHJ5fHZhcnxieXRlfGNhc2V8Y2hhcnxlbHNlfGVudW18Z290b3xsb25nfHRoaXN8dm9pZHx3aXRofGF3YWl0fGJyZWFrfGNhdGNofGNsYXNzfGNvbnN0fGZpbmFsfGZsb2F0fHNob3J0fHN1cGVyfHRocm93fHdoaWxlfHlpZWxkfGRlbGV0ZXxkb3VibGV8ZXhwb3J0fGltcG9ydHxuYXRpdmV8cmV0dXJufHN3aXRjaHx0aHJvd3N8dHlwZW9mfGJvb2xlYW58ZGVmYXVsdHxleHRlbmRzfGZpbmFsbHl8cGFja2FnZXxwcml2YXRlfGFic3RyYWN0fGNvbnRpbnVlfGRlYnVnZ2VyfGZ1bmN0aW9ufHZvbGF0aWxlfGludGVyZmFjZXxwcm90ZWN0ZWR8dHJhbnNpZW50fGltcGxlbWVudHN8aW5zdGFuY2VvZnxzeW5jaHJvbml6ZWQpJC87XG52YXIgZXNjYXBlZCA9IHtcbiAgICAnPCc6ICdcXFxcdTAwM0MnLFxuICAgICc+JzogJ1xcXFx1MDAzRScsXG4gICAgJy8nOiAnXFxcXHUwMDJGJyxcbiAgICAnXFxcXCc6ICdcXFxcXFxcXCcsXG4gICAgJ1xcYic6ICdcXFxcYicsXG4gICAgJ1xcZic6ICdcXFxcZicsXG4gICAgJ1xcbic6ICdcXFxcbicsXG4gICAgJ1xccic6ICdcXFxccicsXG4gICAgJ1xcdCc6ICdcXFxcdCcsXG4gICAgJ1xcMCc6ICdcXFxcMCcsXG4gICAgJ1xcdTIwMjgnOiAnXFxcXHUyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICdcXFxcdTIwMjknXG59O1xudmFyIG9iamVjdFByb3RvT3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5wcm90b3R5cGUpLnNvcnQoKS5qb2luKCdcXDAnKTtcbmZ1bmN0aW9uIGRldmFsdWUodmFsdWUpIHtcbiAgICB2YXIgY291bnRzID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIHdhbGsodGhpbmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHN0cmluZ2lmeSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudHMuaGFzKHRoaW5nKSkge1xuICAgICAgICAgICAgY291bnRzLnNldCh0aGluZywgY291bnRzLmdldCh0aGluZykgKyAxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb3VudHMuc2V0KHRoaW5nLCAxKTtcbiAgICAgICAgaWYgKCFpc1ByaW1pdGl2ZSh0aGluZykpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZ2V0VHlwZSh0aGluZyk7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpbmcuZm9yRWFjaCh3YWxrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnU2V0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdNYXAnOlxuICAgICAgICAgICAgICAgICAgICBBcnJheS5mcm9tKHRoaW5nKS5mb3JFYWNoKHdhbGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpbmcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG8gIT09IE9iamVjdC5wcm90b3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90bykuc29ydCgpLmpvaW4oJ1xcMCcpICE9PSBvYmplY3RQcm90b093blByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzdHJpbmdpZnkgYXJiaXRyYXJ5IG5vbi1QT0pPc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0aGluZykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHN0cmluZ2lmeSBQT0pPcyB3aXRoIHN5bWJvbGljIGtleXNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpbmcpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gd2Fsayh0aGluZ1trZXldKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2Fsayh2YWx1ZSk7XG4gICAgdmFyIG5hbWVzID0gbmV3IE1hcCgpO1xuICAgIEFycmF5LmZyb20oY291bnRzKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnlbMV0gPiAxOyB9KVxuICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYlsxXSAtIGFbMV07IH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSwgaSkge1xuICAgICAgICBuYW1lcy5zZXQoZW50cnlbMF0sIGdldE5hbWUoaSkpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeSh0aGluZykge1xuICAgICAgICBpZiAobmFtZXMuaGFzKHRoaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWVzLmdldCh0aGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHRoaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVByaW1pdGl2ZSh0aGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlKHRoaW5nKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgY2FzZSAnU3RyaW5nJzpcbiAgICAgICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk9iamVjdChcIiArIHN0cmluZ2lmeSh0aGluZy52YWx1ZU9mKCkpICsgXCIpXCI7XG4gICAgICAgICAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGluZy50b1N0cmluZygpO1xuICAgICAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibmV3IERhdGUoXCIgKyB0aGluZy5nZXRUaW1lKCkgKyBcIilcIjtcbiAgICAgICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgICAgICB2YXIgbWVtYmVycyA9IHRoaW5nLm1hcChmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaSBpbiB0aGluZyA/IHN0cmluZ2lmeSh2KSA6ICcnOyB9KTtcbiAgICAgICAgICAgICAgICB2YXIgdGFpbCA9IHRoaW5nLmxlbmd0aCA9PT0gMCB8fCAodGhpbmcubGVuZ3RoIC0gMSBpbiB0aGluZykgPyAnJyA6ICcsJztcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbXCIgKyBtZW1iZXJzLmpvaW4oJywnKSArIHRhaWwgKyBcIl1cIjtcbiAgICAgICAgICAgIGNhc2UgJ1NldCc6XG4gICAgICAgICAgICBjYXNlICdNYXAnOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIm5ldyBcIiArIHR5cGUgKyBcIihbXCIgKyBBcnJheS5mcm9tKHRoaW5nKS5tYXAoc3RyaW5naWZ5KS5qb2luKCcsJykgKyBcIl0pXCI7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHZhciBvYmogPSBcIntcIiArIE9iamVjdC5rZXlzKHRoaW5nKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2FmZUtleShrZXkpICsgXCI6XCIgKyBzdHJpbmdpZnkodGhpbmdba2V5XSk7IH0pLmpvaW4oJywnKSArIFwifVwiO1xuICAgICAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGluZyk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGluZykubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIk9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSxcIiArIG9iaiArIFwiKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiT2JqZWN0LmNyZWF0ZShudWxsKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBzdHIgPSBzdHJpbmdpZnkodmFsdWUpO1xuICAgIGlmIChuYW1lcy5zaXplKSB7XG4gICAgICAgIHZhciBwYXJhbXNfMSA9IFtdO1xuICAgICAgICB2YXIgc3RhdGVtZW50c18xID0gW107XG4gICAgICAgIHZhciB2YWx1ZXNfMSA9IFtdO1xuICAgICAgICBuYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCB0aGluZykge1xuICAgICAgICAgICAgcGFyYW1zXzEucHVzaChuYW1lKTtcbiAgICAgICAgICAgIGlmIChpc1ByaW1pdGl2ZSh0aGluZykpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNfMS5wdXNoKHN0cmluZ2lmeVByaW1pdGl2ZSh0aGluZykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0eXBlID0gZ2V0VHlwZSh0aGluZyk7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc18xLnB1c2goXCJPYmplY3QoXCIgKyBzdHJpbmdpZnkodGhpbmcudmFsdWVPZigpKSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzXzEucHVzaCh0aGluZy50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc18xLnB1c2goXCJuZXcgRGF0ZShcIiArIHRoaW5nLmdldFRpbWUoKSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNfMS5wdXNoKFwiQXJyYXkoXCIgKyB0aGluZy5sZW5ndGggKyBcIilcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaW5nLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlbWVudHNfMS5wdXNoKG5hbWUgKyBcIltcIiArIGkgKyBcIl09XCIgKyBzdHJpbmdpZnkodikpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnU2V0JzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzXzEucHVzaChcIm5ldyBTZXRcIik7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlbWVudHNfMS5wdXNoKG5hbWUgKyBcIi5cIiArIEFycmF5LmZyb20odGhpbmcpLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gXCJhZGQoXCIgKyBzdHJpbmdpZnkodikgKyBcIilcIjsgfSkuam9pbignLicpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTWFwJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzXzEucHVzaChcIm5ldyBNYXBcIik7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlbWVudHNfMS5wdXNoKG5hbWUgKyBcIi5cIiArIEFycmF5LmZyb20odGhpbmcpLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gX2FbMF0sIHYgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNldChcIiArIHN0cmluZ2lmeShrKSArIFwiLCBcIiArIHN0cmluZ2lmeSh2KSArIFwiKVwiO1xuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcuJykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNfMS5wdXNoKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGluZykgPT09IG51bGwgPyAnT2JqZWN0LmNyZWF0ZShudWxsKScgOiAne30nKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpbmcpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVtZW50c18xLnB1c2goXCJcIiArIG5hbWUgKyBzYWZlUHJvcChrZXkpICsgXCI9XCIgKyBzdHJpbmdpZnkodGhpbmdba2V5XSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRlbWVudHNfMS5wdXNoKFwicmV0dXJuIFwiICsgc3RyKTtcbiAgICAgICAgcmV0dXJuIFwiKGZ1bmN0aW9uKFwiICsgcGFyYW1zXzEuam9pbignLCcpICsgXCIpe1wiICsgc3RhdGVtZW50c18xLmpvaW4oJzsnKSArIFwifShcIiArIHZhbHVlc18xLmpvaW4oJywnKSArIFwiKSlcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TmFtZShudW0pIHtcbiAgICB2YXIgbmFtZSA9ICcnO1xuICAgIGRvIHtcbiAgICAgICAgbmFtZSA9IGNoYXJzW251bSAlIGNoYXJzLmxlbmd0aF0gKyBuYW1lO1xuICAgICAgICBudW0gPSB+fihudW0gLyBjaGFycy5sZW5ndGgpIC0gMTtcbiAgICB9IHdoaWxlIChudW0gPj0gMCk7XG4gICAgcmV0dXJuIHJlc2VydmVkLnRlc3QobmFtZSkgPyBuYW1lICsgXCJfXCIgOiBuYW1lO1xufVxuZnVuY3Rpb24gaXNQcmltaXRpdmUodGhpbmcpIHtcbiAgICByZXR1cm4gT2JqZWN0KHRoaW5nKSAhPT0gdGhpbmc7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlQcmltaXRpdmUodGhpbmcpIHtcbiAgICBpZiAodHlwZW9mIHRoaW5nID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVN0cmluZyh0aGluZyk7XG4gICAgaWYgKHRoaW5nID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybiAndm9pZCAwJztcbiAgICBpZiAodGhpbmcgPT09IDAgJiYgMSAvIHRoaW5nIDwgMClcbiAgICAgICAgcmV0dXJuICctMCc7XG4gICAgdmFyIHN0ciA9IFN0cmluZyh0aGluZyk7XG4gICAgaWYgKHR5cGVvZiB0aGluZyA9PT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXigtKT8wXFwuLywgJyQxLicpO1xuICAgIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiBnZXRUeXBlKHRoaW5nKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGluZykuc2xpY2UoOCwgLTEpO1xufVxuZnVuY3Rpb24gZXNjYXBlVW5zYWZlQ2hhcihjKSB7XG4gICAgcmV0dXJuIGVzY2FwZWRbY10gfHwgYztcbn1cbmZ1bmN0aW9uIGVzY2FwZVVuc2FmZUNoYXJzKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSh1bnNhZmVDaGFycywgZXNjYXBlVW5zYWZlQ2hhcik7XG59XG5mdW5jdGlvbiBzYWZlS2V5KGtleSkge1xuICAgIHJldHVybiAvXltfJGEtekEtWl1bXyRhLXpBLVowLTldKiQvLnRlc3Qoa2V5KSA/IGtleSA6IGVzY2FwZVVuc2FmZUNoYXJzKEpTT04uc3RyaW5naWZ5KGtleSkpO1xufVxuZnVuY3Rpb24gc2FmZVByb3Aoa2V5KSB7XG4gICAgcmV0dXJuIC9eW18kYS16QS1aXVtfJGEtekEtWjAtOV0qJC8udGVzdChrZXkpID8gXCIuXCIgKyBrZXkgOiBcIltcIiArIGVzY2FwZVVuc2FmZUNoYXJzKEpTT04uc3RyaW5naWZ5KGtleSkpICsgXCJdXCI7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlTdHJpbmcoc3RyKSB7XG4gICAgdmFyIHJlc3VsdCA9ICdcIic7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGNoYXIgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICB2YXIgY29kZSA9IGNoYXIuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAnXFxcXFwiJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyIGluIGVzY2FwZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBlc2NhcGVkW2NoYXJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvZGUgPj0gMHhkODAwICYmIGNvZGUgPD0gMHhkZmZmKSB7XG4gICAgICAgICAgICB2YXIgbmV4dCA9IHN0ci5jaGFyQ29kZUF0KGkgKyAxKTtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGJlZ2lubmluZyBvZiBhIFtoaWdoLCBsb3ddIHN1cnJvZ2F0ZSBwYWlyLFxuICAgICAgICAgICAgLy8gYWRkIHRoZSBuZXh0IHR3byBjaGFyYWN0ZXJzLCBvdGhlcndpc2UgZXNjYXBlXG4gICAgICAgICAgICBpZiAoY29kZSA8PSAweGRiZmYgJiYgKG5leHQgPj0gMHhkYzAwICYmIG5leHQgPD0gMHhkZmZmKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGFyICsgc3RyWysraV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCJcXFxcdVwiICsgY29kZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjaGFyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VsdCArPSAnXCInO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS90bXB2YXIvanNkb20vYmxvYi9hYTg1YjJhYmYwNzc2NmZmN2JmNWMxZjZkYWFmYjM3MjZmMmYyZGI1L2xpYi9qc2RvbS9saXZpbmcvYmxvYi5qc1xuXG4vLyBmaXggZm9yIFwiUmVhZGFibGVcIiBpc24ndCBhIG5hbWVkIGV4cG9ydCBpc3N1ZVxuY29uc3QgUmVhZGFibGUgPSBTdHJlYW0uUmVhZGFibGU7XG5cbmNvbnN0IEJVRkZFUiA9IFN5bWJvbCgnYnVmZmVyJyk7XG5jb25zdCBUWVBFID0gU3ltYm9sKCd0eXBlJyk7XG5cbmNsYXNzIEJsb2Ige1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzW1RZUEVdID0gJyc7XG5cblx0XHRjb25zdCBibG9iUGFydHMgPSBhcmd1bWVudHNbMF07XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcblxuXHRcdGNvbnN0IGJ1ZmZlcnMgPSBbXTtcblx0XHRsZXQgc2l6ZSA9IDA7XG5cblx0XHRpZiAoYmxvYlBhcnRzKSB7XG5cdFx0XHRjb25zdCBhID0gYmxvYlBhcnRzO1xuXHRcdFx0Y29uc3QgbGVuZ3RoID0gTnVtYmVyKGEubGVuZ3RoKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgZWxlbWVudCA9IGFbaV07XG5cdFx0XHRcdGxldCBidWZmZXI7XG5cdFx0XHRcdGlmIChlbGVtZW50IGluc3RhbmNlb2YgQnVmZmVyKSB7XG5cdFx0XHRcdFx0YnVmZmVyID0gZWxlbWVudDtcblx0XHRcdFx0fSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZWxlbWVudCkpIHtcblx0XHRcdFx0XHRidWZmZXIgPSBCdWZmZXIuZnJvbShlbGVtZW50LmJ1ZmZlciwgZWxlbWVudC5ieXRlT2Zmc2V0LCBlbGVtZW50LmJ5dGVMZW5ndGgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGVsZW1lbnQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBCbG9iKSB7XG5cdFx0XHRcdFx0YnVmZmVyID0gZWxlbWVudFtCVUZGRVJdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyA/IGVsZW1lbnQgOiBTdHJpbmcoZWxlbWVudCkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNpemUgKz0gYnVmZmVyLmxlbmd0aDtcblx0XHRcdFx0YnVmZmVycy5wdXNoKGJ1ZmZlcik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpc1tCVUZGRVJdID0gQnVmZmVyLmNvbmNhdChidWZmZXJzKTtcblxuXHRcdGxldCB0eXBlID0gb3B0aW9ucyAmJiBvcHRpb25zLnR5cGUgIT09IHVuZGVmaW5lZCAmJiBTdHJpbmcob3B0aW9ucy50eXBlKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGlmICh0eXBlICYmICEvW15cXHUwMDIwLVxcdTAwN0VdLy50ZXN0KHR5cGUpKSB7XG5cdFx0XHR0aGlzW1RZUEVdID0gdHlwZTtcblx0XHR9XG5cdH1cblx0Z2V0IHNpemUoKSB7XG5cdFx0cmV0dXJuIHRoaXNbQlVGRkVSXS5sZW5ndGg7XG5cdH1cblx0Z2V0IHR5cGUoKSB7XG5cdFx0cmV0dXJuIHRoaXNbVFlQRV07XG5cdH1cblx0dGV4dCgpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXNbQlVGRkVSXS50b1N0cmluZygpKTtcblx0fVxuXHRhcnJheUJ1ZmZlcigpIHtcblx0XHRjb25zdCBidWYgPSB0aGlzW0JVRkZFUl07XG5cdFx0Y29uc3QgYWIgPSBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFiKTtcblx0fVxuXHRzdHJlYW0oKSB7XG5cdFx0Y29uc3QgcmVhZGFibGUgPSBuZXcgUmVhZGFibGUoKTtcblx0XHRyZWFkYWJsZS5fcmVhZCA9IGZ1bmN0aW9uICgpIHt9O1xuXHRcdHJlYWRhYmxlLnB1c2godGhpc1tCVUZGRVJdKTtcblx0XHRyZWFkYWJsZS5wdXNoKG51bGwpO1xuXHRcdHJldHVybiByZWFkYWJsZTtcblx0fVxuXHR0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gJ1tvYmplY3QgQmxvYl0nO1xuXHR9XG5cdHNsaWNlKCkge1xuXHRcdGNvbnN0IHNpemUgPSB0aGlzLnNpemU7XG5cblx0XHRjb25zdCBzdGFydCA9IGFyZ3VtZW50c1swXTtcblx0XHRjb25zdCBlbmQgPSBhcmd1bWVudHNbMV07XG5cdFx0bGV0IHJlbGF0aXZlU3RhcnQsIHJlbGF0aXZlRW5kO1xuXHRcdGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZWxhdGl2ZVN0YXJ0ID0gMDtcblx0XHR9IGVsc2UgaWYgKHN0YXJ0IDwgMCkge1xuXHRcdFx0cmVsYXRpdmVTdGFydCA9IE1hdGgubWF4KHNpemUgKyBzdGFydCwgMCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbGF0aXZlU3RhcnQgPSBNYXRoLm1pbihzdGFydCwgc2l6ZSk7XG5cdFx0fVxuXHRcdGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmVsYXRpdmVFbmQgPSBzaXplO1xuXHRcdH0gZWxzZSBpZiAoZW5kIDwgMCkge1xuXHRcdFx0cmVsYXRpdmVFbmQgPSBNYXRoLm1heChzaXplICsgZW5kLCAwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVsYXRpdmVFbmQgPSBNYXRoLm1pbihlbmQsIHNpemUpO1xuXHRcdH1cblx0XHRjb25zdCBzcGFuID0gTWF0aC5tYXgocmVsYXRpdmVFbmQgLSByZWxhdGl2ZVN0YXJ0LCAwKTtcblxuXHRcdGNvbnN0IGJ1ZmZlciA9IHRoaXNbQlVGRkVSXTtcblx0XHRjb25zdCBzbGljZWRCdWZmZXIgPSBidWZmZXIuc2xpY2UocmVsYXRpdmVTdGFydCwgcmVsYXRpdmVTdGFydCArIHNwYW4pO1xuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbXSwgeyB0eXBlOiBhcmd1bWVudHNbMl0gfSk7XG5cdFx0YmxvYltCVUZGRVJdID0gc2xpY2VkQnVmZmVyO1xuXHRcdHJldHVybiBibG9iO1xuXHR9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJsb2IucHJvdG90eXBlLCB7XG5cdHNpemU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHR0eXBlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0c2xpY2U6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsb2IucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcblx0dmFsdWU6ICdCbG9iJyxcblx0d3JpdGFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0Y29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuLyoqXG4gKiBmZXRjaC1lcnJvci5qc1xuICpcbiAqIEZldGNoRXJyb3IgaW50ZXJmYWNlIGZvciBvcGVyYXRpb25hbCBlcnJvcnNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBGZXRjaEVycm9yIGluc3RhbmNlXG4gKlxuICogQHBhcmFtICAgU3RyaW5nICAgICAgbWVzc2FnZSAgICAgIEVycm9yIG1lc3NhZ2UgZm9yIGh1bWFuXG4gKiBAcGFyYW0gICBTdHJpbmcgICAgICB0eXBlICAgICAgICAgRXJyb3IgdHlwZSBmb3IgbWFjaGluZVxuICogQHBhcmFtICAgU3RyaW5nICAgICAgc3lzdGVtRXJyb3IgIEZvciBOb2RlLmpzIHN5c3RlbSBlcnJvclxuICogQHJldHVybiAgRmV0Y2hFcnJvclxuICovXG5mdW5jdGlvbiBGZXRjaEVycm9yKG1lc3NhZ2UsIHR5cGUsIHN5c3RlbUVycm9yKSB7XG4gIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy50eXBlID0gdHlwZTtcblxuICAvLyB3aGVuIGVyci50eXBlIGlzIGBzeXN0ZW1gLCBlcnIuY29kZSBjb250YWlucyBzeXN0ZW0gZXJyb3IgY29kZVxuICBpZiAoc3lzdGVtRXJyb3IpIHtcbiAgICB0aGlzLmNvZGUgPSB0aGlzLmVycm5vID0gc3lzdGVtRXJyb3IuY29kZTtcbiAgfVxuXG4gIC8vIGhpZGUgY3VzdG9tIGVycm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHMgZnJvbSBlbmQtdXNlcnNcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG59XG5cbkZldGNoRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuRmV0Y2hFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGZXRjaEVycm9yO1xuRmV0Y2hFcnJvci5wcm90b3R5cGUubmFtZSA9ICdGZXRjaEVycm9yJztcblxubGV0IGNvbnZlcnQ7XG50cnkge1xuXHRjb252ZXJ0ID0gcmVxdWlyZSgnZW5jb2RpbmcnKS5jb252ZXJ0O1xufSBjYXRjaCAoZSkge31cblxuY29uc3QgSU5URVJOQUxTID0gU3ltYm9sKCdCb2R5IGludGVybmFscycpO1xuXG4vLyBmaXggYW4gaXNzdWUgd2hlcmUgXCJQYXNzVGhyb3VnaFwiIGlzbid0IGEgbmFtZWQgZXhwb3J0IGZvciBub2RlIDwxMFxuY29uc3QgUGFzc1Rocm91Z2ggPSBTdHJlYW0uUGFzc1Rocm91Z2g7XG5cbi8qKlxuICogQm9keSBtaXhpblxuICpcbiAqIFJlZjogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2JvZHlcbiAqXG4gKiBAcGFyYW0gICBTdHJlYW0gIGJvZHkgIFJlYWRhYmxlIHN0cmVhbVxuICogQHBhcmFtICAgT2JqZWN0ICBvcHRzICBSZXNwb25zZSBvcHRpb25zXG4gKiBAcmV0dXJuICBWb2lkXG4gKi9cbmZ1bmN0aW9uIEJvZHkoYm9keSkge1xuXHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcblx0ICAgIF9yZWYkc2l6ZSA9IF9yZWYuc2l6ZTtcblxuXHRsZXQgc2l6ZSA9IF9yZWYkc2l6ZSA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkc2l6ZTtcblx0dmFyIF9yZWYkdGltZW91dCA9IF9yZWYudGltZW91dDtcblx0bGV0IHRpbWVvdXQgPSBfcmVmJHRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmJHRpbWVvdXQ7XG5cblx0aWYgKGJvZHkgPT0gbnVsbCkge1xuXHRcdC8vIGJvZHkgaXMgdW5kZWZpbmVkIG9yIG51bGxcblx0XHRib2R5ID0gbnVsbDtcblx0fSBlbHNlIGlmIChpc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgYSBVUkxTZWFyY2hQYXJhbXNcblx0XHRib2R5ID0gQnVmZmVyLmZyb20oYm9keS50b1N0cmluZygpKTtcblx0fSBlbHNlIGlmIChpc0Jsb2IoYm9keSkpIDsgZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSA7IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChib2R5KSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuXHRcdC8vIGJvZHkgaXMgQXJyYXlCdWZmZXJcblx0XHRib2R5ID0gQnVmZmVyLmZyb20oYm9keSk7XG5cdH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBBcnJheUJ1ZmZlclZpZXdcblx0XHRib2R5ID0gQnVmZmVyLmZyb20oYm9keS5idWZmZXIsIGJvZHkuYnl0ZU9mZnNldCwgYm9keS5ieXRlTGVuZ3RoKTtcblx0fSBlbHNlIGlmIChib2R5IGluc3RhbmNlb2YgU3RyZWFtKSA7IGVsc2Uge1xuXHRcdC8vIG5vbmUgb2YgdGhlIGFib3ZlXG5cdFx0Ly8gY29lcmNlIHRvIHN0cmluZyB0aGVuIGJ1ZmZlclxuXHRcdGJvZHkgPSBCdWZmZXIuZnJvbShTdHJpbmcoYm9keSkpO1xuXHR9XG5cdHRoaXNbSU5URVJOQUxTXSA9IHtcblx0XHRib2R5LFxuXHRcdGRpc3R1cmJlZDogZmFsc2UsXG5cdFx0ZXJyb3I6IG51bGxcblx0fTtcblx0dGhpcy5zaXplID0gc2l6ZTtcblx0dGhpcy50aW1lb3V0ID0gdGltZW91dDtcblxuXHRpZiAoYm9keSBpbnN0YW5jZW9mIFN0cmVhbSkge1xuXHRcdGJvZHkub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0Y29uc3QgZXJyb3IgPSBlcnIubmFtZSA9PT0gJ0Fib3J0RXJyb3InID8gZXJyIDogbmV3IEZldGNoRXJyb3IoYEludmFsaWQgcmVzcG9uc2UgYm9keSB3aGlsZSB0cnlpbmcgdG8gZmV0Y2ggJHtfdGhpcy51cmx9OiAke2Vyci5tZXNzYWdlfWAsICdzeXN0ZW0nLCBlcnIpO1xuXHRcdFx0X3RoaXNbSU5URVJOQUxTXS5lcnJvciA9IGVycm9yO1xuXHRcdH0pO1xuXHR9XG59XG5cbkJvZHkucHJvdG90eXBlID0ge1xuXHRnZXQgYm9keSgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFNdLmJvZHk7XG5cdH0sXG5cblx0Z2V0IGJvZHlVc2VkKCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMU10uZGlzdHVyYmVkO1xuXHR9LFxuXG5cdC8qKlxuICAqIERlY29kZSByZXNwb25zZSBhcyBBcnJheUJ1ZmZlclxuICAqXG4gICogQHJldHVybiAgUHJvbWlzZVxuICAqL1xuXHRhcnJheUJ1ZmZlcigpIHtcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChidWYpIHtcblx0XHRcdHJldHVybiBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKTtcblx0XHR9KTtcblx0fSxcblxuXHQvKipcbiAgKiBSZXR1cm4gcmF3IHJlc3BvbnNlIGFzIEJsb2JcbiAgKlxuICAqIEByZXR1cm4gUHJvbWlzZVxuICAqL1xuXHRibG9iKCkge1xuXHRcdGxldCBjdCA9IHRoaXMuaGVhZGVycyAmJiB0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnJztcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChidWYpIHtcblx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKFxuXHRcdFx0Ly8gUHJldmVudCBjb3B5aW5nXG5cdFx0XHRuZXcgQmxvYihbXSwge1xuXHRcdFx0XHR0eXBlOiBjdC50b0xvd2VyQ2FzZSgpXG5cdFx0XHR9KSwge1xuXHRcdFx0XHRbQlVGRkVSXTogYnVmXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSxcblxuXHQvKipcbiAgKiBEZWNvZGUgcmVzcG9uc2UgYXMganNvblxuICAqXG4gICogQHJldHVybiAgUHJvbWlzZVxuICAqL1xuXHRqc29uKCkge1xuXHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdFx0cmV0dXJuIGNvbnN1bWVCb2R5LmNhbGwodGhpcykudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gSlNPTi5wYXJzZShidWZmZXIudG9TdHJpbmcoKSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZWplY3QobmV3IEZldGNoRXJyb3IoYGludmFsaWQganNvbiByZXNwb25zZSBib2R5IGF0ICR7X3RoaXMyLnVybH0gcmVhc29uOiAke2Vyci5tZXNzYWdlfWAsICdpbnZhbGlkLWpzb24nKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0LyoqXG4gICogRGVjb2RlIHJlc3BvbnNlIGFzIHRleHRcbiAgKlxuICAqIEByZXR1cm4gIFByb21pc2VcbiAgKi9cblx0dGV4dCgpIHtcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcblx0XHRcdHJldHVybiBidWZmZXIudG9TdHJpbmcoKTtcblx0XHR9KTtcblx0fSxcblxuXHQvKipcbiAgKiBEZWNvZGUgcmVzcG9uc2UgYXMgYnVmZmVyIChub24tc3BlYyBhcGkpXG4gICpcbiAgKiBAcmV0dXJuICBQcm9taXNlXG4gICovXG5cdGJ1ZmZlcigpIHtcblx0XHRyZXR1cm4gY29uc3VtZUJvZHkuY2FsbCh0aGlzKTtcblx0fSxcblxuXHQvKipcbiAgKiBEZWNvZGUgcmVzcG9uc2UgYXMgdGV4dCwgd2hpbGUgYXV0b21hdGljYWxseSBkZXRlY3RpbmcgdGhlIGVuY29kaW5nIGFuZFxuICAqIHRyeWluZyB0byBkZWNvZGUgdG8gVVRGLTggKG5vbi1zcGVjIGFwaSlcbiAgKlxuICAqIEByZXR1cm4gIFByb21pc2VcbiAgKi9cblx0dGV4dENvbnZlcnRlZCgpIHtcblx0XHR2YXIgX3RoaXMzID0gdGhpcztcblxuXHRcdHJldHVybiBjb25zdW1lQm9keS5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0cmV0dXJuIGNvbnZlcnRCb2R5KGJ1ZmZlciwgX3RoaXMzLmhlYWRlcnMpO1xuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyBJbiBicm93c2VycywgYWxsIHByb3BlcnRpZXMgYXJlIGVudW1lcmFibGUuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhCb2R5LnByb3RvdHlwZSwge1xuXHRib2R5OiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0Ym9keVVzZWQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRhcnJheUJ1ZmZlcjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGJsb2I6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRqc29uOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0dGV4dDogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuXG5Cb2R5Lm1peEluID0gZnVuY3Rpb24gKHByb3RvKSB7XG5cdGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhCb2R5LnByb3RvdHlwZSkpIHtcblx0XHQvLyBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogZnV0dXJlIHByb29mXG5cdFx0aWYgKCEobmFtZSBpbiBwcm90bykpIHtcblx0XHRcdGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEJvZHkucHJvdG90eXBlLCBuYW1lKTtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzYyk7XG5cdFx0fVxuXHR9XG59O1xuXG4vKipcbiAqIENvbnN1bWUgYW5kIGNvbnZlcnQgYW4gZW50aXJlIEJvZHkgdG8gYSBCdWZmZXIuXG4gKlxuICogUmVmOiBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1ib2R5LWNvbnN1bWUtYm9keVxuICpcbiAqIEByZXR1cm4gIFByb21pc2VcbiAqL1xuZnVuY3Rpb24gY29uc3VtZUJvZHkoKSB7XG5cdHZhciBfdGhpczQgPSB0aGlzO1xuXG5cdGlmICh0aGlzW0lOVEVSTkFMU10uZGlzdHVyYmVkKSB7XG5cdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihgYm9keSB1c2VkIGFscmVhZHkgZm9yOiAke3RoaXMudXJsfWApKTtcblx0fVxuXG5cdHRoaXNbSU5URVJOQUxTXS5kaXN0dXJiZWQgPSB0cnVlO1xuXG5cdGlmICh0aGlzW0lOVEVSTkFMU10uZXJyb3IpIHtcblx0XHRyZXR1cm4gQm9keS5Qcm9taXNlLnJlamVjdCh0aGlzW0lOVEVSTkFMU10uZXJyb3IpO1xuXHR9XG5cblx0bGV0IGJvZHkgPSB0aGlzLmJvZHk7XG5cblx0Ly8gYm9keSBpcyBudWxsXG5cdGlmIChib2R5ID09PSBudWxsKSB7XG5cdFx0cmV0dXJuIEJvZHkuUHJvbWlzZS5yZXNvbHZlKEJ1ZmZlci5hbGxvYygwKSk7XG5cdH1cblxuXHQvLyBib2R5IGlzIGJsb2Jcblx0aWYgKGlzQmxvYihib2R5KSkge1xuXHRcdGJvZHkgPSBib2R5LnN0cmVhbSgpO1xuXHR9XG5cblx0Ly8gYm9keSBpcyBidWZmZXJcblx0aWYgKEJ1ZmZlci5pc0J1ZmZlcihib2R5KSkge1xuXHRcdHJldHVybiBCb2R5LlByb21pc2UucmVzb2x2ZShib2R5KTtcblx0fVxuXG5cdC8vIGlzdGFuYnVsIGlnbm9yZSBpZjogc2hvdWxkIG5ldmVyIGhhcHBlblxuXHRpZiAoIShib2R5IGluc3RhbmNlb2YgU3RyZWFtKSkge1xuXHRcdHJldHVybiBCb2R5LlByb21pc2UucmVzb2x2ZShCdWZmZXIuYWxsb2MoMCkpO1xuXHR9XG5cblx0Ly8gYm9keSBpcyBzdHJlYW1cblx0Ly8gZ2V0IHJlYWR5IHRvIGFjdHVhbGx5IGNvbnN1bWUgdGhlIGJvZHlcblx0bGV0IGFjY3VtID0gW107XG5cdGxldCBhY2N1bUJ5dGVzID0gMDtcblx0bGV0IGFib3J0ID0gZmFsc2U7XG5cblx0cmV0dXJuIG5ldyBCb2R5LlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdGxldCByZXNUaW1lb3V0O1xuXG5cdFx0Ly8gYWxsb3cgdGltZW91dCBvbiBzbG93IHJlc3BvbnNlIGJvZHlcblx0XHRpZiAoX3RoaXM0LnRpbWVvdXQpIHtcblx0XHRcdHJlc1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0YWJvcnQgPSB0cnVlO1xuXHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYFJlc3BvbnNlIHRpbWVvdXQgd2hpbGUgdHJ5aW5nIHRvIGZldGNoICR7X3RoaXM0LnVybH0gKG92ZXIgJHtfdGhpczQudGltZW91dH1tcylgLCAnYm9keS10aW1lb3V0JykpO1xuXHRcdFx0fSwgX3RoaXM0LnRpbWVvdXQpO1xuXHRcdH1cblxuXHRcdC8vIGhhbmRsZSBzdHJlYW0gZXJyb3JzXG5cdFx0Ym9keS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRpZiAoZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuXHRcdFx0XHQvLyBpZiB0aGUgcmVxdWVzdCB3YXMgYWJvcnRlZCwgcmVqZWN0IHdpdGggdGhpcyBFcnJvclxuXHRcdFx0XHRhYm9ydCA9IHRydWU7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gb3RoZXIgZXJyb3JzLCBzdWNoIGFzIGluY29ycmVjdCBjb250ZW50LWVuY29kaW5nXG5cdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgSW52YWxpZCByZXNwb25zZSBib2R5IHdoaWxlIHRyeWluZyB0byBmZXRjaCAke190aGlzNC51cmx9OiAke2Vyci5tZXNzYWdlfWAsICdzeXN0ZW0nLCBlcnIpKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGJvZHkub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHtcblx0XHRcdGlmIChhYm9ydCB8fCBjaHVuayA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChfdGhpczQuc2l6ZSAmJiBhY2N1bUJ5dGVzICsgY2h1bmsubGVuZ3RoID4gX3RoaXM0LnNpemUpIHtcblx0XHRcdFx0YWJvcnQgPSB0cnVlO1xuXHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYGNvbnRlbnQgc2l6ZSBhdCAke190aGlzNC51cmx9IG92ZXIgbGltaXQ6ICR7X3RoaXM0LnNpemV9YCwgJ21heC1zaXplJykpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGFjY3VtQnl0ZXMgKz0gY2h1bmsubGVuZ3RoO1xuXHRcdFx0YWNjdW0ucHVzaChjaHVuayk7XG5cdFx0fSk7XG5cblx0XHRib2R5Lm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoYWJvcnQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjbGVhclRpbWVvdXQocmVzVGltZW91dCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJlc29sdmUoQnVmZmVyLmNvbmNhdChhY2N1bSwgYWNjdW1CeXRlcykpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdC8vIGhhbmRsZSBzdHJlYW1zIHRoYXQgaGF2ZSBhY2N1bXVsYXRlZCB0b28gbXVjaCBkYXRhIChpc3N1ZSAjNDE0KVxuXHRcdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYENvdWxkIG5vdCBjcmVhdGUgQnVmZmVyIGZyb20gcmVzcG9uc2UgYm9keSBmb3IgJHtfdGhpczQudXJsfTogJHtlcnIubWVzc2FnZX1gLCAnc3lzdGVtJywgZXJyKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIERldGVjdCBidWZmZXIgZW5jb2RpbmcgYW5kIGNvbnZlcnQgdG8gdGFyZ2V0IGVuY29kaW5nXG4gKiByZWY6IGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvV0QtaHRtbDUtMjAxMTAxMTMvcGFyc2luZy5odG1sI2RldGVybWluaW5nLXRoZS1jaGFyYWN0ZXItZW5jb2RpbmdcbiAqXG4gKiBAcGFyYW0gICBCdWZmZXIgIGJ1ZmZlciAgICBJbmNvbWluZyBidWZmZXJcbiAqIEBwYXJhbSAgIFN0cmluZyAgZW5jb2RpbmcgIFRhcmdldCBlbmNvZGluZ1xuICogQHJldHVybiAgU3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRCb2R5KGJ1ZmZlciwgaGVhZGVycykge1xuXHRpZiAodHlwZW9mIGNvbnZlcnQgIT09ICdmdW5jdGlvbicpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwYWNrYWdlIGBlbmNvZGluZ2AgbXVzdCBiZSBpbnN0YWxsZWQgdG8gdXNlIHRoZSB0ZXh0Q29udmVydGVkKCkgZnVuY3Rpb24nKTtcblx0fVxuXG5cdGNvbnN0IGN0ID0gaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuXHRsZXQgY2hhcnNldCA9ICd1dGYtOCc7XG5cdGxldCByZXMsIHN0cjtcblxuXHQvLyBoZWFkZXJcblx0aWYgKGN0KSB7XG5cdFx0cmVzID0gL2NoYXJzZXQ9KFteO10qKS9pLmV4ZWMoY3QpO1xuXHR9XG5cblx0Ly8gbm8gY2hhcnNldCBpbiBjb250ZW50IHR5cGUsIHBlZWsgYXQgcmVzcG9uc2UgYm9keSBmb3IgYXQgbW9zdCAxMDI0IGJ5dGVzXG5cdHN0ciA9IGJ1ZmZlci5zbGljZSgwLCAxMDI0KS50b1N0cmluZygpO1xuXG5cdC8vIGh0bWw1XG5cdGlmICghcmVzICYmIHN0cikge1xuXHRcdHJlcyA9IC88bWV0YS4rP2NoYXJzZXQ9KFsnXCJdKSguKz8pXFwxL2kuZXhlYyhzdHIpO1xuXHR9XG5cblx0Ly8gaHRtbDRcblx0aWYgKCFyZXMgJiYgc3RyKSB7XG5cdFx0cmVzID0gLzxtZXRhW1xcc10rP2h0dHAtZXF1aXY9KFsnXCJdKWNvbnRlbnQtdHlwZVxcMVtcXHNdKz9jb250ZW50PShbJ1wiXSkoLis/KVxcMi9pLmV4ZWMoc3RyKTtcblxuXHRcdGlmIChyZXMpIHtcblx0XHRcdHJlcyA9IC9jaGFyc2V0PSguKikvaS5leGVjKHJlcy5wb3AoKSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8geG1sXG5cdGlmICghcmVzICYmIHN0cikge1xuXHRcdHJlcyA9IC88XFw/eG1sLis/ZW5jb2Rpbmc9KFsnXCJdKSguKz8pXFwxL2kuZXhlYyhzdHIpO1xuXHR9XG5cblx0Ly8gZm91bmQgY2hhcnNldFxuXHRpZiAocmVzKSB7XG5cdFx0Y2hhcnNldCA9IHJlcy5wb3AoKTtcblxuXHRcdC8vIHByZXZlbnQgZGVjb2RlIGlzc3VlcyB3aGVuIHNpdGVzIHVzZSBpbmNvcnJlY3QgZW5jb2Rpbmdcblx0XHQvLyByZWY6IGh0dHBzOi8vaHNpdm9uZW4uZmkvZW5jb2RpbmctbWVudS9cblx0XHRpZiAoY2hhcnNldCA9PT0gJ2diMjMxMicgfHwgY2hhcnNldCA9PT0gJ2diaycpIHtcblx0XHRcdGNoYXJzZXQgPSAnZ2IxODAzMCc7XG5cdFx0fVxuXHR9XG5cblx0Ly8gdHVybiByYXcgYnVmZmVycyBpbnRvIGEgc2luZ2xlIHV0Zi04IGJ1ZmZlclxuXHRyZXR1cm4gY29udmVydChidWZmZXIsICdVVEYtOCcsIGNoYXJzZXQpLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogRGV0ZWN0IGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICogcmVmOiBodHRwczovL2dpdGh1Yi5jb20vYml0aW5uL25vZGUtZmV0Y2gvaXNzdWVzLzI5NiNpc3N1ZWNvbW1lbnQtMzA3NTk4MTQzXG4gKlxuICogQHBhcmFtICAgT2JqZWN0ICBvYmogICAgIE9iamVjdCB0byBkZXRlY3QgYnkgdHlwZSBvciBicmFuZFxuICogQHJldHVybiAgU3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKG9iaikge1xuXHQvLyBEdWNrLXR5cGluZyBhcyBhIG5lY2Vzc2FyeSBjb25kaXRpb24uXG5cdGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqLmFwcGVuZCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmRlbGV0ZSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmdldCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmdldEFsbCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLmhhcyAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygb2JqLnNldCAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIEJyYW5kLWNoZWNraW5nIGFuZCBtb3JlIGR1Y2stdHlwaW5nIGFzIG9wdGlvbmFsIGNvbmRpdGlvbi5cblx0cmV0dXJuIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSAnVVJMU2VhcmNoUGFyYW1zJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgVVJMU2VhcmNoUGFyYW1zXScgfHwgdHlwZW9mIG9iai5zb3J0ID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGEgVzNDIGBCbG9iYCBvYmplY3QgKHdoaWNoIGBGaWxlYCBpbmhlcml0cyBmcm9tKVxuICogQHBhcmFtICB7Kn0gb2JqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqLmFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmoudHlwZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIG9iai5zdHJlYW0gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdzdHJpbmcnICYmIC9eKEJsb2J8RmlsZSkkLy50ZXN0KG9iai5jb25zdHJ1Y3Rvci5uYW1lKSAmJiAvXihCbG9ifEZpbGUpJC8udGVzdChvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG59XG5cbi8qKlxuICogQ2xvbmUgYm9keSBnaXZlbiBSZXMvUmVxIGluc3RhbmNlXG4gKlxuICogQHBhcmFtICAgTWl4ZWQgIGluc3RhbmNlICBSZXNwb25zZSBvciBSZXF1ZXN0IGluc3RhbmNlXG4gKiBAcmV0dXJuICBNaXhlZFxuICovXG5mdW5jdGlvbiBjbG9uZShpbnN0YW5jZSkge1xuXHRsZXQgcDEsIHAyO1xuXHRsZXQgYm9keSA9IGluc3RhbmNlLmJvZHk7XG5cblx0Ly8gZG9uJ3QgYWxsb3cgY2xvbmluZyBhIHVzZWQgYm9keVxuXHRpZiAoaW5zdGFuY2UuYm9keVVzZWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Nhbm5vdCBjbG9uZSBib2R5IGFmdGVyIGl0IGlzIHVzZWQnKTtcblx0fVxuXG5cdC8vIGNoZWNrIHRoYXQgYm9keSBpcyBhIHN0cmVhbSBhbmQgbm90IGZvcm0tZGF0YSBvYmplY3Rcblx0Ly8gbm90ZTogd2UgY2FuJ3QgY2xvbmUgdGhlIGZvcm0tZGF0YSBvYmplY3Qgd2l0aG91dCBoYXZpbmcgaXQgYXMgYSBkZXBlbmRlbmN5XG5cdGlmIChib2R5IGluc3RhbmNlb2YgU3RyZWFtICYmIHR5cGVvZiBib2R5LmdldEJvdW5kYXJ5ICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gdGVlIGluc3RhbmNlIGJvZHlcblx0XHRwMSA9IG5ldyBQYXNzVGhyb3VnaCgpO1xuXHRcdHAyID0gbmV3IFBhc3NUaHJvdWdoKCk7XG5cdFx0Ym9keS5waXBlKHAxKTtcblx0XHRib2R5LnBpcGUocDIpO1xuXHRcdC8vIHNldCBpbnN0YW5jZSBib2R5IHRvIHRlZWQgYm9keSBhbmQgcmV0dXJuIHRoZSBvdGhlciB0ZWVkIGJvZHlcblx0XHRpbnN0YW5jZVtJTlRFUk5BTFNdLmJvZHkgPSBwMTtcblx0XHRib2R5ID0gcDI7XG5cdH1cblxuXHRyZXR1cm4gYm9keTtcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyB0aGUgb3BlcmF0aW9uIFwiZXh0cmFjdCBhIGBDb250ZW50LVR5cGVgIHZhbHVlIGZyb20gfG9iamVjdHxcIiBhc1xuICogc3BlY2lmaWVkIGluIHRoZSBzcGVjaWZpY2F0aW9uOlxuICogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtYm9keWluaXQtZXh0cmFjdFxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGluc3RhbmNlLmJvZHkgaXMgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0gICBNaXhlZCAgaW5zdGFuY2UgIEFueSBvcHRpb25zLmJvZHkgaW5wdXRcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdENvbnRlbnRUeXBlKGJvZHkpIHtcblx0aWYgKGJvZHkgPT09IG51bGwpIHtcblx0XHQvLyBib2R5IGlzIG51bGxcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0XHQvLyBib2R5IGlzIHN0cmluZ1xuXHRcdHJldHVybiAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jztcblx0fSBlbHNlIGlmIChpc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuXHRcdC8vIGJvZHkgaXMgYSBVUkxTZWFyY2hQYXJhbXNcblx0XHRyZXR1cm4gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Jztcblx0fSBlbHNlIGlmIChpc0Jsb2IoYm9keSkpIHtcblx0XHQvLyBib2R5IGlzIGJsb2Jcblx0XHRyZXR1cm4gYm9keS50eXBlIHx8IG51bGw7XG5cdH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBidWZmZXJcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYm9keSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcblx0XHQvLyBib2R5IGlzIEFycmF5QnVmZmVyXG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBBcnJheUJ1ZmZlclZpZXdcblx0XHRyZXR1cm4gbnVsbDtcblx0fSBlbHNlIGlmICh0eXBlb2YgYm9keS5nZXRCb3VuZGFyeSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIGRldGVjdCBmb3JtIGRhdGEgaW5wdXQgZnJvbSBmb3JtLWRhdGEgbW9kdWxlXG5cdFx0cmV0dXJuIGBtdWx0aXBhcnQvZm9ybS1kYXRhO2JvdW5kYXJ5PSR7Ym9keS5nZXRCb3VuZGFyeSgpfWA7XG5cdH0gZWxzZSBpZiAoYm9keSBpbnN0YW5jZW9mIFN0cmVhbSkge1xuXHRcdC8vIGJvZHkgaXMgc3RyZWFtXG5cdFx0Ly8gY2FuJ3QgcmVhbGx5IGRvIG11Y2ggYWJvdXQgdGhpc1xuXHRcdHJldHVybiBudWxsO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEJvZHkgY29uc3RydWN0b3IgZGVmYXVsdHMgb3RoZXIgdGhpbmdzIHRvIHN0cmluZ1xuXHRcdHJldHVybiAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jztcblx0fVxufVxuXG4vKipcbiAqIFRoZSBGZXRjaCBTdGFuZGFyZCB0cmVhdHMgdGhpcyBhcyBpZiBcInRvdGFsIGJ5dGVzXCIgaXMgYSBwcm9wZXJ0eSBvbiB0aGUgYm9keS5cbiAqIEZvciB1cywgd2UgaGF2ZSB0byBleHBsaWNpdGx5IGdldCBpdCB3aXRoIGEgZnVuY3Rpb24uXG4gKlxuICogcmVmOiBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1ib2R5LXRvdGFsLWJ5dGVzXG4gKlxuICogQHBhcmFtICAgQm9keSAgICBpbnN0YW5jZSAgIEluc3RhbmNlIG9mIEJvZHlcbiAqIEByZXR1cm4gIE51bWJlcj8gICAgICAgICAgICBOdW1iZXIgb2YgYnl0ZXMsIG9yIG51bGwgaWYgbm90IHBvc3NpYmxlXG4gKi9cbmZ1bmN0aW9uIGdldFRvdGFsQnl0ZXMoaW5zdGFuY2UpIHtcblx0Y29uc3QgYm9keSA9IGluc3RhbmNlLmJvZHk7XG5cblxuXHRpZiAoYm9keSA9PT0gbnVsbCkge1xuXHRcdC8vIGJvZHkgaXMgbnVsbFxuXHRcdHJldHVybiAwO1xuXHR9IGVsc2UgaWYgKGlzQmxvYihib2R5KSkge1xuXHRcdHJldHVybiBib2R5LnNpemU7XG5cdH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBidWZmZXJcblx0XHRyZXR1cm4gYm9keS5sZW5ndGg7XG5cdH0gZWxzZSBpZiAoYm9keSAmJiB0eXBlb2YgYm9keS5nZXRMZW5ndGhTeW5jID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gZGV0ZWN0IGZvcm0gZGF0YSBpbnB1dCBmcm9tIGZvcm0tZGF0YSBtb2R1bGVcblx0XHRpZiAoYm9keS5fbGVuZ3RoUmV0cmlldmVycyAmJiBib2R5Ll9sZW5ndGhSZXRyaWV2ZXJzLmxlbmd0aCA9PSAwIHx8IC8vIDEueFxuXHRcdGJvZHkuaGFzS25vd25MZW5ndGggJiYgYm9keS5oYXNLbm93bkxlbmd0aCgpKSB7XG5cdFx0XHQvLyAyLnhcblx0XHRcdHJldHVybiBib2R5LmdldExlbmd0aFN5bmMoKTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gYm9keSBpcyBzdHJlYW1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIFdyaXRlIGEgQm9keSB0byBhIE5vZGUuanMgV3JpdGFibGVTdHJlYW0gKGUuZy4gaHR0cC5SZXF1ZXN0KSBvYmplY3QuXG4gKlxuICogQHBhcmFtICAgQm9keSAgICBpbnN0YW5jZSAgIEluc3RhbmNlIG9mIEJvZHlcbiAqIEByZXR1cm4gIFZvaWRcbiAqL1xuZnVuY3Rpb24gd3JpdGVUb1N0cmVhbShkZXN0LCBpbnN0YW5jZSkge1xuXHRjb25zdCBib2R5ID0gaW5zdGFuY2UuYm9keTtcblxuXG5cdGlmIChib2R5ID09PSBudWxsKSB7XG5cdFx0Ly8gYm9keSBpcyBudWxsXG5cdFx0ZGVzdC5lbmQoKTtcblx0fSBlbHNlIGlmIChpc0Jsb2IoYm9keSkpIHtcblx0XHRib2R5LnN0cmVhbSgpLnBpcGUoZGVzdCk7XG5cdH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSB7XG5cdFx0Ly8gYm9keSBpcyBidWZmZXJcblx0XHRkZXN0LndyaXRlKGJvZHkpO1xuXHRcdGRlc3QuZW5kKCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gYm9keSBpcyBzdHJlYW1cblx0XHRib2R5LnBpcGUoZGVzdCk7XG5cdH1cbn1cblxuLy8gZXhwb3NlIFByb21pc2VcbkJvZHkuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuXG4vKipcbiAqIGhlYWRlcnMuanNcbiAqXG4gKiBIZWFkZXJzIGNsYXNzIG9mZmVycyBjb252ZW5pZW50IGhlbHBlcnNcbiAqL1xuXG5jb25zdCBpbnZhbGlkVG9rZW5SZWdleCA9IC9bXlxcXl9gYS16QS1aXFwtMC05ISMkJSYnKisufH5dLztcbmNvbnN0IGludmFsaWRIZWFkZXJDaGFyUmVnZXggPSAvW15cXHRcXHgyMC1cXHg3ZVxceDgwLVxceGZmXS87XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTmFtZShuYW1lKSB7XG5cdG5hbWUgPSBgJHtuYW1lfWA7XG5cdGlmIChpbnZhbGlkVG9rZW5SZWdleC50ZXN0KG5hbWUpIHx8IG5hbWUgPT09ICcnKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgJHtuYW1lfSBpcyBub3QgYSBsZWdhbCBIVFRQIGhlYWRlciBuYW1lYCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWx1ZSkge1xuXHR2YWx1ZSA9IGAke3ZhbHVlfWA7XG5cdGlmIChpbnZhbGlkSGVhZGVyQ2hhclJlZ2V4LnRlc3QodmFsdWUpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgJHt2YWx1ZX0gaXMgbm90IGEgbGVnYWwgSFRUUCBoZWFkZXIgdmFsdWVgKTtcblx0fVxufVxuXG4vKipcbiAqIEZpbmQgdGhlIGtleSBpbiB0aGUgbWFwIG9iamVjdCBnaXZlbiBhIGhlYWRlciBuYW1lLlxuICpcbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cbiAqXG4gKiBAcGFyYW0gICBTdHJpbmcgIG5hbWUgIEhlYWRlciBuYW1lXG4gKiBAcmV0dXJuICBTdHJpbmd8VW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGZpbmQobWFwLCBuYW1lKSB7XG5cdG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdGZvciAoY29uc3Qga2V5IGluIG1hcCkge1xuXHRcdGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSkge1xuXHRcdFx0cmV0dXJuIGtleTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuY29uc3QgTUFQID0gU3ltYm9sKCdtYXAnKTtcbmNsYXNzIEhlYWRlcnMge1xuXHQvKipcbiAgKiBIZWFkZXJzIGNsYXNzXG4gICpcbiAgKiBAcGFyYW0gICBPYmplY3QgIGhlYWRlcnMgIFJlc3BvbnNlIGhlYWRlcnNcbiAgKiBAcmV0dXJuICBWb2lkXG4gICovXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdGxldCBpbml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQ7XG5cblx0XHR0aGlzW01BUF0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5cdFx0aWYgKGluaXQgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG5cdFx0XHRjb25zdCByYXdIZWFkZXJzID0gaW5pdC5yYXcoKTtcblx0XHRcdGNvbnN0IGhlYWRlck5hbWVzID0gT2JqZWN0LmtleXMocmF3SGVhZGVycyk7XG5cblx0XHRcdGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBoZWFkZXJOYW1lcykge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHJhd0hlYWRlcnNbaGVhZGVyTmFtZV0pIHtcblx0XHRcdFx0XHR0aGlzLmFwcGVuZChoZWFkZXJOYW1lLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFdlIGRvbid0IHdvcnJ5IGFib3V0IGNvbnZlcnRpbmcgcHJvcCB0byBCeXRlU3RyaW5nIGhlcmUgYXMgYXBwZW5kKClcblx0XHQvLyB3aWxsIGhhbmRsZSBpdC5cblx0XHRpZiAoaW5pdCA9PSBudWxsKSA7IGVsc2UgaWYgKHR5cGVvZiBpbml0ID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWV0aG9kID0gaW5pdFtTeW1ib2wuaXRlcmF0b3JdO1xuXHRcdFx0aWYgKG1ldGhvZCAhPSBudWxsKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgbWV0aG9kICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSGVhZGVyIHBhaXJzIG11c3QgYmUgaXRlcmFibGUnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHNlcXVlbmNlPHNlcXVlbmNlPEJ5dGVTdHJpbmc+PlxuXHRcdFx0XHQvLyBOb3RlOiBwZXIgc3BlYyB3ZSBoYXZlIHRvIGZpcnN0IGV4aGF1c3QgdGhlIGxpc3RzIHRoZW4gcHJvY2VzcyB0aGVtXG5cdFx0XHRcdGNvbnN0IHBhaXJzID0gW107XG5cdFx0XHRcdGZvciAoY29uc3QgcGFpciBvZiBpbml0KSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBwYWlyICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgcGFpcltTeW1ib2wuaXRlcmF0b3JdICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFYWNoIGhlYWRlciBwYWlyIG11c3QgYmUgaXRlcmFibGUnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cGFpcnMucHVzaChBcnJheS5mcm9tKHBhaXIpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuXHRcdFx0XHRcdGlmIChwYWlyLmxlbmd0aCAhPT0gMikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRWFjaCBoZWFkZXIgcGFpciBtdXN0IGJlIGEgbmFtZS92YWx1ZSB0dXBsZScpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLmFwcGVuZChwYWlyWzBdLCBwYWlyWzFdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcmVjb3JkPEJ5dGVTdHJpbmcsIEJ5dGVTdHJpbmc+XG5cdFx0XHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGluaXQpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBpbml0W2tleV07XG5cdFx0XHRcdFx0dGhpcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgaW5pdGlhbGl6ZXIgbXVzdCBiZSBhbiBvYmplY3QnKTtcblx0XHR9XG5cdH1cblxuXHQvKipcbiAgKiBSZXR1cm4gY29tYmluZWQgaGVhZGVyIHZhbHVlIGdpdmVuIG5hbWVcbiAgKlxuICAqIEBwYXJhbSAgIFN0cmluZyAgbmFtZSAgSGVhZGVyIG5hbWVcbiAgKiBAcmV0dXJuICBNaXhlZFxuICAqL1xuXHRnZXQobmFtZSkge1xuXHRcdG5hbWUgPSBgJHtuYW1lfWA7XG5cdFx0dmFsaWRhdGVOYW1lKG5hbWUpO1xuXHRcdGNvbnN0IGtleSA9IGZpbmQodGhpc1tNQVBdLCBuYW1lKTtcblx0XHRpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzW01BUF1ba2V5XS5qb2luKCcsICcpO1xuXHR9XG5cblx0LyoqXG4gICogSXRlcmF0ZSBvdmVyIGFsbCBoZWFkZXJzXG4gICpcbiAgKiBAcGFyYW0gICBGdW5jdGlvbiAgY2FsbGJhY2sgIEV4ZWN1dGVkIGZvciBlYWNoIGl0ZW0gd2l0aCBwYXJhbWV0ZXJzICh2YWx1ZSwgbmFtZSwgdGhpc0FyZylcbiAgKiBAcGFyYW0gICBCb29sZWFuICAgdGhpc0FyZyAgIGB0aGlzYCBjb250ZXh0IGZvciBjYWxsYmFjayBmdW5jdGlvblxuICAqIEByZXR1cm4gIFZvaWRcbiAgKi9cblx0Zm9yRWFjaChjYWxsYmFjaykge1xuXHRcdGxldCB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cblx0XHRsZXQgcGFpcnMgPSBnZXRIZWFkZXJzKHRoaXMpO1xuXHRcdGxldCBpID0gMDtcblx0XHR3aGlsZSAoaSA8IHBhaXJzLmxlbmd0aCkge1xuXHRcdFx0dmFyIF9wYWlycyRpID0gcGFpcnNbaV07XG5cdFx0XHRjb25zdCBuYW1lID0gX3BhaXJzJGlbMF0sXG5cdFx0XHQgICAgICB2YWx1ZSA9IF9wYWlycyRpWzFdO1xuXG5cdFx0XHRjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbHVlLCBuYW1lLCB0aGlzKTtcblx0XHRcdHBhaXJzID0gZ2V0SGVhZGVycyh0aGlzKTtcblx0XHRcdGkrKztcblx0XHR9XG5cdH1cblxuXHQvKipcbiAgKiBPdmVyd3JpdGUgaGVhZGVyIHZhbHVlcyBnaXZlbiBuYW1lXG4gICpcbiAgKiBAcGFyYW0gICBTdHJpbmcgIG5hbWUgICBIZWFkZXIgbmFtZVxuICAqIEBwYXJhbSAgIFN0cmluZyAgdmFsdWUgIEhlYWRlciB2YWx1ZVxuICAqIEByZXR1cm4gIFZvaWRcbiAgKi9cblx0c2V0KG5hbWUsIHZhbHVlKSB7XG5cdFx0bmFtZSA9IGAke25hbWV9YDtcblx0XHR2YWx1ZSA9IGAke3ZhbHVlfWA7XG5cdFx0dmFsaWRhdGVOYW1lKG5hbWUpO1xuXHRcdHZhbGlkYXRlVmFsdWUodmFsdWUpO1xuXHRcdGNvbnN0IGtleSA9IGZpbmQodGhpc1tNQVBdLCBuYW1lKTtcblx0XHR0aGlzW01BUF1ba2V5ICE9PSB1bmRlZmluZWQgPyBrZXkgOiBuYW1lXSA9IFt2YWx1ZV07XG5cdH1cblxuXHQvKipcbiAgKiBBcHBlbmQgYSB2YWx1ZSBvbnRvIGV4aXN0aW5nIGhlYWRlclxuICAqXG4gICogQHBhcmFtICAgU3RyaW5nICBuYW1lICAgSGVhZGVyIG5hbWVcbiAgKiBAcGFyYW0gICBTdHJpbmcgIHZhbHVlICBIZWFkZXIgdmFsdWVcbiAgKiBAcmV0dXJuICBWb2lkXG4gICovXG5cdGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuXHRcdG5hbWUgPSBgJHtuYW1lfWA7XG5cdFx0dmFsdWUgPSBgJHt2YWx1ZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHR2YWxpZGF0ZVZhbHVlKHZhbHVlKTtcblx0XHRjb25zdCBrZXkgPSBmaW5kKHRoaXNbTUFQXSwgbmFtZSk7XG5cdFx0aWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzW01BUF1ba2V5XS5wdXNoKHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpc1tNQVBdW25hbWVdID0gW3ZhbHVlXTtcblx0XHR9XG5cdH1cblxuXHQvKipcbiAgKiBDaGVjayBmb3IgaGVhZGVyIG5hbWUgZXhpc3RlbmNlXG4gICpcbiAgKiBAcGFyYW0gICBTdHJpbmcgICBuYW1lICBIZWFkZXIgbmFtZVxuICAqIEByZXR1cm4gIEJvb2xlYW5cbiAgKi9cblx0aGFzKG5hbWUpIHtcblx0XHRuYW1lID0gYCR7bmFtZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHRyZXR1cm4gZmluZCh0aGlzW01BUF0sIG5hbWUpICE9PSB1bmRlZmluZWQ7XG5cdH1cblxuXHQvKipcbiAgKiBEZWxldGUgYWxsIGhlYWRlciB2YWx1ZXMgZ2l2ZW4gbmFtZVxuICAqXG4gICogQHBhcmFtICAgU3RyaW5nICBuYW1lICBIZWFkZXIgbmFtZVxuICAqIEByZXR1cm4gIFZvaWRcbiAgKi9cblx0ZGVsZXRlKG5hbWUpIHtcblx0XHRuYW1lID0gYCR7bmFtZX1gO1xuXHRcdHZhbGlkYXRlTmFtZShuYW1lKTtcblx0XHRjb25zdCBrZXkgPSBmaW5kKHRoaXNbTUFQXSwgbmFtZSk7XG5cdFx0aWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkZWxldGUgdGhpc1tNQVBdW2tleV07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG4gICogUmV0dXJuIHJhdyBoZWFkZXJzIChub24tc3BlYyBhcGkpXG4gICpcbiAgKiBAcmV0dXJuICBPYmplY3RcbiAgKi9cblx0cmF3KCkge1xuXHRcdHJldHVybiB0aGlzW01BUF07XG5cdH1cblxuXHQvKipcbiAgKiBHZXQgYW4gaXRlcmF0b3Igb24ga2V5cy5cbiAgKlxuICAqIEByZXR1cm4gIEl0ZXJhdG9yXG4gICovXG5cdGtleXMoKSB7XG5cdFx0cmV0dXJuIGNyZWF0ZUhlYWRlcnNJdGVyYXRvcih0aGlzLCAna2V5Jyk7XG5cdH1cblxuXHQvKipcbiAgKiBHZXQgYW4gaXRlcmF0b3Igb24gdmFsdWVzLlxuICAqXG4gICogQHJldHVybiAgSXRlcmF0b3JcbiAgKi9cblx0dmFsdWVzKCkge1xuXHRcdHJldHVybiBjcmVhdGVIZWFkZXJzSXRlcmF0b3IodGhpcywgJ3ZhbHVlJyk7XG5cdH1cblxuXHQvKipcbiAgKiBHZXQgYW4gaXRlcmF0b3Igb24gZW50cmllcy5cbiAgKlxuICAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgaXRlcmF0b3Igb2YgdGhlIEhlYWRlcnMgb2JqZWN0LlxuICAqXG4gICogQHJldHVybiAgSXRlcmF0b3JcbiAgKi9cblx0W1N5bWJvbC5pdGVyYXRvcl0oKSB7XG5cdFx0cmV0dXJuIGNyZWF0ZUhlYWRlcnNJdGVyYXRvcih0aGlzLCAna2V5K3ZhbHVlJyk7XG5cdH1cbn1cbkhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSGVhZGVycy5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuXHR2YWx1ZTogJ0hlYWRlcnMnLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhIZWFkZXJzLnByb3RvdHlwZSwge1xuXHRnZXQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRmb3JFYWNoOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0c2V0OiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0YXBwZW5kOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0aGFzOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0ZGVsZXRlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0a2V5czogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHZhbHVlczogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdGVudHJpZXM6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcblxuZnVuY3Rpb24gZ2V0SGVhZGVycyhoZWFkZXJzKSB7XG5cdGxldCBraW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAna2V5K3ZhbHVlJztcblxuXHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoaGVhZGVyc1tNQVBdKS5zb3J0KCk7XG5cdHJldHVybiBrZXlzLm1hcChraW5kID09PSAna2V5JyA/IGZ1bmN0aW9uIChrKSB7XG5cdFx0cmV0dXJuIGsudG9Mb3dlckNhc2UoKTtcblx0fSA6IGtpbmQgPT09ICd2YWx1ZScgPyBmdW5jdGlvbiAoaykge1xuXHRcdHJldHVybiBoZWFkZXJzW01BUF1ba10uam9pbignLCAnKTtcblx0fSA6IGZ1bmN0aW9uIChrKSB7XG5cdFx0cmV0dXJuIFtrLnRvTG93ZXJDYXNlKCksIGhlYWRlcnNbTUFQXVtrXS5qb2luKCcsICcpXTtcblx0fSk7XG59XG5cbmNvbnN0IElOVEVSTkFMID0gU3ltYm9sKCdpbnRlcm5hbCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzSXRlcmF0b3IodGFyZ2V0LCBraW5kKSB7XG5cdGNvbnN0IGl0ZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShIZWFkZXJzSXRlcmF0b3JQcm90b3R5cGUpO1xuXHRpdGVyYXRvcltJTlRFUk5BTF0gPSB7XG5cdFx0dGFyZ2V0LFxuXHRcdGtpbmQsXG5cdFx0aW5kZXg6IDBcblx0fTtcblx0cmV0dXJuIGl0ZXJhdG9yO1xufVxuXG5jb25zdCBIZWFkZXJzSXRlcmF0b3JQcm90b3R5cGUgPSBPYmplY3Quc2V0UHJvdG90eXBlT2Yoe1xuXHRuZXh0KCkge1xuXHRcdC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuXHRcdGlmICghdGhpcyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgIT09IEhlYWRlcnNJdGVyYXRvclByb3RvdHlwZSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYHRoaXNgIGlzIG5vdCBhIEhlYWRlcnNJdGVyYXRvcicpO1xuXHRcdH1cblxuXHRcdHZhciBfSU5URVJOQUwgPSB0aGlzW0lOVEVSTkFMXTtcblx0XHRjb25zdCB0YXJnZXQgPSBfSU5URVJOQUwudGFyZ2V0LFxuXHRcdCAgICAgIGtpbmQgPSBfSU5URVJOQUwua2luZCxcblx0XHQgICAgICBpbmRleCA9IF9JTlRFUk5BTC5pbmRleDtcblxuXHRcdGNvbnN0IHZhbHVlcyA9IGdldEhlYWRlcnModGFyZ2V0LCBraW5kKTtcblx0XHRjb25zdCBsZW4gPSB2YWx1ZXMubGVuZ3RoO1xuXHRcdGlmIChpbmRleCA+PSBsZW4pIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHZhbHVlOiB1bmRlZmluZWQsXG5cdFx0XHRcdGRvbmU6IHRydWVcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dGhpc1tJTlRFUk5BTF0uaW5kZXggPSBpbmRleCArIDE7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dmFsdWU6IHZhbHVlc1tpbmRleF0sXG5cdFx0XHRkb25lOiBmYWxzZVxuXHRcdH07XG5cdH1cbn0sIE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QuZ2V0UHJvdG90eXBlT2YoW11bU3ltYm9sLml0ZXJhdG9yXSgpKSkpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSGVhZGVyc0l0ZXJhdG9yUHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcblx0dmFsdWU6ICdIZWFkZXJzSXRlcmF0b3InLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG4vKipcbiAqIEV4cG9ydCB0aGUgSGVhZGVycyBvYmplY3QgaW4gYSBmb3JtIHRoYXQgTm9kZS5qcyBjYW4gY29uc3VtZS5cbiAqXG4gKiBAcGFyYW0gICBIZWFkZXJzICBoZWFkZXJzXG4gKiBAcmV0dXJuICBPYmplY3RcbiAqL1xuZnVuY3Rpb24gZXhwb3J0Tm9kZUNvbXBhdGlibGVIZWFkZXJzKGhlYWRlcnMpIHtcblx0Y29uc3Qgb2JqID0gT2JqZWN0LmFzc2lnbih7IF9fcHJvdG9fXzogbnVsbCB9LCBoZWFkZXJzW01BUF0pO1xuXG5cdC8vIGh0dHAucmVxdWVzdCgpIG9ubHkgc3VwcG9ydHMgc3RyaW5nIGFzIEhvc3QgaGVhZGVyLiBUaGlzIGhhY2sgbWFrZXNcblx0Ly8gc3BlY2lmeWluZyBjdXN0b20gSG9zdCBoZWFkZXIgcG9zc2libGUuXG5cdGNvbnN0IGhvc3RIZWFkZXJLZXkgPSBmaW5kKGhlYWRlcnNbTUFQXSwgJ0hvc3QnKTtcblx0aWYgKGhvc3RIZWFkZXJLZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdG9ialtob3N0SGVhZGVyS2V5XSA9IG9ialtob3N0SGVhZGVyS2V5XVswXTtcblx0fVxuXG5cdHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgSGVhZGVycyBvYmplY3QgZnJvbSBhbiBvYmplY3Qgb2YgaGVhZGVycywgaWdub3JpbmcgdGhvc2UgdGhhdCBkb1xuICogbm90IGNvbmZvcm0gdG8gSFRUUCBncmFtbWFyIHByb2R1Y3Rpb25zLlxuICpcbiAqIEBwYXJhbSAgIE9iamVjdCAgb2JqICBPYmplY3Qgb2YgaGVhZGVyc1xuICogQHJldHVybiAgSGVhZGVyc1xuICovXG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzTGVuaWVudChvYmopIHtcblx0Y29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cdGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhvYmopKSB7XG5cdFx0aWYgKGludmFsaWRUb2tlblJlZ2V4LnRlc3QobmFtZSkpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvYmpbbmFtZV0pKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHZhbCBvZiBvYmpbbmFtZV0pIHtcblx0XHRcdFx0aWYgKGludmFsaWRIZWFkZXJDaGFyUmVnZXgudGVzdCh2YWwpKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGhlYWRlcnNbTUFQXVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1tNQVBdW25hbWVdID0gW3ZhbF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGVhZGVyc1tNQVBdW25hbWVdLnB1c2godmFsKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIWludmFsaWRIZWFkZXJDaGFyUmVnZXgudGVzdChvYmpbbmFtZV0pKSB7XG5cdFx0XHRoZWFkZXJzW01BUF1bbmFtZV0gPSBbb2JqW25hbWVdXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGhlYWRlcnM7XG59XG5cbmNvbnN0IElOVEVSTkFMUyQxID0gU3ltYm9sKCdSZXNwb25zZSBpbnRlcm5hbHMnKTtcblxuLy8gZml4IGFuIGlzc3VlIHdoZXJlIFwiU1RBVFVTX0NPREVTXCIgYXJlbid0IGEgbmFtZWQgZXhwb3J0IGZvciBub2RlIDwxMFxuY29uc3QgU1RBVFVTX0NPREVTID0gaHR0cC5TVEFUVVNfQ09ERVM7XG5cbi8qKlxuICogUmVzcG9uc2UgY2xhc3NcbiAqXG4gKiBAcGFyYW0gICBTdHJlYW0gIGJvZHkgIFJlYWRhYmxlIHN0cmVhbVxuICogQHBhcmFtICAgT2JqZWN0ICBvcHRzICBSZXNwb25zZSBvcHRpb25zXG4gKiBAcmV0dXJuICBWb2lkXG4gKi9cbmNsYXNzIFJlc3BvbnNlIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0bGV0IGJvZHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG5cdFx0bGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG5cdFx0Qm9keS5jYWxsKHRoaXMsIGJvZHksIG9wdHMpO1xuXG5cdFx0Y29uc3Qgc3RhdHVzID0gb3B0cy5zdGF0dXMgfHwgMjAwO1xuXHRcdGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRzLmhlYWRlcnMpO1xuXG5cdFx0aWYgKGJvZHkgIT0gbnVsbCAmJiAhaGVhZGVycy5oYXMoJ0NvbnRlbnQtVHlwZScpKSB7XG5cdFx0XHRjb25zdCBjb250ZW50VHlwZSA9IGV4dHJhY3RDb250ZW50VHlwZShib2R5KTtcblx0XHRcdGlmIChjb250ZW50VHlwZSkge1xuXHRcdFx0XHRoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgY29udGVudFR5cGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXNbSU5URVJOQUxTJDFdID0ge1xuXHRcdFx0dXJsOiBvcHRzLnVybCxcblx0XHRcdHN0YXR1cyxcblx0XHRcdHN0YXR1c1RleHQ6IG9wdHMuc3RhdHVzVGV4dCB8fCBTVEFUVVNfQ09ERVNbc3RhdHVzXSxcblx0XHRcdGhlYWRlcnMsXG5cdFx0XHRjb3VudGVyOiBvcHRzLmNvdW50ZXJcblx0XHR9O1xuXHR9XG5cblx0Z2V0IHVybCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0udXJsIHx8ICcnO1xuXHR9XG5cblx0Z2V0IHN0YXR1cygpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uc3RhdHVzO1xuXHR9XG5cblx0LyoqXG4gICogQ29udmVuaWVuY2UgcHJvcGVydHkgcmVwcmVzZW50aW5nIGlmIHRoZSByZXF1ZXN0IGVuZGVkIG5vcm1hbGx5XG4gICovXG5cdGdldCBvaygpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uc3RhdHVzID49IDIwMCAmJiB0aGlzW0lOVEVSTkFMUyQxXS5zdGF0dXMgPCAzMDA7XG5cdH1cblxuXHRnZXQgcmVkaXJlY3RlZCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uY291bnRlciA+IDA7XG5cdH1cblxuXHRnZXQgc3RhdHVzVGV4dCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMV0uc3RhdHVzVGV4dDtcblx0fVxuXG5cdGdldCBoZWFkZXJzKCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMUyQxXS5oZWFkZXJzO1xuXHR9XG5cblx0LyoqXG4gICogQ2xvbmUgdGhpcyByZXNwb25zZVxuICAqXG4gICogQHJldHVybiAgUmVzcG9uc2VcbiAgKi9cblx0Y2xvbmUoKSB7XG5cdFx0cmV0dXJuIG5ldyBSZXNwb25zZShjbG9uZSh0aGlzKSwge1xuXHRcdFx0dXJsOiB0aGlzLnVybCxcblx0XHRcdHN0YXR1czogdGhpcy5zdGF0dXMsXG5cdFx0XHRzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG5cdFx0XHRoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG5cdFx0XHRvazogdGhpcy5vayxcblx0XHRcdHJlZGlyZWN0ZWQ6IHRoaXMucmVkaXJlY3RlZFxuXHRcdH0pO1xuXHR9XG59XG5cbkJvZHkubWl4SW4oUmVzcG9uc2UucHJvdG90eXBlKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVzcG9uc2UucHJvdG90eXBlLCB7XG5cdHVybDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHN0YXR1czogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdG9rOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0cmVkaXJlY3RlZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHN0YXR1c1RleHQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRoZWFkZXJzOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0Y2xvbmU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG5cdHZhbHVlOiAnUmVzcG9uc2UnLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5jb25zdCBJTlRFUk5BTFMkMiA9IFN5bWJvbCgnUmVxdWVzdCBpbnRlcm5hbHMnKTtcblxuLy8gZml4IGFuIGlzc3VlIHdoZXJlIFwiZm9ybWF0XCIsIFwicGFyc2VcIiBhcmVuJ3QgYSBuYW1lZCBleHBvcnQgZm9yIG5vZGUgPDEwXG5jb25zdCBwYXJzZV91cmwgPSBVcmwucGFyc2U7XG5jb25zdCBmb3JtYXRfdXJsID0gVXJsLmZvcm1hdDtcblxuY29uc3Qgc3RyZWFtRGVzdHJ1Y3Rpb25TdXBwb3J0ZWQgPSAnZGVzdHJveScgaW4gU3RyZWFtLlJlYWRhYmxlLnByb3RvdHlwZTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIFJlcXVlc3QuXG4gKlxuICogQHBhcmFtICAgTWl4ZWQgICBpbnB1dFxuICogQHJldHVybiAgQm9vbGVhblxuICovXG5mdW5jdGlvbiBpc1JlcXVlc3QoaW5wdXQpIHtcblx0cmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGlucHV0W0lOVEVSTkFMUyQyXSA9PT0gJ29iamVjdCc7XG59XG5cbmZ1bmN0aW9uIGlzQWJvcnRTaWduYWwoc2lnbmFsKSB7XG5cdGNvbnN0IHByb3RvID0gc2lnbmFsICYmIHR5cGVvZiBzaWduYWwgPT09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihzaWduYWwpO1xuXHRyZXR1cm4gISEocHJvdG8gJiYgcHJvdG8uY29uc3RydWN0b3IubmFtZSA9PT0gJ0Fib3J0U2lnbmFsJyk7XG59XG5cbi8qKlxuICogUmVxdWVzdCBjbGFzc1xuICpcbiAqIEBwYXJhbSAgIE1peGVkICAgaW5wdXQgIFVybCBvciBSZXF1ZXN0IGluc3RhbmNlXG4gKiBAcGFyYW0gICBPYmplY3QgIGluaXQgICBDdXN0b20gb3B0aW9uc1xuICogQHJldHVybiAgVm9pZFxuICovXG5jbGFzcyBSZXF1ZXN0IHtcblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRsZXQgaW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cblx0XHRsZXQgcGFyc2VkVVJMO1xuXG5cdFx0Ly8gbm9ybWFsaXplIGlucHV0XG5cdFx0aWYgKCFpc1JlcXVlc3QoaW5wdXQpKSB7XG5cdFx0XHRpZiAoaW5wdXQgJiYgaW5wdXQuaHJlZikge1xuXHRcdFx0XHQvLyBpbiBvcmRlciB0byBzdXBwb3J0IE5vZGUuanMnIFVybCBvYmplY3RzOyB0aG91Z2ggV0hBVFdHJ3MgVVJMIG9iamVjdHNcblx0XHRcdFx0Ly8gd2lsbCBmYWxsIGludG8gdGhpcyBicmFuY2ggYWxzbyAoc2luY2UgdGhlaXIgYHRvU3RyaW5nKClgIHdpbGwgcmV0dXJuXG5cdFx0XHRcdC8vIGBocmVmYCBwcm9wZXJ0eSBhbnl3YXkpXG5cdFx0XHRcdHBhcnNlZFVSTCA9IHBhcnNlX3VybChpbnB1dC5ocmVmKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGNvZXJjZSBpbnB1dCB0byBhIHN0cmluZyBiZWZvcmUgYXR0ZW1wdGluZyB0byBwYXJzZVxuXHRcdFx0XHRwYXJzZWRVUkwgPSBwYXJzZV91cmwoYCR7aW5wdXR9YCk7XG5cdFx0XHR9XG5cdFx0XHRpbnB1dCA9IHt9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXJzZWRVUkwgPSBwYXJzZV91cmwoaW5wdXQudXJsKTtcblx0XHR9XG5cblx0XHRsZXQgbWV0aG9kID0gaW5pdC5tZXRob2QgfHwgaW5wdXQubWV0aG9kIHx8ICdHRVQnO1xuXHRcdG1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0aWYgKChpbml0LmJvZHkgIT0gbnVsbCB8fCBpc1JlcXVlc3QoaW5wdXQpICYmIGlucHV0LmJvZHkgIT09IG51bGwpICYmIChtZXRob2QgPT09ICdHRVQnIHx8IG1ldGhvZCA9PT0gJ0hFQUQnKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUmVxdWVzdCB3aXRoIEdFVC9IRUFEIG1ldGhvZCBjYW5ub3QgaGF2ZSBib2R5Jyk7XG5cdFx0fVxuXG5cdFx0bGV0IGlucHV0Qm9keSA9IGluaXQuYm9keSAhPSBudWxsID8gaW5pdC5ib2R5IDogaXNSZXF1ZXN0KGlucHV0KSAmJiBpbnB1dC5ib2R5ICE9PSBudWxsID8gY2xvbmUoaW5wdXQpIDogbnVsbDtcblxuXHRcdEJvZHkuY2FsbCh0aGlzLCBpbnB1dEJvZHksIHtcblx0XHRcdHRpbWVvdXQ6IGluaXQudGltZW91dCB8fCBpbnB1dC50aW1lb3V0IHx8IDAsXG5cdFx0XHRzaXplOiBpbml0LnNpemUgfHwgaW5wdXQuc2l6ZSB8fCAwXG5cdFx0fSk7XG5cblx0XHRjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5pdC5oZWFkZXJzIHx8IGlucHV0LmhlYWRlcnMgfHwge30pO1xuXG5cdFx0aWYgKGlucHV0Qm9keSAhPSBudWxsICYmICFoZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJykpIHtcblx0XHRcdGNvbnN0IGNvbnRlbnRUeXBlID0gZXh0cmFjdENvbnRlbnRUeXBlKGlucHV0Qm9keSk7XG5cdFx0XHRpZiAoY29udGVudFR5cGUpIHtcblx0XHRcdFx0aGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsIGNvbnRlbnRUeXBlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgc2lnbmFsID0gaXNSZXF1ZXN0KGlucHV0KSA/IGlucHV0LnNpZ25hbCA6IG51bGw7XG5cdFx0aWYgKCdzaWduYWwnIGluIGluaXQpIHNpZ25hbCA9IGluaXQuc2lnbmFsO1xuXG5cdFx0aWYgKHNpZ25hbCAhPSBudWxsICYmICFpc0Fib3J0U2lnbmFsKHNpZ25hbCkpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHNpZ25hbCB0byBiZSBhbiBpbnN0YW5jZW9mIEFib3J0U2lnbmFsJyk7XG5cdFx0fVxuXG5cdFx0dGhpc1tJTlRFUk5BTFMkMl0gPSB7XG5cdFx0XHRtZXRob2QsXG5cdFx0XHRyZWRpcmVjdDogaW5pdC5yZWRpcmVjdCB8fCBpbnB1dC5yZWRpcmVjdCB8fCAnZm9sbG93Jyxcblx0XHRcdGhlYWRlcnMsXG5cdFx0XHRwYXJzZWRVUkwsXG5cdFx0XHRzaWduYWxcblx0XHR9O1xuXG5cdFx0Ly8gbm9kZS1mZXRjaC1vbmx5IG9wdGlvbnNcblx0XHR0aGlzLmZvbGxvdyA9IGluaXQuZm9sbG93ICE9PSB1bmRlZmluZWQgPyBpbml0LmZvbGxvdyA6IGlucHV0LmZvbGxvdyAhPT0gdW5kZWZpbmVkID8gaW5wdXQuZm9sbG93IDogMjA7XG5cdFx0dGhpcy5jb21wcmVzcyA9IGluaXQuY29tcHJlc3MgIT09IHVuZGVmaW5lZCA/IGluaXQuY29tcHJlc3MgOiBpbnB1dC5jb21wcmVzcyAhPT0gdW5kZWZpbmVkID8gaW5wdXQuY29tcHJlc3MgOiB0cnVlO1xuXHRcdHRoaXMuY291bnRlciA9IGluaXQuY291bnRlciB8fCBpbnB1dC5jb3VudGVyIHx8IDA7XG5cdFx0dGhpcy5hZ2VudCA9IGluaXQuYWdlbnQgfHwgaW5wdXQuYWdlbnQ7XG5cdH1cblxuXHRnZXQgbWV0aG9kKCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMUyQyXS5tZXRob2Q7XG5cdH1cblxuXHRnZXQgdXJsKCkge1xuXHRcdHJldHVybiBmb3JtYXRfdXJsKHRoaXNbSU5URVJOQUxTJDJdLnBhcnNlZFVSTCk7XG5cdH1cblxuXHRnZXQgaGVhZGVycygpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMl0uaGVhZGVycztcblx0fVxuXG5cdGdldCByZWRpcmVjdCgpIHtcblx0XHRyZXR1cm4gdGhpc1tJTlRFUk5BTFMkMl0ucmVkaXJlY3Q7XG5cdH1cblxuXHRnZXQgc2lnbmFsKCkge1xuXHRcdHJldHVybiB0aGlzW0lOVEVSTkFMUyQyXS5zaWduYWw7XG5cdH1cblxuXHQvKipcbiAgKiBDbG9uZSB0aGlzIHJlcXVlc3RcbiAgKlxuICAqIEByZXR1cm4gIFJlcXVlc3RcbiAgKi9cblx0Y2xvbmUoKSB7XG5cdFx0cmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMpO1xuXHR9XG59XG5cbkJvZHkubWl4SW4oUmVxdWVzdC5wcm90b3R5cGUpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdC5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuXHR2YWx1ZTogJ1JlcXVlc3QnLFxuXHR3cml0YWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHRjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZXF1ZXN0LnByb3RvdHlwZSwge1xuXHRtZXRob2Q6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHR1cmw6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRoZWFkZXJzOiB7IGVudW1lcmFibGU6IHRydWUgfSxcblx0cmVkaXJlY3Q6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuXHRjbG9uZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG5cdHNpZ25hbDogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBSZXF1ZXN0IHRvIE5vZGUuanMgaHR0cCByZXF1ZXN0IG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICAgUmVxdWVzdCAgQSBSZXF1ZXN0IGluc3RhbmNlXG4gKiBAcmV0dXJuICBPYmplY3QgICBUaGUgb3B0aW9ucyBvYmplY3QgdG8gYmUgcGFzc2VkIHRvIGh0dHAucmVxdWVzdFxuICovXG5mdW5jdGlvbiBnZXROb2RlUmVxdWVzdE9wdGlvbnMocmVxdWVzdCkge1xuXHRjb25zdCBwYXJzZWRVUkwgPSByZXF1ZXN0W0lOVEVSTkFMUyQyXS5wYXJzZWRVUkw7XG5cdGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXF1ZXN0W0lOVEVSTkFMUyQyXS5oZWFkZXJzKTtcblxuXHQvLyBmZXRjaCBzdGVwIDEuM1xuXHRpZiAoIWhlYWRlcnMuaGFzKCdBY2NlcHQnKSkge1xuXHRcdGhlYWRlcnMuc2V0KCdBY2NlcHQnLCAnKi8qJyk7XG5cdH1cblxuXHQvLyBCYXNpYyBmZXRjaFxuXHRpZiAoIXBhcnNlZFVSTC5wcm90b2NvbCB8fCAhcGFyc2VkVVJMLmhvc3RuYW1lKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT25seSBhYnNvbHV0ZSBVUkxzIGFyZSBzdXBwb3J0ZWQnKTtcblx0fVxuXG5cdGlmICghL15odHRwcz86JC8udGVzdChwYXJzZWRVUkwucHJvdG9jb2wpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT25seSBIVFRQKFMpIHByb3RvY29scyBhcmUgc3VwcG9ydGVkJyk7XG5cdH1cblxuXHRpZiAocmVxdWVzdC5zaWduYWwgJiYgcmVxdWVzdC5ib2R5IGluc3RhbmNlb2YgU3RyZWFtLlJlYWRhYmxlICYmICFzdHJlYW1EZXN0cnVjdGlvblN1cHBvcnRlZCkge1xuXHRcdHRocm93IG5ldyBFcnJvcignQ2FuY2VsbGF0aW9uIG9mIHN0cmVhbWVkIHJlcXVlc3RzIHdpdGggQWJvcnRTaWduYWwgaXMgbm90IHN1cHBvcnRlZCBpbiBub2RlIDwgOCcpO1xuXHR9XG5cblx0Ly8gSFRUUC1uZXR3b3JrLW9yLWNhY2hlIGZldGNoIHN0ZXBzIDIuNC0yLjdcblx0bGV0IGNvbnRlbnRMZW5ndGhWYWx1ZSA9IG51bGw7XG5cdGlmIChyZXF1ZXN0LmJvZHkgPT0gbnVsbCAmJiAvXihQT1NUfFBVVCkkL2kudGVzdChyZXF1ZXN0Lm1ldGhvZCkpIHtcblx0XHRjb250ZW50TGVuZ3RoVmFsdWUgPSAnMCc7XG5cdH1cblx0aWYgKHJlcXVlc3QuYm9keSAhPSBudWxsKSB7XG5cdFx0Y29uc3QgdG90YWxCeXRlcyA9IGdldFRvdGFsQnl0ZXMocmVxdWVzdCk7XG5cdFx0aWYgKHR5cGVvZiB0b3RhbEJ5dGVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0Y29udGVudExlbmd0aFZhbHVlID0gU3RyaW5nKHRvdGFsQnl0ZXMpO1xuXHRcdH1cblx0fVxuXHRpZiAoY29udGVudExlbmd0aFZhbHVlKSB7XG5cdFx0aGVhZGVycy5zZXQoJ0NvbnRlbnQtTGVuZ3RoJywgY29udGVudExlbmd0aFZhbHVlKTtcblx0fVxuXG5cdC8vIEhUVFAtbmV0d29yay1vci1jYWNoZSBmZXRjaCBzdGVwIDIuMTFcblx0aWYgKCFoZWFkZXJzLmhhcygnVXNlci1BZ2VudCcpKSB7XG5cdFx0aGVhZGVycy5zZXQoJ1VzZXItQWdlbnQnLCAnbm9kZS1mZXRjaC8xLjAgKCtodHRwczovL2dpdGh1Yi5jb20vYml0aW5uL25vZGUtZmV0Y2gpJyk7XG5cdH1cblxuXHQvLyBIVFRQLW5ldHdvcmstb3ItY2FjaGUgZmV0Y2ggc3RlcCAyLjE1XG5cdGlmIChyZXF1ZXN0LmNvbXByZXNzICYmICFoZWFkZXJzLmhhcygnQWNjZXB0LUVuY29kaW5nJykpIHtcblx0XHRoZWFkZXJzLnNldCgnQWNjZXB0LUVuY29kaW5nJywgJ2d6aXAsZGVmbGF0ZScpO1xuXHR9XG5cblx0bGV0IGFnZW50ID0gcmVxdWVzdC5hZ2VudDtcblx0aWYgKHR5cGVvZiBhZ2VudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGFnZW50ID0gYWdlbnQocGFyc2VkVVJMKTtcblx0fVxuXG5cdGlmICghaGVhZGVycy5oYXMoJ0Nvbm5lY3Rpb24nKSAmJiAhYWdlbnQpIHtcblx0XHRoZWFkZXJzLnNldCgnQ29ubmVjdGlvbicsICdjbG9zZScpO1xuXHR9XG5cblx0Ly8gSFRUUC1uZXR3b3JrIGZldGNoIHN0ZXAgNC4yXG5cdC8vIGNodW5rZWQgZW5jb2RpbmcgaXMgaGFuZGxlZCBieSBOb2RlLmpzXG5cblx0cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBhcnNlZFVSTCwge1xuXHRcdG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG5cdFx0aGVhZGVyczogZXhwb3J0Tm9kZUNvbXBhdGlibGVIZWFkZXJzKGhlYWRlcnMpLFxuXHRcdGFnZW50XG5cdH0pO1xufVxuXG4vKipcbiAqIGFib3J0LWVycm9yLmpzXG4gKlxuICogQWJvcnRFcnJvciBpbnRlcmZhY2UgZm9yIGNhbmNlbGxlZCByZXF1ZXN0c1xuICovXG5cbi8qKlxuICogQ3JlYXRlIEFib3J0RXJyb3IgaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0gICBTdHJpbmcgICAgICBtZXNzYWdlICAgICAgRXJyb3IgbWVzc2FnZSBmb3IgaHVtYW5cbiAqIEByZXR1cm4gIEFib3J0RXJyb3JcbiAqL1xuZnVuY3Rpb24gQWJvcnRFcnJvcihtZXNzYWdlKSB7XG4gIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgdGhpcy50eXBlID0gJ2Fib3J0ZWQnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXG4gIC8vIGhpZGUgY3VzdG9tIGVycm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHMgZnJvbSBlbmQtdXNlcnNcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG59XG5cbkFib3J0RXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuQWJvcnRFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYm9ydEVycm9yO1xuQWJvcnRFcnJvci5wcm90b3R5cGUubmFtZSA9ICdBYm9ydEVycm9yJztcblxuLy8gZml4IGFuIGlzc3VlIHdoZXJlIFwiUGFzc1Rocm91Z2hcIiwgXCJyZXNvbHZlXCIgYXJlbid0IGEgbmFtZWQgZXhwb3J0IGZvciBub2RlIDwxMFxuY29uc3QgUGFzc1Rocm91Z2gkMSA9IFN0cmVhbS5QYXNzVGhyb3VnaDtcbmNvbnN0IHJlc29sdmVfdXJsID0gVXJsLnJlc29sdmU7XG5cbi8qKlxuICogRmV0Y2ggZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0gICBNaXhlZCAgICB1cmwgICBBYnNvbHV0ZSB1cmwgb3IgUmVxdWVzdCBpbnN0YW5jZVxuICogQHBhcmFtICAgT2JqZWN0ICAgb3B0cyAgRmV0Y2ggb3B0aW9uc1xuICogQHJldHVybiAgUHJvbWlzZVxuICovXG5mdW5jdGlvbiBmZXRjaCh1cmwsIG9wdHMpIHtcblxuXHQvLyBhbGxvdyBjdXN0b20gcHJvbWlzZVxuXHRpZiAoIWZldGNoLlByb21pc2UpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ25hdGl2ZSBwcm9taXNlIG1pc3NpbmcsIHNldCBmZXRjaC5Qcm9taXNlIHRvIHlvdXIgZmF2b3JpdGUgYWx0ZXJuYXRpdmUnKTtcblx0fVxuXG5cdEJvZHkuUHJvbWlzZSA9IGZldGNoLlByb21pc2U7XG5cblx0Ly8gd3JhcCBodHRwLnJlcXVlc3QgaW50byBmZXRjaFxuXHRyZXR1cm4gbmV3IGZldGNoLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdC8vIGJ1aWxkIHJlcXVlc3Qgb2JqZWN0XG5cdFx0Y29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwgb3B0cyk7XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IGdldE5vZGVSZXF1ZXN0T3B0aW9ucyhyZXF1ZXN0KTtcblxuXHRcdGNvbnN0IHNlbmQgPSAob3B0aW9ucy5wcm90b2NvbCA9PT0gJ2h0dHBzOicgPyBodHRwcyA6IGh0dHApLnJlcXVlc3Q7XG5cdFx0Y29uc3Qgc2lnbmFsID0gcmVxdWVzdC5zaWduYWw7XG5cblx0XHRsZXQgcmVzcG9uc2UgPSBudWxsO1xuXG5cdFx0Y29uc3QgYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcblx0XHRcdGxldCBlcnJvciA9IG5ldyBBYm9ydEVycm9yKCdUaGUgdXNlciBhYm9ydGVkIGEgcmVxdWVzdC4nKTtcblx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRpZiAocmVxdWVzdC5ib2R5ICYmIHJlcXVlc3QuYm9keSBpbnN0YW5jZW9mIFN0cmVhbS5SZWFkYWJsZSkge1xuXHRcdFx0XHRyZXF1ZXN0LmJvZHkuZGVzdHJveShlcnJvcik7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXJlc3BvbnNlIHx8ICFyZXNwb25zZS5ib2R5KSByZXR1cm47XG5cdFx0XHRyZXNwb25zZS5ib2R5LmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuXHRcdH07XG5cblx0XHRpZiAoc2lnbmFsICYmIHNpZ25hbC5hYm9ydGVkKSB7XG5cdFx0XHRhYm9ydCgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFib3J0QW5kRmluYWxpemUgPSBmdW5jdGlvbiBhYm9ydEFuZEZpbmFsaXplKCkge1xuXHRcdFx0YWJvcnQoKTtcblx0XHRcdGZpbmFsaXplKCk7XG5cdFx0fTtcblxuXHRcdC8vIHNlbmQgcmVxdWVzdFxuXHRcdGNvbnN0IHJlcSA9IHNlbmQob3B0aW9ucyk7XG5cdFx0bGV0IHJlcVRpbWVvdXQ7XG5cblx0XHRpZiAoc2lnbmFsKSB7XG5cdFx0XHRzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydEFuZEZpbmFsaXplKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBmaW5hbGl6ZSgpIHtcblx0XHRcdHJlcS5hYm9ydCgpO1xuXHRcdFx0aWYgKHNpZ25hbCkgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRBbmRGaW5hbGl6ZSk7XG5cdFx0XHRjbGVhclRpbWVvdXQocmVxVGltZW91dCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlcXVlc3QudGltZW91dCkge1xuXHRcdFx0cmVxLm9uY2UoJ3NvY2tldCcsIGZ1bmN0aW9uIChzb2NrZXQpIHtcblx0XHRcdFx0cmVxVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcihgbmV0d29yayB0aW1lb3V0IGF0OiAke3JlcXVlc3QudXJsfWAsICdyZXF1ZXN0LXRpbWVvdXQnKSk7XG5cdFx0XHRcdFx0ZmluYWxpemUoKTtcblx0XHRcdFx0fSwgcmVxdWVzdC50aW1lb3V0KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJlcS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRyZWplY3QobmV3IEZldGNoRXJyb3IoYHJlcXVlc3QgdG8gJHtyZXF1ZXN0LnVybH0gZmFpbGVkLCByZWFzb246ICR7ZXJyLm1lc3NhZ2V9YCwgJ3N5c3RlbScsIGVycikpO1xuXHRcdFx0ZmluYWxpemUoKTtcblx0XHR9KTtcblxuXHRcdHJlcS5vbigncmVzcG9uc2UnLCBmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQocmVxVGltZW91dCk7XG5cblx0XHRcdGNvbnN0IGhlYWRlcnMgPSBjcmVhdGVIZWFkZXJzTGVuaWVudChyZXMuaGVhZGVycyk7XG5cblx0XHRcdC8vIEhUVFAgZmV0Y2ggc3RlcCA1XG5cdFx0XHRpZiAoZmV0Y2guaXNSZWRpcmVjdChyZXMuc3RhdHVzQ29kZSkpIHtcblx0XHRcdFx0Ly8gSFRUUCBmZXRjaCBzdGVwIDUuMlxuXHRcdFx0XHRjb25zdCBsb2NhdGlvbiA9IGhlYWRlcnMuZ2V0KCdMb2NhdGlvbicpO1xuXG5cdFx0XHRcdC8vIEhUVFAgZmV0Y2ggc3RlcCA1LjNcblx0XHRcdFx0Y29uc3QgbG9jYXRpb25VUkwgPSBsb2NhdGlvbiA9PT0gbnVsbCA/IG51bGwgOiByZXNvbHZlX3VybChyZXF1ZXN0LnVybCwgbG9jYXRpb24pO1xuXG5cdFx0XHRcdC8vIEhUVFAgZmV0Y2ggc3RlcCA1LjVcblx0XHRcdFx0c3dpdGNoIChyZXF1ZXN0LnJlZGlyZWN0KSB7XG5cdFx0XHRcdFx0Y2FzZSAnZXJyb3InOlxuXHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGByZWRpcmVjdCBtb2RlIGlzIHNldCB0byBlcnJvcjogJHtyZXF1ZXN0LnVybH1gLCAnbm8tcmVkaXJlY3QnKSk7XG5cdFx0XHRcdFx0XHRmaW5hbGl6ZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdGNhc2UgJ21hbnVhbCc6XG5cdFx0XHRcdFx0XHQvLyBub2RlLWZldGNoLXNwZWNpZmljIHN0ZXA6IG1ha2UgbWFudWFsIHJlZGlyZWN0IGEgYml0IGVhc2llciB0byB1c2UgYnkgc2V0dGluZyB0aGUgTG9jYXRpb24gaGVhZGVyIHZhbHVlIHRvIHRoZSByZXNvbHZlZCBVUkwuXG5cdFx0XHRcdFx0XHRpZiAobG9jYXRpb25VUkwgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0Ly8gaGFuZGxlIGNvcnJ1cHRlZCBoZWFkZXJcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRoZWFkZXJzLnNldCgnTG9jYXRpb24nLCBsb2NhdGlvblVSTCk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub2RlanMgc2VydmVyIHByZXZlbnQgaW52YWxpZCByZXNwb25zZSBoZWFkZXJzLCB3ZSBjYW4ndCB0ZXN0IHRoaXMgdGhyb3VnaCBub3JtYWwgcmVxdWVzdFxuXHRcdFx0XHRcdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdmb2xsb3cnOlxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDJcblx0XHRcdFx0XHRcdGlmIChsb2NhdGlvblVSTCA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDVcblx0XHRcdFx0XHRcdGlmIChyZXF1ZXN0LmNvdW50ZXIgPj0gcmVxdWVzdC5mb2xsb3cpIHtcblx0XHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBGZXRjaEVycm9yKGBtYXhpbXVtIHJlZGlyZWN0IHJlYWNoZWQgYXQ6ICR7cmVxdWVzdC51cmx9YCwgJ21heC1yZWRpcmVjdCcpKTtcblx0XHRcdFx0XHRcdFx0ZmluYWxpemUoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBIVFRQLXJlZGlyZWN0IGZldGNoIHN0ZXAgNiAoY291bnRlciBpbmNyZW1lbnQpXG5cdFx0XHRcdFx0XHQvLyBDcmVhdGUgYSBuZXcgUmVxdWVzdCBvYmplY3QuXG5cdFx0XHRcdFx0XHRjb25zdCByZXF1ZXN0T3B0cyA9IHtcblx0XHRcdFx0XHRcdFx0aGVhZGVyczogbmV3IEhlYWRlcnMocmVxdWVzdC5oZWFkZXJzKSxcblx0XHRcdFx0XHRcdFx0Zm9sbG93OiByZXF1ZXN0LmZvbGxvdyxcblx0XHRcdFx0XHRcdFx0Y291bnRlcjogcmVxdWVzdC5jb3VudGVyICsgMSxcblx0XHRcdFx0XHRcdFx0YWdlbnQ6IHJlcXVlc3QuYWdlbnQsXG5cdFx0XHRcdFx0XHRcdGNvbXByZXNzOiByZXF1ZXN0LmNvbXByZXNzLFxuXHRcdFx0XHRcdFx0XHRtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuXHRcdFx0XHRcdFx0XHRib2R5OiByZXF1ZXN0LmJvZHksXG5cdFx0XHRcdFx0XHRcdHNpZ25hbDogcmVxdWVzdC5zaWduYWwsXG5cdFx0XHRcdFx0XHRcdHRpbWVvdXQ6IHJlcXVlc3QudGltZW91dFxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDlcblx0XHRcdFx0XHRcdGlmIChyZXMuc3RhdHVzQ29kZSAhPT0gMzAzICYmIHJlcXVlc3QuYm9keSAmJiBnZXRUb3RhbEJ5dGVzKHJlcXVlc3QpID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdHJlamVjdChuZXcgRmV0Y2hFcnJvcignQ2Fubm90IGZvbGxvdyByZWRpcmVjdCB3aXRoIGJvZHkgYmVpbmcgYSByZWFkYWJsZSBzdHJlYW0nLCAndW5zdXBwb3J0ZWQtcmVkaXJlY3QnKSk7XG5cdFx0XHRcdFx0XHRcdGZpbmFsaXplKCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDExXG5cdFx0XHRcdFx0XHRpZiAocmVzLnN0YXR1c0NvZGUgPT09IDMwMyB8fCAocmVzLnN0YXR1c0NvZGUgPT09IDMwMSB8fCByZXMuc3RhdHVzQ29kZSA9PT0gMzAyKSAmJiByZXF1ZXN0Lm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RPcHRzLm1ldGhvZCA9ICdHRVQnO1xuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0T3B0cy5ib2R5ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0T3B0cy5oZWFkZXJzLmRlbGV0ZSgnY29udGVudC1sZW5ndGgnKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSFRUUC1yZWRpcmVjdCBmZXRjaCBzdGVwIDE1XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGZldGNoKG5ldyBSZXF1ZXN0KGxvY2F0aW9uVVJMLCByZXF1ZXN0T3B0cykpKTtcblx0XHRcdFx0XHRcdGZpbmFsaXplKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gcHJlcGFyZSByZXNwb25zZVxuXHRcdFx0cmVzLm9uY2UoJ2VuZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHNpZ25hbCkgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRBbmRGaW5hbGl6ZSk7XG5cdFx0XHR9KTtcblx0XHRcdGxldCBib2R5ID0gcmVzLnBpcGUobmV3IFBhc3NUaHJvdWdoJDEoKSk7XG5cblx0XHRcdGNvbnN0IHJlc3BvbnNlX29wdGlvbnMgPSB7XG5cdFx0XHRcdHVybDogcmVxdWVzdC51cmwsXG5cdFx0XHRcdHN0YXR1czogcmVzLnN0YXR1c0NvZGUsXG5cdFx0XHRcdHN0YXR1c1RleHQ6IHJlcy5zdGF0dXNNZXNzYWdlLFxuXHRcdFx0XHRoZWFkZXJzOiBoZWFkZXJzLFxuXHRcdFx0XHRzaXplOiByZXF1ZXN0LnNpemUsXG5cdFx0XHRcdHRpbWVvdXQ6IHJlcXVlc3QudGltZW91dCxcblx0XHRcdFx0Y291bnRlcjogcmVxdWVzdC5jb3VudGVyXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBIVFRQLW5ldHdvcmsgZmV0Y2ggc3RlcCAxMi4xLjEuM1xuXHRcdFx0Y29uc3QgY29kaW5ncyA9IGhlYWRlcnMuZ2V0KCdDb250ZW50LUVuY29kaW5nJyk7XG5cblx0XHRcdC8vIEhUVFAtbmV0d29yayBmZXRjaCBzdGVwIDEyLjEuMS40OiBoYW5kbGUgY29udGVudCBjb2RpbmdzXG5cblx0XHRcdC8vIGluIGZvbGxvd2luZyBzY2VuYXJpb3Mgd2UgaWdub3JlIGNvbXByZXNzaW9uIHN1cHBvcnRcblx0XHRcdC8vIDEuIGNvbXByZXNzaW9uIHN1cHBvcnQgaXMgZGlzYWJsZWRcblx0XHRcdC8vIDIuIEhFQUQgcmVxdWVzdFxuXHRcdFx0Ly8gMy4gbm8gQ29udGVudC1FbmNvZGluZyBoZWFkZXJcblx0XHRcdC8vIDQuIG5vIGNvbnRlbnQgcmVzcG9uc2UgKDIwNClcblx0XHRcdC8vIDUuIGNvbnRlbnQgbm90IG1vZGlmaWVkIHJlc3BvbnNlICgzMDQpXG5cdFx0XHRpZiAoIXJlcXVlc3QuY29tcHJlc3MgfHwgcmVxdWVzdC5tZXRob2QgPT09ICdIRUFEJyB8fCBjb2RpbmdzID09PSBudWxsIHx8IHJlcy5zdGF0dXNDb2RlID09PSAyMDQgfHwgcmVzLnN0YXR1c0NvZGUgPT09IDMwNCkge1xuXHRcdFx0XHRyZXNwb25zZSA9IG5ldyBSZXNwb25zZShib2R5LCByZXNwb25zZV9vcHRpb25zKTtcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yIE5vZGUgdjYrXG5cdFx0XHQvLyBCZSBsZXNzIHN0cmljdCB3aGVuIGRlY29kaW5nIGNvbXByZXNzZWQgcmVzcG9uc2VzLCBzaW5jZSBzb21ldGltZXNcblx0XHRcdC8vIHNlcnZlcnMgc2VuZCBzbGlnaHRseSBpbnZhbGlkIHJlc3BvbnNlcyB0aGF0IGFyZSBzdGlsbCBhY2NlcHRlZFxuXHRcdFx0Ly8gYnkgY29tbW9uIGJyb3dzZXJzLlxuXHRcdFx0Ly8gQWx3YXlzIHVzaW5nIFpfU1lOQ19GTFVTSCBpcyB3aGF0IGNVUkwgZG9lcy5cblx0XHRcdGNvbnN0IHpsaWJPcHRpb25zID0ge1xuXHRcdFx0XHRmbHVzaDogemxpYi5aX1NZTkNfRkxVU0gsXG5cdFx0XHRcdGZpbmlzaEZsdXNoOiB6bGliLlpfU1lOQ19GTFVTSFxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gZm9yIGd6aXBcblx0XHRcdGlmIChjb2RpbmdzID09ICdnemlwJyB8fCBjb2RpbmdzID09ICd4LWd6aXAnKSB7XG5cdFx0XHRcdGJvZHkgPSBib2R5LnBpcGUoemxpYi5jcmVhdGVHdW56aXAoemxpYk9wdGlvbnMpKTtcblx0XHRcdFx0cmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoYm9keSwgcmVzcG9uc2Vfb3B0aW9ucyk7XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGZvciBkZWZsYXRlXG5cdFx0XHRpZiAoY29kaW5ncyA9PSAnZGVmbGF0ZScgfHwgY29kaW5ncyA9PSAneC1kZWZsYXRlJykge1xuXHRcdFx0XHQvLyBoYW5kbGUgdGhlIGluZmFtb3VzIHJhdyBkZWZsYXRlIHJlc3BvbnNlIGZyb20gb2xkIHNlcnZlcnNcblx0XHRcdFx0Ly8gYSBoYWNrIGZvciBvbGQgSUlTIGFuZCBBcGFjaGUgc2VydmVyc1xuXHRcdFx0XHRjb25zdCByYXcgPSByZXMucGlwZShuZXcgUGFzc1Rocm91Z2gkMSgpKTtcblx0XHRcdFx0cmF3Lm9uY2UoJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHtcblx0XHRcdFx0XHQvLyBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzUxOTgyOFxuXHRcdFx0XHRcdGlmICgoY2h1bmtbMF0gJiAweDBGKSA9PT0gMHgwOCkge1xuXHRcdFx0XHRcdFx0Ym9keSA9IGJvZHkucGlwZSh6bGliLmNyZWF0ZUluZmxhdGUoKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGJvZHkgPSBib2R5LnBpcGUoemxpYi5jcmVhdGVJbmZsYXRlUmF3KCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXNwb25zZSA9IG5ldyBSZXNwb25zZShib2R5LCByZXNwb25zZV9vcHRpb25zKTtcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZm9yIGJyXG5cdFx0XHRpZiAoY29kaW5ncyA9PSAnYnInICYmIHR5cGVvZiB6bGliLmNyZWF0ZUJyb3RsaURlY29tcHJlc3MgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Ym9keSA9IGJvZHkucGlwZSh6bGliLmNyZWF0ZUJyb3RsaURlY29tcHJlc3MoKSk7XG5cdFx0XHRcdHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGJvZHksIHJlc3BvbnNlX29wdGlvbnMpO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBvdGhlcndpc2UsIHVzZSByZXNwb25zZSBhcy1pc1xuXHRcdFx0cmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoYm9keSwgcmVzcG9uc2Vfb3B0aW9ucyk7XG5cdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblx0XHR9KTtcblxuXHRcdHdyaXRlVG9TdHJlYW0ocmVxLCByZXF1ZXN0KTtcblx0fSk7XG59XG4vKipcbiAqIFJlZGlyZWN0IGNvZGUgbWF0Y2hpbmdcbiAqXG4gKiBAcGFyYW0gICBOdW1iZXIgICBjb2RlICBTdGF0dXMgY29kZVxuICogQHJldHVybiAgQm9vbGVhblxuICovXG5mZXRjaC5pc1JlZGlyZWN0ID0gZnVuY3Rpb24gKGNvZGUpIHtcblx0cmV0dXJuIGNvZGUgPT09IDMwMSB8fCBjb2RlID09PSAzMDIgfHwgY29kZSA9PT0gMzAzIHx8IGNvZGUgPT09IDMwNyB8fCBjb2RlID09PSAzMDg7XG59O1xuXG4vLyBleHBvc2UgUHJvbWlzZVxuZmV0Y2guUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuXG5mdW5jdGlvbiBnZXRfcGFnZV9oYW5kbGVyKFxuXHRtYW5pZmVzdCxcblx0c2Vzc2lvbl9nZXR0ZXJcbikge1xuXHRjb25zdCBnZXRfYnVpbGRfaW5mbyA9IGRldlxuXHRcdD8gKCkgPT4gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGJ1aWxkX2RpciwgJ2J1aWxkLmpzb24nKSwgJ3V0Zi04JykpXG5cdFx0OiAoYXNzZXRzID0+ICgpID0+IGFzc2V0cykoSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGJ1aWxkX2RpciwgJ2J1aWxkLmpzb24nKSwgJ3V0Zi04JykpKTtcblxuXHRjb25zdCB0ZW1wbGF0ZSA9IGRldlxuXHRcdD8gKCkgPT4gcmVhZF90ZW1wbGF0ZShzcmNfZGlyKVxuXHRcdDogKHN0ciA9PiAoKSA9PiBzdHIpKHJlYWRfdGVtcGxhdGUoYnVpbGRfZGlyKSk7XG5cblx0Y29uc3QgaGFzX3NlcnZpY2Vfd29ya2VyID0gZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4oYnVpbGRfZGlyLCAnc2VydmljZS13b3JrZXIuanMnKSk7XG5cblx0Y29uc3QgeyBzZXJ2ZXJfcm91dGVzLCBwYWdlcyB9ID0gbWFuaWZlc3Q7XG5cdGNvbnN0IGVycm9yX3JvdXRlID0gbWFuaWZlc3QuZXJyb3I7XG5cblx0ZnVuY3Rpb24gYmFpbChyZXEsIHJlcywgZXJyKSB7XG5cdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXG5cdFx0Y29uc3QgbWVzc2FnZSA9IGRldiA/IGVzY2FwZV9odG1sKGVyci5tZXNzYWdlKSA6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InO1xuXG5cdFx0cmVzLnN0YXR1c0NvZGUgPSA1MDA7XG5cdFx0cmVzLmVuZChgPHByZT4ke21lc3NhZ2V9PC9wcmU+YCk7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVfZXJyb3IocmVxLCByZXMsIHN0YXR1c0NvZGUsIGVycm9yKSB7XG5cdFx0aGFuZGxlX3BhZ2Uoe1xuXHRcdFx0cGF0dGVybjogbnVsbCxcblx0XHRcdHBhcnRzOiBbXG5cdFx0XHRcdHsgbmFtZTogbnVsbCwgY29tcG9uZW50OiBlcnJvcl9yb3V0ZSB9XG5cdFx0XHRdXG5cdFx0fSwgcmVxLCByZXMsIHN0YXR1c0NvZGUsIGVycm9yIHx8IG5ldyBFcnJvcignVW5rbm93biBlcnJvciBpbiBwcmVsb2FkIGZ1bmN0aW9uJykpO1xuXHR9XG5cblx0YXN5bmMgZnVuY3Rpb24gaGFuZGxlX3BhZ2UocGFnZSwgcmVxLCByZXMsIHN0YXR1cyA9IDIwMCwgZXJyb3IgPSBudWxsKSB7XG5cdFx0Y29uc3QgaXNfc2VydmljZV93b3JrZXJfaW5kZXggPSByZXEucGF0aCA9PT0gJy9zZXJ2aWNlLXdvcmtlci1pbmRleC5odG1sJztcblx0XHRjb25zdCBidWlsZF9pbmZvXG5cblxuXG5cbiA9IGdldF9idWlsZF9pbmZvKCk7XG5cblx0XHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9odG1sJyk7XG5cdFx0cmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsIGRldiA/ICduby1jYWNoZScgOiAnbWF4LWFnZT02MDAnKTtcblxuXHRcdC8vIHByZWxvYWQgbWFpbi5qcyBhbmQgY3VycmVudCByb3V0ZVxuXHRcdC8vIFRPRE8gZGV0ZWN0IG90aGVyIHN0dWZmIHdlIGNhbiBwcmVsb2FkPyBpbWFnZXMsIENTUywgZm9udHM/XG5cdFx0bGV0IHByZWxvYWRlZF9jaHVua3MgPSBBcnJheS5pc0FycmF5KGJ1aWxkX2luZm8uYXNzZXRzLm1haW4pID8gYnVpbGRfaW5mby5hc3NldHMubWFpbiA6IFtidWlsZF9pbmZvLmFzc2V0cy5tYWluXTtcblx0XHRpZiAoIWVycm9yICYmICFpc19zZXJ2aWNlX3dvcmtlcl9pbmRleCkge1xuXHRcdFx0cGFnZS5wYXJ0cy5mb3JFYWNoKHBhcnQgPT4ge1xuXHRcdFx0XHRpZiAoIXBhcnQpIHJldHVybjtcblxuXHRcdFx0XHQvLyB1c2luZyBjb25jYXQgYmVjYXVzZSBpdCBjb3VsZCBiZSBhIHN0cmluZyBvciBhbiBhcnJheS4gdGhhbmtzIHdlYnBhY2shXG5cdFx0XHRcdHByZWxvYWRlZF9jaHVua3MgPSBwcmVsb2FkZWRfY2h1bmtzLmNvbmNhdChidWlsZF9pbmZvLmFzc2V0c1twYXJ0Lm5hbWVdKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmIChidWlsZF9pbmZvLmJ1bmRsZXIgPT09ICdyb2xsdXAnKSB7XG5cdFx0XHQvLyBUT0RPIGFkZCBkZXBlbmRlbmNpZXMgYW5kIENTU1xuXHRcdFx0Y29uc3QgbGluayA9IHByZWxvYWRlZF9jaHVua3Ncblx0XHRcdFx0LmZpbHRlcihmaWxlID0+IGZpbGUgJiYgIWZpbGUubWF0Y2goL1xcLm1hcCQvKSlcblx0XHRcdFx0Lm1hcChmaWxlID0+IGA8JHtyZXEuYmFzZVVybH0vY2xpZW50LyR7ZmlsZX0+O3JlbD1cIm1vZHVsZXByZWxvYWRcImApXG5cdFx0XHRcdC5qb2luKCcsICcpO1xuXG5cdFx0XHRyZXMuc2V0SGVhZGVyKCdMaW5rJywgbGluayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGxpbmsgPSBwcmVsb2FkZWRfY2h1bmtzXG5cdFx0XHRcdC5maWx0ZXIoZmlsZSA9PiBmaWxlICYmICFmaWxlLm1hdGNoKC9cXC5tYXAkLykpXG5cdFx0XHRcdC5tYXAoKGZpbGUpID0+IHtcblx0XHRcdFx0XHRjb25zdCBhcyA9IC9cXC5jc3MkLy50ZXN0KGZpbGUpID8gJ3N0eWxlJyA6ICdzY3JpcHQnO1xuXHRcdFx0XHRcdHJldHVybiBgPCR7cmVxLmJhc2VVcmx9L2NsaWVudC8ke2ZpbGV9PjtyZWw9XCJwcmVsb2FkXCI7YXM9XCIke2FzfVwiYDtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmpvaW4oJywgJyk7XG5cblx0XHRcdHJlcy5zZXRIZWFkZXIoJ0xpbmsnLCBsaW5rKTtcblx0XHR9XG5cblx0XHRjb25zdCBzZXNzaW9uID0gc2Vzc2lvbl9nZXR0ZXIocmVxLCByZXMpO1xuXG5cdFx0bGV0IHJlZGlyZWN0O1xuXHRcdGxldCBwcmVsb2FkX2Vycm9yO1xuXG5cdFx0Y29uc3QgcHJlbG9hZF9jb250ZXh0ID0ge1xuXHRcdFx0cmVkaXJlY3Q6IChzdGF0dXNDb2RlLCBsb2NhdGlvbikgPT4ge1xuXHRcdFx0XHRpZiAocmVkaXJlY3QgJiYgKHJlZGlyZWN0LnN0YXR1c0NvZGUgIT09IHN0YXR1c0NvZGUgfHwgcmVkaXJlY3QubG9jYXRpb24gIT09IGxvY2F0aW9uKSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQ29uZmxpY3RpbmcgcmVkaXJlY3RzYCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bG9jYXRpb24gPSBsb2NhdGlvbi5yZXBsYWNlKC9eXFwvL2csICcnKTsgLy8gbGVhZGluZyBzbGFzaCAob25seSlcblx0XHRcdFx0cmVkaXJlY3QgPSB7IHN0YXR1c0NvZGUsIGxvY2F0aW9uIH07XG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IChzdGF0dXNDb2RlLCBtZXNzYWdlKSA9PiB7XG5cdFx0XHRcdHByZWxvYWRfZXJyb3IgPSB7IHN0YXR1c0NvZGUsIG1lc3NhZ2UgfTtcblx0XHRcdH0sXG5cdFx0XHRmZXRjaDogKHVybCwgb3B0cykgPT4ge1xuXHRcdFx0XHRjb25zdCBwYXJzZWQgPSBuZXcgVXJsLlVSTCh1cmwsIGBodHRwOi8vMTI3LjAuMC4xOiR7cHJvY2Vzcy5lbnYuUE9SVH0ke3JlcS5iYXNlVXJsID8gcmVxLmJhc2VVcmwgKyAnLycgOicnfWApO1xuXG5cdFx0XHRcdGlmIChvcHRzKSB7XG5cdFx0XHRcdFx0b3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMpO1xuXG5cdFx0XHRcdFx0Y29uc3QgaW5jbHVkZV9jb29raWVzID0gKFxuXHRcdFx0XHRcdFx0b3B0cy5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnIHx8XG5cdFx0XHRcdFx0XHRvcHRzLmNyZWRlbnRpYWxzID09PSAnc2FtZS1vcmlnaW4nICYmIHBhcnNlZC5vcmlnaW4gPT09IGBodHRwOi8vMTI3LjAuMC4xOiR7cHJvY2Vzcy5lbnYuUE9SVH1gXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGlmIChpbmNsdWRlX2Nvb2tpZXMpIHtcblx0XHRcdFx0XHRcdG9wdHMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMuaGVhZGVycyk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGNvb2tpZXMgPSBPYmplY3QuYXNzaWduKFxuXHRcdFx0XHRcdFx0XHR7fSxcblx0XHRcdFx0XHRcdFx0Y29va2llLnBhcnNlKHJlcS5oZWFkZXJzLmNvb2tpZSB8fCAnJyksXG5cdFx0XHRcdFx0XHRcdGNvb2tpZS5wYXJzZShvcHRzLmhlYWRlcnMuY29va2llIHx8ICcnKVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Y29uc3Qgc2V0X2Nvb2tpZSA9IHJlcy5nZXRIZWFkZXIoJ1NldC1Db29raWUnKTtcblx0XHRcdFx0XHRcdChBcnJheS5pc0FycmF5KHNldF9jb29raWUpID8gc2V0X2Nvb2tpZSA6IFtzZXRfY29va2llXSkuZm9yRWFjaChzdHIgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IC8oW149XSspPShbXjtdKykvLmV4ZWMoc3RyKTtcblx0XHRcdFx0XHRcdFx0aWYgKG1hdGNoKSBjb29raWVzW21hdGNoWzFdXSA9IG1hdGNoWzJdO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHN0ciA9IE9iamVjdC5rZXlzKGNvb2tpZXMpXG5cdFx0XHRcdFx0XHRcdC5tYXAoa2V5ID0+IGAke2tleX09JHtjb29raWVzW2tleV19YClcblx0XHRcdFx0XHRcdFx0LmpvaW4oJzsgJyk7XG5cblx0XHRcdFx0XHRcdG9wdHMuaGVhZGVycy5jb29raWUgPSBzdHI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZldGNoKHBhcnNlZC5ocmVmLCBvcHRzKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0bGV0IHByZWxvYWRlZDtcblx0XHRsZXQgbWF0Y2g7XG5cdFx0bGV0IHBhcmFtcztcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByb290X3ByZWxvYWRlZCA9IG1hbmlmZXN0LnJvb3RfcHJlbG9hZFxuXHRcdFx0XHQ/IG1hbmlmZXN0LnJvb3RfcHJlbG9hZC5jYWxsKHByZWxvYWRfY29udGV4dCwge1xuXHRcdFx0XHRcdGhvc3Q6IHJlcS5oZWFkZXJzLmhvc3QsXG5cdFx0XHRcdFx0cGF0aDogcmVxLnBhdGgsXG5cdFx0XHRcdFx0cXVlcnk6IHJlcS5xdWVyeSxcblx0XHRcdFx0XHRwYXJhbXM6IHt9XG5cdFx0XHRcdH0sIHNlc3Npb24pXG5cdFx0XHRcdDoge307XG5cblx0XHRcdG1hdGNoID0gZXJyb3IgPyBudWxsIDogcGFnZS5wYXR0ZXJuLmV4ZWMocmVxLnBhdGgpO1xuXG5cblx0XHRcdGxldCB0b1ByZWxvYWQgPSBbcm9vdF9wcmVsb2FkZWRdO1xuXHRcdFx0aWYgKCFpc19zZXJ2aWNlX3dvcmtlcl9pbmRleCkge1xuXHRcdFx0XHR0b1ByZWxvYWQgPSB0b1ByZWxvYWQuY29uY2F0KHBhZ2UucGFydHMubWFwKHBhcnQgPT4ge1xuXHRcdFx0XHRcdGlmICghcGFydCkgcmV0dXJuIG51bGw7XG5cblx0XHRcdFx0XHQvLyB0aGUgZGVlcGVzdCBsZXZlbCBpcyB1c2VkIGJlbG93LCB0byBpbml0aWFsaXNlIHRoZSBzdG9yZVxuXHRcdFx0XHRcdHBhcmFtcyA9IHBhcnQucGFyYW1zID8gcGFydC5wYXJhbXMobWF0Y2gpIDoge307XG5cblx0XHRcdFx0XHRyZXR1cm4gcGFydC5wcmVsb2FkXG5cdFx0XHRcdFx0XHQ/IHBhcnQucHJlbG9hZC5jYWxsKHByZWxvYWRfY29udGV4dCwge1xuXHRcdFx0XHRcdFx0XHRob3N0OiByZXEuaGVhZGVycy5ob3N0LFxuXHRcdFx0XHRcdFx0XHRwYXRoOiByZXEucGF0aCxcblx0XHRcdFx0XHRcdFx0cXVlcnk6IHJlcS5xdWVyeSxcblx0XHRcdFx0XHRcdFx0cGFyYW1zXG5cdFx0XHRcdFx0XHR9LCBzZXNzaW9uKVxuXHRcdFx0XHRcdFx0OiB7fTtcblx0XHRcdFx0fSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRwcmVsb2FkZWQgPSBhd2FpdCBQcm9taXNlLmFsbCh0b1ByZWxvYWQpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdHJldHVybiBiYWlsKHJlcSwgcmVzLCBlcnIpXG5cdFx0XHR9XG5cblx0XHRcdHByZWxvYWRfZXJyb3IgPSB7IHN0YXR1c0NvZGU6IDUwMCwgbWVzc2FnZTogZXJyIH07XG5cdFx0XHRwcmVsb2FkZWQgPSBbXTsgLy8gYXBwZWFzZSBUeXBlU2NyaXB0XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdGlmIChyZWRpcmVjdCkge1xuXHRcdFx0XHRjb25zdCBsb2NhdGlvbiA9IFVybC5yZXNvbHZlKChyZXEuYmFzZVVybCB8fCAnJykgKyAnLycsIHJlZGlyZWN0LmxvY2F0aW9uKTtcblxuXHRcdFx0XHRyZXMuc3RhdHVzQ29kZSA9IHJlZGlyZWN0LnN0YXR1c0NvZGU7XG5cdFx0XHRcdHJlcy5zZXRIZWFkZXIoJ0xvY2F0aW9uJywgbG9jYXRpb24pO1xuXHRcdFx0XHRyZXMuZW5kKCk7XG5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocHJlbG9hZF9lcnJvcikge1xuXHRcdFx0XHRoYW5kbGVfZXJyb3IocmVxLCByZXMsIHByZWxvYWRfZXJyb3Iuc3RhdHVzQ29kZSwgcHJlbG9hZF9lcnJvci5tZXNzYWdlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWdtZW50cyA9IHJlcS5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0XHQvLyBUT0RPIG1ha2UgdGhpcyBsZXNzIGNvbmZ1c2luZ1xuXHRcdFx0Y29uc3QgbGF5b3V0X3NlZ21lbnRzID0gW3NlZ21lbnRzWzBdXTtcblx0XHRcdGxldCBsID0gMTtcblxuXHRcdFx0cGFnZS5wYXJ0cy5mb3JFYWNoKChwYXJ0LCBpKSA9PiB7XG5cdFx0XHRcdGxheW91dF9zZWdtZW50c1tsXSA9IHNlZ21lbnRzW2kgKyAxXTtcblx0XHRcdFx0aWYgKCFwYXJ0KSByZXR1cm4gbnVsbDtcblx0XHRcdFx0bCsrO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IHByb3BzID0ge1xuXHRcdFx0XHRzdG9yZXM6IHtcblx0XHRcdFx0XHRwYWdlOiB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmU6IHdyaXRhYmxlKHtcblx0XHRcdFx0XHRcdFx0aG9zdDogcmVxLmhlYWRlcnMuaG9zdCxcblx0XHRcdFx0XHRcdFx0cGF0aDogcmVxLnBhdGgsXG5cdFx0XHRcdFx0XHRcdHF1ZXJ5OiByZXEucXVlcnksXG5cdFx0XHRcdFx0XHRcdHBhcmFtc1xuXHRcdFx0XHRcdFx0fSkuc3Vic2NyaWJlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRwcmVsb2FkaW5nOiB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmU6IHdyaXRhYmxlKG51bGwpLnN1YnNjcmliZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2Vzc2lvbjogd3JpdGFibGUoc2Vzc2lvbilcblx0XHRcdFx0fSxcblx0XHRcdFx0c2VnbWVudHM6IGxheW91dF9zZWdtZW50cyxcblx0XHRcdFx0c3RhdHVzOiBlcnJvciA/IHN0YXR1cyA6IDIwMCxcblx0XHRcdFx0ZXJyb3I6IGVycm9yID8gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogeyBtZXNzYWdlOiBlcnJvciB9IDogbnVsbCxcblx0XHRcdFx0bGV2ZWwwOiB7XG5cdFx0XHRcdFx0cHJvcHM6IHByZWxvYWRlZFswXVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsZXZlbDE6IHtcblx0XHRcdFx0XHRzZWdtZW50OiBzZWdtZW50c1swXSxcblx0XHRcdFx0XHRwcm9wczoge31cblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKCFpc19zZXJ2aWNlX3dvcmtlcl9pbmRleCkge1xuXHRcdFx0XHRsZXQgbCA9IDE7XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZS5wYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHBhcnQgPSBwYWdlLnBhcnRzW2ldO1xuXHRcdFx0XHRcdGlmICghcGFydCkgY29udGludWU7XG5cblx0XHRcdFx0XHRwcm9wc1tgbGV2ZWwke2wrK31gXSA9IHtcblx0XHRcdFx0XHRcdGNvbXBvbmVudDogcGFydC5jb21wb25lbnQsXG5cdFx0XHRcdFx0XHRwcm9wczogcHJlbG9hZGVkW2kgKyAxXSB8fCB7fSxcblx0XHRcdFx0XHRcdHNlZ21lbnQ6IHNlZ21lbnRzW2ldXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB7IGh0bWwsIGhlYWQsIGNzcyB9ID0gQXBwLnJlbmRlcihwcm9wcyk7XG5cblx0XHRcdGNvbnN0IHNlcmlhbGl6ZWQgPSB7XG5cdFx0XHRcdHByZWxvYWRlZDogYFske3ByZWxvYWRlZC5tYXAoZGF0YSA9PiB0cnlfc2VyaWFsaXplKGRhdGEpKS5qb2luKCcsJyl9XWAsXG5cdFx0XHRcdHNlc3Npb246IHNlc3Npb24gJiYgdHJ5X3NlcmlhbGl6ZShzZXNzaW9uLCBlcnIgPT4ge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNlcmlhbGl6ZSBzZXNzaW9uIGRhdGE6ICR7ZXJyLm1lc3NhZ2V9YCk7XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IgJiYgdHJ5X3NlcmlhbGl6ZShwcm9wcy5lcnJvcilcblx0XHRcdH07XG5cblx0XHRcdGxldCBzY3JpcHQgPSBgX19TQVBQRVJfXz17JHtbXG5cdFx0XHRcdGVycm9yICYmIGBlcnJvcjoke3NlcmlhbGl6ZWQuZXJyb3J9LHN0YXR1czoke3N0YXR1c31gLFxuXHRcdFx0XHRgYmFzZVVybDpcIiR7cmVxLmJhc2VVcmx9XCJgLFxuXHRcdFx0XHRzZXJpYWxpemVkLnByZWxvYWRlZCAmJiBgcHJlbG9hZGVkOiR7c2VyaWFsaXplZC5wcmVsb2FkZWR9YCxcblx0XHRcdFx0c2VyaWFsaXplZC5zZXNzaW9uICYmIGBzZXNzaW9uOiR7c2VyaWFsaXplZC5zZXNzaW9ufWBcblx0XHRcdF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJywnKX19O2A7XG5cblx0XHRcdGlmIChoYXNfc2VydmljZV93b3JrZXIpIHtcblx0XHRcdFx0c2NyaXB0ICs9IGBpZignc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcke3JlcS5iYXNlVXJsfS9zZXJ2aWNlLXdvcmtlci5qcycpO2A7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZpbGUgPSBbXS5jb25jYXQoYnVpbGRfaW5mby5hc3NldHMubWFpbikuZmlsdGVyKGZpbGUgPT4gZmlsZSAmJiAvXFwuanMkLy50ZXN0KGZpbGUpKVswXTtcblx0XHRcdGNvbnN0IG1haW4gPSBgJHtyZXEuYmFzZVVybH0vY2xpZW50LyR7ZmlsZX1gO1xuXG5cdFx0XHRpZiAoYnVpbGRfaW5mby5idW5kbGVyID09PSAncm9sbHVwJykge1xuXHRcdFx0XHRpZiAoYnVpbGRfaW5mby5sZWdhY3lfYXNzZXRzKSB7XG5cdFx0XHRcdFx0Y29uc3QgbGVnYWN5X21haW4gPSBgJHtyZXEuYmFzZVVybH0vY2xpZW50L2xlZ2FjeS8ke2J1aWxkX2luZm8ubGVnYWN5X2Fzc2V0cy5tYWlufWA7XG5cdFx0XHRcdFx0c2NyaXB0ICs9IGAoZnVuY3Rpb24oKXt0cnl7ZXZhbChcImFzeW5jIGZ1bmN0aW9uIHgoKXt9XCIpO3ZhciBtYWluPVwiJHttYWlufVwifWNhdGNoKGUpe21haW49XCIke2xlZ2FjeV9tYWlufVwifTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3RyeXtuZXcgRnVuY3Rpb24oXCJpZigwKWltcG9ydCgnJylcIikoKTtzLnNyYz1tYWluO3MudHlwZT1cIm1vZHVsZVwiO3MuY3Jvc3NPcmlnaW49XCJ1c2UtY3JlZGVudGlhbHNcIjt9Y2F0Y2goZSl7cy5zcmM9XCIke3JlcS5iYXNlVXJsfS9jbGllbnQvc2hpbXBvcnRAJHtidWlsZF9pbmZvLnNoaW1wb3J0fS5qc1wiO3Muc2V0QXR0cmlidXRlKFwiZGF0YS1tYWluXCIsbWFpbik7fWRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyk7fSgpKTtgO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNjcmlwdCArPSBgdmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTt0cnl7bmV3IEZ1bmN0aW9uKFwiaWYoMClpbXBvcnQoJycpXCIpKCk7cy5zcmM9XCIke21haW59XCI7cy50eXBlPVwibW9kdWxlXCI7cy5jcm9zc09yaWdpbj1cInVzZS1jcmVkZW50aWFsc1wiO31jYXRjaChlKXtzLnNyYz1cIiR7cmVxLmJhc2VVcmx9L2NsaWVudC9zaGltcG9ydEAke2J1aWxkX2luZm8uc2hpbXBvcnR9LmpzXCI7cy5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1haW5cIixcIiR7bWFpbn1cIil9ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzKWA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNjcmlwdCArPSBgPC9zY3JpcHQ+PHNjcmlwdCBzcmM9XCIke21haW59XCI+YDtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHN0eWxlcztcblxuXHRcdFx0Ly8gVE9ETyBtYWtlIHRoaXMgY29uc2lzdGVudCBhY3Jvc3MgYXBwc1xuXHRcdFx0Ly8gVE9ETyBlbWJlZCBidWlsZF9pbmZvIGluIHBsYWNlaG9sZGVyLnRzXG5cdFx0XHRpZiAoYnVpbGRfaW5mby5jc3MgJiYgYnVpbGRfaW5mby5jc3MubWFpbikge1xuXHRcdFx0XHRjb25zdCBjc3NfY2h1bmtzID0gbmV3IFNldCgpO1xuXHRcdFx0XHRpZiAoYnVpbGRfaW5mby5jc3MubWFpbikgY3NzX2NodW5rcy5hZGQoYnVpbGRfaW5mby5jc3MubWFpbik7XG5cdFx0XHRcdHBhZ2UucGFydHMuZm9yRWFjaChwYXJ0ID0+IHtcblx0XHRcdFx0XHRpZiAoIXBhcnQpIHJldHVybjtcblx0XHRcdFx0XHRjb25zdCBjc3NfY2h1bmtzX2Zvcl9wYXJ0ID0gYnVpbGRfaW5mby5jc3MuY2h1bmtzW3BhcnQuZmlsZV07XG5cblx0XHRcdFx0XHRpZiAoY3NzX2NodW5rc19mb3JfcGFydCkge1xuXHRcdFx0XHRcdFx0Y3NzX2NodW5rc19mb3JfcGFydC5mb3JFYWNoKGZpbGUgPT4ge1xuXHRcdFx0XHRcdFx0XHRjc3NfY2h1bmtzLmFkZChmaWxlKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0c3R5bGVzID0gQXJyYXkuZnJvbShjc3NfY2h1bmtzKVxuXHRcdFx0XHRcdC5tYXAoaHJlZiA9PiBgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCJjbGllbnQvJHtocmVmfVwiPmApXG5cdFx0XHRcdFx0LmpvaW4oJycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3R5bGVzID0gKGNzcyAmJiBjc3MuY29kZSA/IGA8c3R5bGU+JHtjc3MuY29kZX08L3N0eWxlPmAgOiAnJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHVzZXJzIGNhbiBzZXQgYSBDU1Agbm9uY2UgdXNpbmcgcmVzLmxvY2Fscy5ub25jZVxuXHRcdFx0Y29uc3Qgbm9uY2VfYXR0ciA9IChyZXMubG9jYWxzICYmIHJlcy5sb2NhbHMubm9uY2UpID8gYCBub25jZT1cIiR7cmVzLmxvY2Fscy5ub25jZX1cImAgOiAnJztcblxuXHRcdFx0Y29uc3QgYm9keSA9IHRlbXBsYXRlKClcblx0XHRcdFx0LnJlcGxhY2UoJyVzYXBwZXIuYmFzZSUnLCAoKSA9PiBgPGJhc2UgaHJlZj1cIiR7cmVxLmJhc2VVcmx9L1wiPmApXG5cdFx0XHRcdC5yZXBsYWNlKCclc2FwcGVyLnNjcmlwdHMlJywgKCkgPT4gYDxzY3JpcHQke25vbmNlX2F0dHJ9PiR7c2NyaXB0fTwvc2NyaXB0PmApXG5cdFx0XHRcdC5yZXBsYWNlKCclc2FwcGVyLmh0bWwlJywgKCkgPT4gaHRtbClcblx0XHRcdFx0LnJlcGxhY2UoJyVzYXBwZXIuaGVhZCUnLCAoKSA9PiBgPG5vc2NyaXB0IGlkPSdzYXBwZXItaGVhZC1zdGFydCc+PC9ub3NjcmlwdD4ke2hlYWR9PG5vc2NyaXB0IGlkPSdzYXBwZXItaGVhZC1lbmQnPjwvbm9zY3JpcHQ+YClcblx0XHRcdFx0LnJlcGxhY2UoJyVzYXBwZXIuc3R5bGVzJScsICgpID0+IHN0eWxlcyk7XG5cblx0XHRcdHJlcy5zdGF0dXNDb2RlID0gc3RhdHVzO1xuXHRcdFx0cmVzLmVuZChib2R5KTtcblx0XHR9IGNhdGNoKGVycikge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdGJhaWwocmVxLCByZXMsIGVycik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVfZXJyb3IocmVxLCByZXMsIDUwMCwgZXJyKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnVuY3Rpb24gZmluZF9yb3V0ZShyZXEsIHJlcywgbmV4dCkge1xuXHRcdGlmIChyZXEucGF0aCA9PT0gJy9zZXJ2aWNlLXdvcmtlci1pbmRleC5odG1sJykge1xuXHRcdFx0Y29uc3QgaG9tZVBhZ2UgPSBwYWdlcy5maW5kKHBhZ2UgPT4gcGFnZS5wYXR0ZXJuLnRlc3QoJy8nKSk7XG5cdFx0XHRoYW5kbGVfcGFnZShob21lUGFnZSwgcmVxLCByZXMpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuXHRcdFx0aWYgKHBhZ2UucGF0dGVybi50ZXN0KHJlcS5wYXRoKSkge1xuXHRcdFx0XHRoYW5kbGVfcGFnZShwYWdlLCByZXEsIHJlcyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVfZXJyb3IocmVxLCByZXMsIDQwNCwgJ05vdCBmb3VuZCcpO1xuXHR9O1xufVxuXG5mdW5jdGlvbiByZWFkX3RlbXBsYXRlKGRpciA9IGJ1aWxkX2Rpcikge1xuXHRyZXR1cm4gZnMucmVhZEZpbGVTeW5jKGAke2Rpcn0vdGVtcGxhdGUuaHRtbGAsICd1dGYtOCcpO1xufVxuXG5mdW5jdGlvbiB0cnlfc2VyaWFsaXplKGRhdGEsIGZhaWwpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZGV2YWx1ZShkYXRhKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0aWYgKGZhaWwpIGZhaWwoZXJyKTtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuXG5mdW5jdGlvbiBlc2NhcGVfaHRtbChodG1sKSB7XG5cdGNvbnN0IGNoYXJzID0ge1xuXHRcdCdcIicgOiAncXVvdCcsXG5cdFx0XCInXCI6ICcjMzknLFxuXHRcdCcmJzogJ2FtcCcsXG5cdFx0JzwnIDogJ2x0Jyxcblx0XHQnPicgOiAnZ3QnXG5cdH07XG5cblx0cmV0dXJuIGh0bWwucmVwbGFjZSgvW1wiJyY8Pl0vZywgYyA9PiBgJiR7Y2hhcnNbY119O2ApO1xufVxuXG5mdW5jdGlvbiBtaWRkbGV3YXJlKG9wdHNcblxuXG4gPSB7fSkge1xuXHRjb25zdCB7IHNlc3Npb24sIGlnbm9yZSB9ID0gb3B0cztcblxuXHRsZXQgZW1pdHRlZF9iYXNlcGF0aCA9IGZhbHNlO1xuXG5cdHJldHVybiBjb21wb3NlX2hhbmRsZXJzKGlnbm9yZSwgW1xuXHRcdChyZXEsIHJlcywgbmV4dCkgPT4ge1xuXHRcdFx0aWYgKHJlcS5iYXNlVXJsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bGV0IHsgb3JpZ2luYWxVcmwgfSA9IHJlcTtcblx0XHRcdFx0aWYgKHJlcS51cmwgPT09ICcvJyAmJiBvcmlnaW5hbFVybFtvcmlnaW5hbFVybC5sZW5ndGggLSAxXSAhPT0gJy8nKSB7XG5cdFx0XHRcdFx0b3JpZ2luYWxVcmwgKz0gJy8nO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVxLmJhc2VVcmwgPSBvcmlnaW5hbFVybFxuXHRcdFx0XHRcdD8gb3JpZ2luYWxVcmwuc2xpY2UoMCwgLXJlcS51cmwubGVuZ3RoKVxuXHRcdFx0XHRcdDogJyc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghZW1pdHRlZF9iYXNlcGF0aCAmJiBwcm9jZXNzLnNlbmQpIHtcblx0XHRcdFx0cHJvY2Vzcy5zZW5kKHtcblx0XHRcdFx0XHRfX3NhcHBlcl9fOiB0cnVlLFxuXHRcdFx0XHRcdGV2ZW50OiAnYmFzZXBhdGgnLFxuXHRcdFx0XHRcdGJhc2VwYXRoOiByZXEuYmFzZVVybFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRlbWl0dGVkX2Jhc2VwYXRoID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHJlcS5wYXRoID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmVxLnBhdGggPSByZXEudXJsLnJlcGxhY2UoL1xcPy4qLywgJycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXh0KCk7XG5cdFx0fSxcblxuXHRcdGZzLmV4aXN0c1N5bmMocGF0aC5qb2luKGJ1aWxkX2RpciwgJ3NlcnZpY2Utd29ya2VyLmpzJykpICYmIHNlcnZlKHtcblx0XHRcdHBhdGhuYW1lOiAnL3NlcnZpY2Utd29ya2VyLmpzJyxcblx0XHRcdGNhY2hlX2NvbnRyb2w6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZSdcblx0XHR9KSxcblxuXHRcdGZzLmV4aXN0c1N5bmMocGF0aC5qb2luKGJ1aWxkX2RpciwgJ3NlcnZpY2Utd29ya2VyLmpzLm1hcCcpKSAmJiBzZXJ2ZSh7XG5cdFx0XHRwYXRobmFtZTogJy9zZXJ2aWNlLXdvcmtlci5qcy5tYXAnLFxuXHRcdFx0Y2FjaGVfY29udHJvbDogJ25vLWNhY2hlLCBuby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlJ1xuXHRcdH0pLFxuXG5cdFx0c2VydmUoe1xuXHRcdFx0cHJlZml4OiAnL2NsaWVudC8nLFxuXHRcdFx0Y2FjaGVfY29udHJvbDogZGV2ID8gJ25vLWNhY2hlJyA6ICdtYXgtYWdlPTMxNTM2MDAwLCBpbW11dGFibGUnXG5cdFx0fSksXG5cblx0XHRnZXRfc2VydmVyX3JvdXRlX2hhbmRsZXIobWFuaWZlc3Quc2VydmVyX3JvdXRlcyksXG5cblx0XHRnZXRfcGFnZV9oYW5kbGVyKG1hbmlmZXN0LCBzZXNzaW9uIHx8IG5vb3ApXG5cdF0uZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuZnVuY3Rpb24gY29tcG9zZV9oYW5kbGVycyhpZ25vcmUsIGhhbmRsZXJzKSB7XG5cdGNvbnN0IHRvdGFsID0gaGFuZGxlcnMubGVuZ3RoO1xuXG5cdGZ1bmN0aW9uIG50aF9oYW5kbGVyKG4sIHJlcSwgcmVzLCBuZXh0KSB7XG5cdFx0aWYgKG4gPj0gdG90YWwpIHtcblx0XHRcdHJldHVybiBuZXh0KCk7XG5cdFx0fVxuXG5cdFx0aGFuZGxlcnNbbl0ocmVxLCByZXMsICgpID0+IG50aF9oYW5kbGVyKG4rMSwgcmVxLCByZXMsIG5leHQpKTtcblx0fVxuXG5cdHJldHVybiAhaWdub3JlXG5cdFx0PyAocmVxLCByZXMsIG5leHQpID0+IG50aF9oYW5kbGVyKDAsIHJlcSwgcmVzLCBuZXh0KVxuXHRcdDogKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG5cdFx0XHRpZiAoc2hvdWxkX2lnbm9yZShyZXEucGF0aCwgaWdub3JlKSkge1xuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRudGhfaGFuZGxlcigwLCByZXEsIHJlcywgbmV4dCk7XG5cdFx0XHR9XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkX2lnbm9yZSh1cmksIHZhbCkge1xuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSByZXR1cm4gdmFsLnNvbWUoeCA9PiBzaG91bGRfaWdub3JlKHVyaSwgeCkpO1xuXHRpZiAodmFsIGluc3RhbmNlb2YgUmVnRXhwKSByZXR1cm4gdmFsLnRlc3QodXJpKTtcblx0aWYgKHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHJldHVybiB2YWwodXJpKTtcblx0cmV0dXJuIHVyaS5zdGFydHNXaXRoKHZhbC5jaGFyQ29kZUF0KDApID09PSA0NyA/IHZhbCA6IGAvJHt2YWx9YCk7XG59XG5cbmZ1bmN0aW9uIHNlcnZlKHsgcHJlZml4LCBwYXRobmFtZSwgY2FjaGVfY29udHJvbCB9XG5cblxuXG4pIHtcblx0Y29uc3QgZmlsdGVyID0gcGF0aG5hbWVcblx0XHQ/IChyZXEpID0+IHJlcS5wYXRoID09PSBwYXRobmFtZVxuXHRcdDogKHJlcSkgPT4gcmVxLnBhdGguc3RhcnRzV2l0aChwcmVmaXgpO1xuXG5cdGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0IHJlYWQgPSBkZXZcblx0XHQ/IChmaWxlKSA9PiBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGJ1aWxkX2RpciwgZmlsZSkpXG5cdFx0OiAoZmlsZSkgPT4gKGNhY2hlLmhhcyhmaWxlKSA/IGNhY2hlIDogY2FjaGUuc2V0KGZpbGUsIGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oYnVpbGRfZGlyLCBmaWxlKSkpKS5nZXQoZmlsZSk7XG5cblx0cmV0dXJuIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuXHRcdGlmIChmaWx0ZXIocmVxKSkge1xuXHRcdFx0Y29uc3QgdHlwZSA9IGxpdGUuZ2V0VHlwZShyZXEucGF0aCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSBwYXRoLnBvc2l4Lm5vcm1hbGl6ZShkZWNvZGVVUklDb21wb25lbnQocmVxLnBhdGgpKTtcblx0XHRcdFx0Y29uc3QgZGF0YSA9IHJlYWQoZmlsZSk7XG5cblx0XHRcdFx0cmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgdHlwZSk7XG5cdFx0XHRcdHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCBjYWNoZV9jb250cm9sKTtcblx0XHRcdFx0cmVzLmVuZChkYXRhKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRyZXMuc3RhdHVzQ29kZSA9IDQwNDtcblx0XHRcdFx0cmVzLmVuZCgnbm90IGZvdW5kJyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5leHQoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIG5vb3AoKXt9XG5cbmV4cG9ydCB7IG1pZGRsZXdhcmUgfTtcbiIsImltcG9ydCBzaXJ2IGZyb20gJ3NpcnYnO1xuaW1wb3J0IHBvbGthIGZyb20gJ3BvbGthJztcbmltcG9ydCBjb21wcmVzc2lvbiBmcm9tICdjb21wcmVzc2lvbic7XG5pbXBvcnQgKiBhcyBzYXBwZXIgZnJvbSAnQHNhcHBlci9zZXJ2ZXInO1xuaW1wb3J0IGlvIGZyb20gJ3NvY2tldC5pbyc7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcblxuY29uc3QgeyBQT1JULCBOT0RFX0VOViB9ID0gcHJvY2Vzcy5lbnY7XG5jb25zdCBkZXYgPSBOT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcbmNvbnN0IGpzdHIgPSBKU09OLnN0cmluZ2lmeTtcbmxldCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcigpO1xucG9sa2Eoe3NlcnZlcn0pIC8vIFlvdSBjYW4gYWxzbyB1c2UgRXhwcmVzc1xuXHQudXNlKFxuXHRcdGNvbXByZXNzaW9uKHsgdGhyZXNob2xkOiAwIH0pLFxuXHRcdHNpcnYoJ3N0YXRpYycsIHsgZGV2IH0pLFxuXHRcdHNhcHBlci5taWRkbGV3YXJlKClcblx0KVxuXHQubGlzdGVuKFBPUlQsIGVyciA9PiB7XG5cdFx0aWYgKGVycikgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyKTtcblx0fSk7XG5cbmxldCBjbGllbnRzID0gW10sIGdhbWVzID0gW107XG5sZXQgZ2VuZXJhdGVuZXdnYW1lID0gKHN0YXRlKSA9PiB7IGNvbnNvbGUubG9nKCduZXcgZ2FtZSBnZW5lcmF0ZWQ6ICcsIHN0YXRlLmxhYmVsKTtcblx0c3RhdGUgPSB7Li4uc3RhdGUsIGdhbWVfaWQ6Z2FtZXMubGVuZ3RofTtcblx0Z2FtZXMgPSBbLi4uZ2FtZXMse2dhbWU6c3RhdGV9XTtcblx0Y2xpZW50cyA9IFsuLi5jbGllbnRzLHsgfV07XG5cdHJldHVybiBzdGF0ZS5nYW1lX2lkO1xufTtcbmNvbnNvbGUubG9nKCdzZXJ2ZXIgc3RhcnRlZCcpO1xubGV0IHJlZ1BseXIgPSAoc29ja2V0LG1zZykgPT4gc29ja2V0LmpvaW4obXNnLmdhbWVfaWQpO1xubGV0IHNldFN0YXRlID0gKG1zZykgPT4gZ2FtZXNbbXNnLmdhbWVfaWRdID0geyBnYW1lOiBtc2cgfTtcbmxldCB3cyA9IGlvKHNlcnZlcikub24oJ2Nvbm5lY3Rpb24nLCBzb2NrZXQgPT4ge1xuXHRjb25zb2xlLmxvZygnY29ubmVjdGlvbiBtYWRlJyk7XG5cdHNvY2tldC5vbignbWVzc2FnZScsIG1zZyA9PiB7XG5cdFx0bXNnID0gSlNPTi5wYXJzZShtc2cpO1xuXHRcdHN3aXRjaCAobXNnLmhlYWRlcikge1xuXHRcdFx0Y2FzZSAncmVnaXN0ZXInIDogIGNvbnNvbGUubG9nKG1zZy5oZWFkZXIpO1xuXHRcdFx0XHRyZWdQbHlyKHNvY2tldCxtc2cpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3NldCcgOiAgLy9jb25zb2xlLmxvZyhtc2cuaGVhZGVyKTtcblx0XHRcdFx0c2V0U3RhdGUobXNnKTtcblx0XHRcdFx0c29ja2V0LnRvKG1zZy5nYW1lX2lkKS5lbWl0KCdzZXQnLGpzdHIobXNnKSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnbmV3Z2FtZScgOiBjb25zb2xlLmxvZyhtc2cuaGVhZGVyKTtcblx0XHRcdFx0c29ja2V0LmVtaXQoJ2lkJyxnZW5lcmF0ZW5ld2dhbWUobXNnLmdhbWUpKTsgXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncGluZyc6IC8vY29uc29sZS5sb2cobXNnLmhlYWRlcik7XG5cdFx0XHRcdHNvY2tldC5lbWl0KGpzdHIoeyBoZWFkZXI6IFwicG9uZ1wiIH0pKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdyZW1vdmUnIDogIGNvbnNvbGUubG9nKG1zZy5oZWFkZXIpO1xuXHRcdFx0XHRnYW1lcyA9IGdhbWVzLnNwbGljZShtc2cuZ2FtZV9pZCwxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdmZXRjaGV4aXN0aW5nJyA6ICBjb25zb2xlLmxvZyhtc2cuaGVhZGVyKTtcblx0XHRcdFx0c29ja2V0LmVtaXQoJ2ZldGNoJyxqc3RyKGdhbWVzKSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnZW50ZXJleGlzdGluZycgOiBjb25zb2xlLmxvZyhtc2cuaGVhZGVyKTtcblx0XHRcdFx0bGV0IGdhbWVfaWQgPSBtc2cuZ2FtZV9pZCxcblx0XHRcdFx0XHRnYW1lID0gZ2FtZXNbZ2FtZV9pZF0uZ2FtZSxcblx0XHRcdFx0XHRzbG90ID0gbXNnLnNsb3QsXG5cdFx0XHRcdFx0cGxheWVyX25hbWUgPSBtc2cucGxheWVyX25hbWU7XG5cdFx0XHRcdGlmKHNsb3QgPT0gLTEpIGJyZWFrO1xuXHRcdFx0XHRnYW1lLnBsYXllcnNbc2xvdF0gPSB7Li4uZ2FtZS5wbGF5ZXJzW3Nsb3RdLCBuYW1lOnBsYXllcl9uYW1lLCBhdmFpbGFibGU6ZmFsc2V9O1xuXHRcdFx0XHRyZWdQbHlyKHNvY2tldCxtc2cpO1xuXHRcdFx0XHRpZiAoZ2FtZS5jdXJyZW50cGhhc2UgPCAwKSBnYW1lLmN1cnJlbnRwaGFzZSA9IDA7XG5cdFx0XHRcdHNvY2tldC5lbWl0KCdlbnRlcicsanN0cihnYW1lKSk7XG5cdFx0XHRcdHdzLnRvKGdhbWVfaWQpLmVtaXQoJ2pvaW4nLGpzdHIoe3Nsb3Q6c2xvdCxwbGF5ZXI6Z2FtZS5wbGF5ZXJzW3Nsb3RdfSkpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0pO1xufSk7Il0sIm5hbWVzIjpbInRoaXMiLCJjb21wb25lbnRfMCIsInJvb3QiLCJlcnJvciIsImVzY2FwZWQiLCJBcHAiLCJub29wIiwic2FwcGVyLm1pZGRsZXdhcmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxTQUFTLElBQUksR0FBRyxHQUFHO0FBZ0JuQixTQUFTLEdBQUcsQ0FBQyxFQUFFLEVBQUU7QUFDakIsSUFBSSxPQUFPLEVBQUUsRUFBRSxDQUFDO0FBQ2hCLENBQUM7QUFDRCxTQUFTLFlBQVksR0FBRztBQUN4QixJQUFJLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMvQixDQUFDO0FBQ0QsU0FBUyxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQ3RCLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQixDQUFDO0FBSUQsU0FBUyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUM5QixJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLEtBQUssUUFBUSxLQUFLLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDO0FBQ2xHLENBQUM7QUE2RUQsU0FBUyxhQUFhLENBQUMsS0FBSyxFQUFFO0FBQzlCLElBQUksT0FBTyxLQUFLLElBQUksSUFBSSxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDdEMsQ0FBQztBQTJjRDtBQUNBLElBQUksaUJBQWlCLENBQUM7QUFDdEIsU0FBUyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUU7QUFDMUMsSUFBSSxpQkFBaUIsR0FBRyxTQUFTLENBQUM7QUFDbEMsQ0FBQztBQUNELFNBQVMs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SSxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQVM7S0FBUSxLQUFLOztLQUFZLE1BQU0sQ0FBQyxJQUFJOzs7O0VBQzdNLFlBQVksSUFBSSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxNQUFNO0dBQWlCLElBQUk7R0FBQyxRQUFRLEVBQUUsS0FBSztHQUFRLElBQUk7R0FBRSxRQUFRLEVBQUUsS0FBSztHQUFFLEtBQUs7O0tBQVEsTUFBTSxFQUFFLENBQUM7S0FBRSxPQUFPLEVBQUUsQ0FBQztLQUFFLFFBQVEsRUFBRSxDQUFDO0tBQUUsT0FBTyxFQUFFLENBQUM7S0FBRSxLQUFLLEVBQUUsQ0FBQztLQUFFLFFBQVEsRUFBRSxDQUFDOztPQUFLLE9BQU87O0dBQUUsS0FBSyxFQUFFLElBQUk7TUFBSyxNQUFNOztFQUNyTyxVQUFVLElBQUksSUFBSSxFQUFDLEdBQUcsTUFBTSxRQUFRLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFpQixPQUFPLENBQUUsSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSTtFQUMvSSxBQUNBLFdBQVcsSUFBSSxJQUFJLEVBQUMsSUFBSTtHQUFNLFdBQVcsQ0FBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxTQUFTO0dBQUcsV0FBVyxDQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsSUFBSTs7RUFDcEcsQUFDQSxXQUFXLElBQUksR0FBRyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxHQUFHLFFBQVEsSUFBSSxDQUFDLEdBQUcsUUFBUSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUs7RUFDM0YsV0FBVyxJQUFJLEdBQUcsRUFBQyxJQUFJLEVBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVB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Q0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQzFDLE1BQU0sSUFBSSxHQUFHLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzlCLE1BQU0sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckUsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDLENBQUM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFNBQVMsSUFBSSxFQUFFO0FBQ3hDLEVBQUUsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QixFQUFFLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3hELEVBQUUsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDcEQ7QUFDQSxFQUFFLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUMxQyxFQUFFLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDNUM7QUFDQSxFQUFFLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDMUQsQ0FBQyxDQUFDO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxTQUFTLElBQUksRUFBRTtBQUM3QyxFQUFFLElBQUksR0FBRyxlQUFl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WSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLHFCQUFxQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsa0NBQWtDLENBQUMsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsZ0NBQWdDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLHdCQUF3QixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLHFCQUFxQixDQUFDLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxD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LENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3BGLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QixJQUFJLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7QUFDckQsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNwQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVFLElBQUksTUFBTTtBQUNWLEdBQUc7QUFDSCxFQUFFLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyJ9
