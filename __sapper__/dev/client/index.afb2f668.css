@import url(https://unpkg.com/@smui/card@latest/bare.css);.mdc-card.svelte-4d9gi8.svelte-4d9gi8{overflow:hidden;padding:1vh;min-height:30vh;min-width:19vh;max-height:30vh;max-width:19vh;margin-left:1vh;margin-right:1vh}.mdc-card.mini.svelte-4d9gi8.svelte-4d9gi8{min-height:16vh;max-height:16vh}.title.svelte-4d9gi8.svelte-4d9gi8{display:flex;flex-direction:row;max-height:3vh;min-height:3vh;font:2vh bold}.title.svelte-4d9gi8 p.svelte-4d9gi8{margin-top:auto;margin-bottom:auto;margin-left:1vh}.logo.svelte-4d9gi8.svelte-4d9gi8{height:12vh;width:12vh;margin-left:3vh;border-radius:10vh 0vh 10vh 0vh;border:.25vh solid black;transform:rotate(45deg)}.logo.svelte-4d9gi8 img.svelte-4d9gi8{margin-left:2.25vh;margin-top:2vh;height:7.5vh;width:7.5vh;transform:rotate(-45deg);overflow:hidden}.desc.svelte-4d9gi8.svelte-4d9gi8{position:relative;font:1vh bold;line-height:1.2}.action.svelte-4d9gi8.svelte-4d9gi8{position:relative;border:0.05vh solid black;padding:0.5vh}.action.svelte-4d9gi8.svelte-4d9gi8:after{position:absolute;background:rgb(80,80,80);height:1vh;left:.5vh;top:-.5vh}.action.svelte-4d9gi8.svelte-4d9gi8:after{content:'Action'}
@import url(https://unpkg.com/@smui/card@latest/bare.css);:root{--pro-color:rgb(255, 255, 119);--col-color:rgb(255, 184, 102);--trd-color:rgb(255, 169, 241);--pol-color:rgb(209, 186, 143);--res-color:rgb(119, 183, 255);--war-color:rgb(255, 98, 98);--sur-color:rgb(143, 255, 143);--pro-trd-clr:linear-gradient(to right, var(--pro-color), var(--pro-color) 50%, var(--trd-color) 50%, var(--trd-color) 100%)}.mdc-card.svelte-cyquv5.svelte-cyquv5{position:relative;overflow:hidden;padding:1vh;height:30vh;width:21vh;margin-left:1vh;margin-right:1vh}.mdc-card.mini.svelte-cyquv5.svelte-cyquv5{min-height:16vh;max-height:16vh}.logo.svelte-cyquv5 div.svelte-cyquv5{transform:rotate(-45deg) scale(1.7);margin-top:2.9vh;margin-left:2.8vh}.title.svelte-cyquv5.svelte-cyquv5{display:flex;flex-direction:row;max-height:3vh;min-height:3vh;overflow:hidden;font:2vh bold}.title.svelte-cyquv5 p.svelte-cyquv5{margin-top:auto;margin-bottom:auto;margin-left:1vh}.logo.svelte-cyquv5.svelte-cyquv5{height:12vh;width:12vh;margin-left:3vh;border-radius:10vh 0vh 10vh 0vh;border:.25vh solid black;transform:rotate(45deg)}.logo.svelte-cyquv5 img.svelte-cyquv5{margin-left:2.25vh;margin-top:2vh;height:7.5vh;width:7.5vh;transform:rotate(-45deg);overflow:hidden}.desc.svelte-cyquv5.svelte-cyquv5{position:relative;font:1vh bold;line-height:1.2}.role.svelte-cyquv5.svelte-cyquv5,.action.svelte-cyquv5.svelte-cyquv5{position:relative;border:0.05vh solid black;padding:0.5vh}.role.svelte-cyquv5.svelte-cyquv5:after,.action.svelte-cyquv5.svelte-cyquv5:after{position:absolute;background:rgb(80,80,80);height:1vh;left:.5vh;top:-.5vh}.role.svelte-cyquv5.svelte-cyquv5:after{content:'Role'}.action.svelte-cyquv5.svelte-cyquv5:after{content:'Action'}.pilecount.svelte-cyquv5.svelte-cyquv5{position:absolute;left:5%;bottom:3%}
.pass.svelte-bs25u.svelte-bs25u{background-repeat:no-repeat;height:50px;min-width:200px;background-image:url("/images/EMbutton200.png");align-self:center;text-align:center}.messagetoplayer.svelte-bs25u.svelte-bs25u{text-align:center;width:100%;position:absolute;top:75%}.selectable.svelte-bs25u.svelte-bs25u{border:solid rgb(114, 210, 223);border-width:4px;border-left-width:2px;border-right-width:2px}.selected.svelte-bs25u.svelte-bs25u{border:solid rgb(50, 190, 132);border-width:4px;border-left-width:2px;border-right-width:2px}.flex.svelte-bs25u.svelte-bs25u{display:flex;flex-direction:row;justify-content:center}.playerinfo.svelte-bs25u.svelte-bs25u{display:flex;flex-direction:row;justify-content:flex-start;width:100%;height:10%}.playingfield.svelte-bs25u.svelte-bs25u{overflow:hidden;min-height:100vh;min-width:100vw;min-height:100vh;min-width:100vw;background:radial-gradient(rgb(82,48,103), rgb(10,10,10));background-repeat:no-repeat;background-size:cover}.options.svelte-bs25u.svelte-bs25u,.talloptions.svelte-bs25u.svelte-bs25u{background-image:url("/images/embackground.png");background-repeat:no-repeat;display:flex;flex-direction:row;justify-content:space-around;position:absolute;right:10%;top:50%;height:15%;width:80%;font-size:150%}.talloptions.svelte-bs25u.svelte-bs25u{height:30%}.ownedcards.svelte-bs25u.svelte-bs25u{display:flex;flex-direction:row;height:20%;position:absolute;top:80%}.hand.svelte-bs25u.svelte-bs25u{margin:auto;display:flex;flex-direction:row;max-width:90%;max-height:100%;overflow-x:scroll;overflow-y:hidden}.deck.svelte-bs25u.svelte-bs25u{max-width:5%;margin-right:auto}.discard.svelte-bs25u.svelte-bs25u{max-width:5%;margin-left:auto}.zone.svelte-bs25u.svelte-bs25u{width:100%;overflow-x:scroll;overflow-y:hidden;display:flex;flex-direction:row}.centerrow.svelte-bs25u.svelte-bs25u{height:40%;position:absolute;top:15%}.researchrow.svelte-bs25u.svelte-bs25u{height:40%}.researchrow>div.svelte-bs25u.svelte-bs25u{height:95%}.playedcards.svelte-bs25u.svelte-bs25u{height:20%;overflow-x:scroll;position:absolute;top:55%;justify-content:flex-start}.bordered.svelte-bs25u.svelte-bs25u{border:solid #000;border-width:1px}.svelte-bs25u.svelte-bs25u::-webkit-scrollbar{display:none}.playercountselector.svelte-bs25u>p.svelte-bs25u{height:33%;text-align:center;font-size:300%;background-color:rgb(34, 26, 59);border:solid #000;border-width:1px}.playercountselector.svelte-bs25u>input.svelte-bs25u{height:33%;text-align:center;width:100%;font-size:300%;background-color:rgb(34, 26, 59);border:solid #000;border-width:1px;color:rgb(49, 158, 177);padding:0px;margin:0px}.passtoplayer.svelte-bs25u.svelte-bs25u{height:80%;width:100%;top:10%;border:solid #000;border-width:1px;text-align:center;font-size:300%;color:white;background-color:rgb(34, 26, 59)}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYWZiMmY2NjguY3NzIiwic291cmNlcyI6WyIuLi8uLi8uLi9UZWNoLnN2ZWx0ZSIsIi4uLy4uLy4uL0NhcmQuc3ZlbHRlIiwiLi4vLi4vLi4vQXBwLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8c2NyaXB0PiBcclxuaW1wb3J0IEljb25CYXIgZnJvbSAnLi4vY29tcG9uZW50cy9JY29uQmFyLnN2ZWx0ZSc7XHJcbmltcG9ydCBJY29uIGZyb20gJy4uL2NvbXBvbmVudHMvSWNvbi5zdmVsdGUnO1xyXG5pbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcclxuY29uc3QgZGVzYyA9IHtcclxuICAgIFwiIFwiOntcImRlc2NcIjp7XHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIixcclxuICAgICAgICBcImFjdGlvblwiOlwiXCJ9fSxcclxuICAgIFwic3VydmV5XCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJyb2xlXCI6XCJMb29rIGF0IDxpY29uPnN1cnZleTxpY29uPiAtMSBwbGFuZXQgY2FyZHMsIGtlZXAgMSBcXG4gTGVhZGVyOiBMb29rIGF0IDEgYWRkaXRpb25hbCBjYXJkXCIsXHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkRyYXcgMyBjYXJkc1wifX0sXHJcbiAgICBcIndhcmZhcmVcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcInJvbGVcIjpcIkNvbGxlY3QgMSBmaWdodGVyIHBlciA8aWNvbj53YXJmYXJlPGljb24+IFxcbiBMZWFkZXI6IE1heSBhdHRhY2sgMSBwbGFuZXQgaW5zdGVhZFwiLFxyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJBdHRhY2sgMSBwbGFuZXQgT1IgY29sbGVjdCAxIGZpZ2h0ZXJcIn19LFxyXG4gICAgXCJjb2xvbml6ZVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJTZXR0bGUgMSBwbGFuZXQgT1IgKzEgY29sb255XCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCIrMSBjb2xvbnkgcGVyIDxpY29uPmNvbG9uaXplPGljb24+IFxcbiBMZWFkZXI6IE1heSBzZXR0bGUgMSBwbGFuZXQgaW5zdGVhZFwifX0sXHJcbiAgICBcInByb2R1Y2V0cmFkZVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJQcm9kdWNlIDEgcmVzb3VyY2UgT1IgVHJhZGUgMSByZXNvdXJjZVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiUHJvZHVjZSAxIHJlc291cmNlIHBlciA8aWNvbj5wcm9kdWNlPGljb24+IE9SIFRyYWRlIDEgcmVzb3VyY2UgcGVyIDxpY29uPnRyYWRlPGljb24+IFxcbiBMZWFkZXI6ICs8aWNvbj5wcm9kdWNlPGljb24+IE9SIDxpY29uPnRyYWRlPGljb24+XCJ9fSxcclxuICAgIFwicmVzZWFyY2hcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiUmVtb3ZlIHVwIHRvIDMgY2FyZHMgaW4geW91ciBhbmQgZnJvbSB0aGUgZ2FtZVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiQXVpcmUgMSB0ZWNobm9sb2d5IGNhcmQgYWZ0ZXIgc2F0aXNmeWluZyA8aWNvbj5yZXNlYXJjaDxpY29uPiBjb3N0cyBhbmQgcGxhbmV0IHJlcXVpcmVtZW50cyBcXG4gTGVhZGVyOiArPGljb24+cmVzZWFyY2g8aWNvbj5cIn19LFxyXG4gICAgXCJwb2xpdGljc1wiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJSZW1vdmUgdGlzIGNhcmQgZnJvbSB0aGUgZ2FtZS4gUGxhY2UgYW55IDEgcm9sZSBjYXJkIGZyb20gdGhlIHN0YWNrcyBpbnRvIHlvdXIgaGFuZFwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiaW1wcm92ZWRfdHJhZGVcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiQ29sbGVjdCAxIGluZmx1ZW5jZSBmcm9tIHRoZSBzdXBwbHlcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImltcHJvdmVkX3Jlc2VhcmNoXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkRyYXcgMSBjYXJkLiBSZW1vdmUgdXAgdG8gMyBjYXJkcyBpbiB5b3VyIGhhbmQgZnJvbSB0aGUgZ2FtZVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiaW1wcm92ZWRfcHJvZHVjdGlvblwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJQcm9kdWNlIDIgcmVzb3VyY2VzXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJpbXByb3ZlZF93YXJmYXJlXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkNvbGxlY3QgMiBmaWdodGVyIE9SIEF0dGFjayAxIHBsYW5ldFwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiaW1wcm92ZWRfY29sb25pemVcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiU2V0dGxlIDEgcGxhbmV0IChvcHRpb25hbCkuIFxcbiBTZXR0bGUgYW5vdGhlciBwbGFuZXQgT1IgKzEgY29sb255XCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJpbXByb3ZlZF9zdXJ2ZXlcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiRHJhdyAzIGNhcmRzXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJzdXJ2ZXlfdGVhbVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJUYWtlIHRoZSB0b3AgY2FyZCBvZiB0aGUgcGxhbmV0IGRlY2sgYW5kIHB1dCBpdCBmYWNlIGRvd24gaW50byB5b3VyIGVtcGlyZVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwid2FyX3BhdGhcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiQXR0YWNrIHVwIHRvIDIgcGxhbmV0c1wiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwidGVycmFmb3JtaW5nXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkFkZCB0aGlzIGNhcmQgdG8gYSBwbGFuZXQgYXMgMiBjb2xvbmllcy4gSWYgdGhhdCBmdWxmaWxscyB0aGUgcHJpbnRlZCBjb2xvbml6ZSBjb3N0LCBzZXR0bGUgdGhlIHBsYW5ldCBcXG4gKGlnbm9yZSBjb2xvbml6ZSBjb3N0IGRpc2NvdW50cylcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImdlbmV0aWNfZW5naW5lZXJpbmdcIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiQ29sbGVjdCArMSBpbmZsdWVuY2UgZm9yIGVhY2ggVFlQRSBvZiByZXNvdXJjZSB5b3UgcHJvZHVjZSB0aGlzIHR1cm5cIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImFydGlmaWNpYWxfaW50ZWxsaWdlbmNlJ1wiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJQbGFjZSBhbnkgMiByb2xlIGNhcmRzIGZyb20gdGhlIHN0YWNrcyBpbnRvIHlvdXIgaGFuZFwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiZGl2ZXJzZV9tYXJrZXRzXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkNvbGxlY3QgKzEgaW5mbHVlbmNlIGZvciBlYWNoIFRZUEUgb2YgcmVzb3VyY2UgeW91IHRyYWRlIHRoaXMgdHVyblwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwic3BlY2lhbGl6YXRpb25cIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiQ2hvb3NlIDEgcmVzb3VyY2UgVFlQRS4gQ29sbGVjdCArMSBpbmZsdWVuY2UgZm9yIGVhY2ggcmVzb3VyY2Ugb2YgdGhhdCBUWVBFIHlvdSB0cmFkZSB0aGlzIHR1cm5cIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcIm1vYmlsaXphdGlvblwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJDb2xsZWN0IDIgZmlnaHRlci4gWW91IG1heSBhdHRhY2sgMSBwbGFuZXQgYWZ0ZXIgeW91ciByb2xlIHBoYXNlIHRoaXMgdHVyblwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiZGF0YV9uZXR3b3JrXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIkRyYXcgMiBjYXJkcy4gUmVtb3ZlIGFueSBudW1iZXIgb2YgY2FyZHMgaW4geW91ciBoYW5kIGZyb20gdGhlIGdhbWVcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImFidW5kYW5jZVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJQbGFuZXRzIHlvdSBzZXR0bGUgb3IgYXR0YWNrIGNvbWUgaW50byBwbGF5IHdpdGggYWxsIHJlc291cmNlIHNsb3RzIGZpbGxlZFwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiYWRhcHRhYmlsaXR5XCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIllvdXIgc3RhbmRhcmQgcmVzZWFyY2ggcm9sZSBjYXJkcyBnYWluIGFsbCBzeW1ib2xlcy4gVGhleSBjYW4gYmUgdXNlZCB0byBib29zdCBvciBmb2xsb3cgYW55IHJvbGVcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImJ1cmVhdWNyYWN5XCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIllvdSBtYXkgdXNlIHRoZSBsZWFkZXIgYm9udXMgd2hlbiBmb2xsb3dpbmcgdGhlIGNvbG9uaXplIG9yIHdhcmZhcmUgcm9sZXNcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcImRpc3NlbnNpb25cIjoge1wiZGVzY1wiOntcclxuICAgICAgICBcImFjdGlvblwiOlwiRHJhdyAxIGRkaXRpb25hbCBjYXJkIHdoZW4gZGlzc2VudGluZ1wiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiaHlwZXJlZmZpY2llbmN5XCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIllvdSBtYXkgcmVtb3ZlIGFueSBudW1iZXIgb2YgY2FyZHMgaW4geW91ciBoYW5kIGZvcm0gdGhlIGdhbWUgZWFjaCB0dXJuXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJpbXBlcmlhbGlzbVwiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCI8aWNvbj5zdXJ2ZXk8aWNvbj4gPGljb24+dHJhZGU8aWNvbj4gPGljb24+d2FyZmFyZTxpY29uPlwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwibG9naXN0aWNzXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlBsYXkgdGhlIGFjdGlvbiBhbmQgcm9sZSBwaGFzZXMgb2YgeW91ciB0dXJuIGluIGFueSBvcmRlclwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwicHJvZHVjdGl2aXR5XCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIllvdSBtYXkgcGxheSBhbiBhZGRpdGlvbmFsIGNhcmQgZm9yIGl0cyBhY3Rpb24gZWZmZWN0IGR1cmluZyB5b3VyIGFjdGlvbiBwaGFzZVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwic2NvcmNoZWRfZWFydGhfcG9saWN5XCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIi0yIHRvIG91ciB3YXJmYXJlIGNvc3RzLiBXaGVuIHlvdSBhdHRhY2sgYSBwbGFuZXQsIGxlYXZlIGEgZmlnaHQgb24gaXQuIHRoYXQgcGxhbmV0IGNhbm5vdCBzdG9yZSByZXNvdXJjZXNcIixcclxuICAgICAgICBcInJvbGVcIjpcIlwifX0sXHJcbiAgICBcInN0cmVhbWxpbmluZ1wiOiB7XCJkZXNjXCI6e1xyXG4gICAgICAgIFwiYWN0aW9uXCI6XCJZb3UgbWF5IHJlbW92ZSAxIGNhcmQgaW4geW91ciBoYW5kIGZyb20gdGhlIGdhbWUgZWFjaCB0dXJuXCIsXHJcbiAgICAgICAgXCJyb2xlXCI6XCJcIn19LFxyXG4gICAgXCJ3ZWFwb25zX2VtcG9yaXVtXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIllvdSBtYXkgdHJhZGUgZmlnaHRlcnMgYXMgaWYgdGhleSB3ZXJlIHJlc291cmNlcyAoZmlnaHRlciBpcyBub3QgYSByZXNvdXJjZSBUWVBFKVwiLFxyXG4gICAgICAgIFwicm9sZVwiOlwiXCJ9fSxcclxuICAgIFwiZmVydGlsZV9ncm91bmRzXCI6IHtcImRlc2NcIjp7XHJcbiAgICAgICAgXCJyb2xlXCI6XCI8aWNvbj5jb2xvbml6ZTxpY29uPiA8aWNvbj5wcm9kdWNlPGljb24+IDxpY29uPnJlc2VhcmNoPGljb24+XCIsXHJcbiAgICAgICAgXCJhY3Rpb25cIjpcIlwifX1cclxuICAgIH1cclxuICAgIGxldCBoYXNoQ29kZSA9IChzdHIsaT0wKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3N0cicsc3RyKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbGVuZ3RoJyxzdHIubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gKCBpID49IHN0ci5sZW5ndGggKSA/IDAgOiBcclxuICAgICAgICBoYXNoQ29kZShzdHIsaSsxKSArIFxyXG4gICAgICAgICgoc3RyLmNoYXJDb2RlQXQoaSkgPDwgNSkgLSBcclxuICAgICAgICBzdHIuY2hhckNvZGVBdChpKSk7XHJcbiAgICB9O1xyXG4gICAgbGV0IGludFRvQVJHQiA9IChpKSA9PiAge2xldCByZ2IgPSAoKChpPj4yNCkmMHhGRikudG9TdHJpbmcoMTYpICsgKChpPj4xNikmMHhGRikudG9TdHJpbmcoMTYpICsgKChpPj44KSYweEZGKS50b1N0cmluZygxNikgKyAoaSYweEZGKS50b1N0cmluZygxNikpOyByZ2IrPScwMDAwMDAnOyByZXR1cm4gcmdiLnN1YnN0cmluZygwLCA2KTt9O1xyXG4gICAgU3RyaW5nLnByb3RvdHlwZS50b0hleENvbG91ciA9ICgpID0+IGludFRvQVJHQihoYXNoQ29kZSh0aGlzKSk7XHJcbiAgICBleHBvcnQgbGV0IGNhcmQ9e25hbWU6XCIgXCJ9LCBzZWxlY3RhYmxlPWZhbHNlLCBtaW5pPWZhbHNlO1xyXG4gICAgbGV0IGNvbG9yLGJnLGxvZ29CZztcclxuICAgIG9uTW91bnQoKCk9PntcclxuICAgICAgICBjb25zb2xlLmxvZygnY2FyZCBuYW1lJyxjYXJkLm5hbWUpO1xyXG4gICAgICAgIGNvbG9yID0gJyMnICsgaW50VG9BUkdCKGhhc2hDb2RlKGNhcmQubmFtZSkpO1xyXG4gICAgICAgIGJnID0gYGNvbG9yOiR7Y29sb3J9O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KCByZ2IoODAsODAsODApLCAgcmdiKDgwLDgwLDgwKSA1dmgsICByZ2IoODAsODAsODApIDV2aCwgICR7Y29sb3J9IDh2aCwgICR7Y29sb3J9IDh2aCwgICR7Y29sb3J9IDEydmgsICAke2NvbG9yfSAxMnZoLCAgcmdiKDgwLDgwLDgwKSAxNnZoICk7YDtcclxuICAgICAgICBsb2dvQmcgPSBgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcn07YDtcclxuICAgIH0pXHJcblxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuXHRAaW1wb3J0IHVybChodHRwczovL3VucGtnLmNvbS9Ac211aS9jYXJkQGxhdGVzdC9iYXJlLmNzcyk7XHJcblx0Lm1kYy1jYXJkIHtcclxuXHRcdG92ZXJmbG93OmhpZGRlbjtcclxuXHRcdHBhZGRpbmc6MXZoO1xyXG5cdFx0bWluLWhlaWdodDogMzB2aDsgXHJcblx0XHRtaW4td2lkdGg6IDE5dmg7IFxyXG5cdFx0bWF4LWhlaWdodDogMzB2aDsgXHJcblx0XHRtYXgtd2lkdGg6IDE5dmg7IFxyXG5cdFx0bWFyZ2luLWxlZnQ6MXZoO1xyXG5cdFx0bWFyZ2luLXJpZ2h0OjF2aDtcclxuICAgIH1cclxuICAgIC5tZGMtY2FyZC5taW5pIHtcclxuXHRcdG1pbi1oZWlnaHQ6IDE2dmg7XHJcblx0XHRtYXgtaGVpZ2h0OiAxNnZoO1xyXG4gICAgfVxyXG5cdC50aXRsZSB7XHJcblx0XHRkaXNwbGF5OmZsZXg7XHJcblx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdFx0bWF4LWhlaWdodDogM3ZoO1xyXG5cdFx0bWluLWhlaWdodDogM3ZoO1xyXG5cdFx0Zm9udDogMnZoIGJvbGQ7XHJcblx0fVxyXG5cdC50aXRsZSBwIHtcclxuXHRcdG1hcmdpbi10b3A6IGF1dG87XHJcblx0XHRtYXJnaW4tYm90dG9tOiBhdXRvO1xyXG5cdFx0bWFyZ2luLWxlZnQ6MXZoO1xyXG5cdH1cclxuXHQubG9nbyB7XHJcblx0XHRoZWlnaHQ6MTJ2aDtcclxuXHRcdHdpZHRoOjEydmg7XHJcblx0XHRtYXJnaW4tbGVmdDozdmg7XHJcblx0XHRib3JkZXItcmFkaXVzOiAxMHZoIDB2aCAxMHZoIDB2aDtcclxuXHRcdGJvcmRlcjogLjI1dmggc29saWQgYmxhY2s7XHJcblx0XHR0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtcclxuXHR9XHJcblx0LmxvZ28gaW1ne1xyXG5cdFx0bWFyZ2luLWxlZnQ6Mi4yNXZoO1xyXG5cdFx0bWFyZ2luLXRvcDoydmg7XHJcblx0XHRoZWlnaHQ6Ny41dmg7XHJcblx0XHR3aWR0aDo3LjV2aDtcclxuXHRcdHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XHJcblx0XHRvdmVyZmxvdzpoaWRkZW47XHJcblx0fVxyXG5cdC5kZXNjIHtcclxuXHRcdHBvc2l0aW9uOnJlbGF0aXZlO1xyXG5cdFx0Zm9udDogMXZoIGJvbGQ7XHJcblx0XHRsaW5lLWhlaWdodCA6IDEuMjtcclxuXHR9XHJcblx0LmFjdGlvbiB7XHJcblx0XHRwb3NpdGlvbjpyZWxhdGl2ZTtcclxuXHRcdGJvcmRlcjogMC4wNXZoIHNvbGlkIGJsYWNrO1xyXG5cdFx0cGFkZGluZzogMC41dmg7XHJcblx0fVxyXG5cdC5hY3Rpb246YWZ0ZXIge1xyXG5cdFx0cG9zaXRpb246YWJzb2x1dGU7XHJcblx0XHRiYWNrZ3JvdW5kOiByZ2IoODAsODAsODApO1xyXG5cdFx0aGVpZ2h0OjF2aDtcclxuXHRcdGxlZnQ6LjV2aDtcclxuXHRcdHRvcDotLjV2aDtcclxuXHR9XHJcblx0LmFjdGlvbjphZnRlciB7XHJcblx0XHRjb250ZW50OidBY3Rpb24nO1xyXG5cdH1cclxuPC9zdHlsZT5cclxuPGRpdiBjbGFzcz1cIm1kYy1jYXJkIHsoc2VsZWN0YWJsZSkgPyAoY2FyZC5zZWxlY3RlZCkgPyAnc2VsZWN0ZWQnIDogJ3NlbGVjdGFibGUnIDogJ2JvcmRlcmVkJ30geyhtaW5pKSA/ICdtaW5pJyA6ICcnIH1cIiBzdHlsZT17Ymd9IG9uOmNsaWNrIG9uOnRvdWNoIG9uOnRvdWNoc3RhcnQgb246dG91Y2hlbmQgb246dGFwIG9uOnRvdWNobW92ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPlxyXG4gICAgICAgIDxJY29uQmFyIHsuLi5jYXJkLmljb25zfS8+XHJcbiAgICAgICAgPHA+e2NhcmQubmFtZX08L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJsb2dvXCIgc3R5bGUgPXtsb2dvQmd9PlxyXG4gICAgICAgIDxpbWcgc3JjPVwiLi9pbWFnZXMvdGVjaC5zdmdcIiBhbHQ9XCJ7Y2FyZC5uYW1lfVwiPlxyXG4gICAgPC9kaXY+XHJcbiAgICB7I2lmICFtaW5pfVxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjXCI+XHJcbiAgICAgICAgeyNpZiBkZXNjW2NhcmQudHlwZV0gIT09IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgPHAgY2xhc3M9XCJhY3Rpb25cIj5cclxuICAgICAgICAgICAgICAgIHsjZWFjaCBkZXNjW2NhcmQudHlwZV0uZGVzYy5hY3Rpb24uc3BsaXQoJzxpY29uPicpIGFzIHBpZWNlfVxyXG4gICAgICAgICAgICAgICAgICAgIHsjaWYgWydzdXJ2ZXknLCd3YXJmYXJlJywnY29sb25pemUnLCdyZXNlYXJjaCcsJ3Byb2R1Y2UnLCd0cmFkZSddLmluY2x1ZGVzKHBpZWNlKX0gPEljb24gdHlwZT17cGllY2V9IHNpemU9J3NtJy8+IFxyXG4gICAgICAgICAgICAgICAgICAgIHs6ZWxzZX0ge3BpZWNlfVxyXG4gICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICB7L2lmfVxyXG4gICAgICAgIDwhLS0gPGRpdiBjbGFzcz0ncmVzLWNvc3QnPlxyXG4gICAgICAgICAgICAgICAgPHA+PC9wPlxyXG4gICAgICAgICAgICAgICAgPEljb24vPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ncGxhbi1yZXEnPlxyXG4gICAgICAgICAgICAgICAgPEljb24vPlxyXG4gICAgICAgICAgICA8L2Rpdj4gLS0+XHJcbiAgICAgICAgPC9kaXY+IFxyXG4gICAgey9pZn1cclxuPC9kaXY+IiwiPHNjcmlwdD5cblx0aW1wb3J0IEljb24gZnJvbSAnLi4vY29tcG9uZW50cy9JY29uLnN2ZWx0ZSdcblx0aW1wb3J0IFRlY2ggZnJvbSAnLi4vY29tcG9uZW50cy9UZWNoLnN2ZWx0ZSdcbiAgICBleHBvcnQgbGV0IGNhcmQsIHNlbGVjdGFibGUgPSBmYWxzZSwgcGlsZWNvdW50ID0nJywgbWluaSA9IGZhbHNlO1xuICAgIGxldCBsYWJlbCA9IGNhcmQudHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhcmQudHlwZS5zbGljZSgxKSxcbiAgICAgICAga2V5ID0ge3Byb2R1Y2V0cmFkZTpmYWxzZSxwcm9kdWNlOidwcm8nLHRyYWRlOid0cmQnLHJlc2VhcmNoOidyZXMnLHBvbGl0aWNzOidwb2wnLHN1cnZleTonc3VyJyx3YXJmYXJlOid3YXInLGNvbG9uaXplOidjb2wnfVtjYXJkLnR5cGVdLFxuICAgICAgICBiZyA9ICgha2V5KSA/IGBjb2xvcjp2YXIoLS1wcm8tY29sb3IpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KCByZ2IoODAsODAsODApLCAgcmdiKDgwLDgwLDgwKSA1dmgsICByZ2IoODAsODAsODApIDV2aCwgIHZhcigtLXByby1jb2xvcikgOHZoLCAgdmFyKC0tcHJvLWNvbG9yKSA4dmgsICB2YXIoLS10cmQtY29sb3IpIDEydmgsICB2YXIoLS10cmQtY29sb3IpIDEydmgsICByZ2IoODAsODAsODApIDE2dmggKTtgXG4gICAgICAgICAgICAgICAgICAgIDogYGNvbG9yOnZhcigtLSR7a2V5fS1jb2xvcik7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIHJnYig4MCw4MCw4MCksICByZ2IoODAsODAsODApIDV2aCwgIHJnYig4MCw4MCw4MCkgNXZoLCAgdmFyKC0tJHtrZXl9LWNvbG9yKSA4dmgsICB2YXIoLS0ke2tleX0tY29sb3IpIDh2aCwgIHZhcigtLSR7a2V5fS1jb2xvcikgMTJ2aCwgIHZhcigtLSR7a2V5fS1jb2xvcikgMTJ2aCwgIHJnYig4MCw4MCw4MCkgMTZ2aCApO2AsXG4gICAgICAgIGxvZ29CZyA9ICgha2V5KSA/IGBiYWNrZ3JvdW5kOiB2YXIoLS1wcm8tdHJkLWNscik7YCA6IGBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS0ke2tleX0tY29sb3IpO2A7XG4gIFxuXHRsZXQgZGVzYyA9IHtcblx0XHRcInN1cnZleVwiOiB7XCJkZXNjXCI6e1xuXHRcdFx0XCJyb2xlXCI6XCJMb29rIGF0IDxpY29uPnN1cnZleTxpY29uPiAtMSBwbGFuZXQgY2FyZHMsIGtlZXAgMSBcXG4gTGVhZGVyOiBMb29rIGF0IDEgYWRkaXRpb25hbCBjYXJkXCIsXG5cdFx0XHRcImFjdGlvblwiOlwiRHJhdyAzIGNhcmRzXCJ9fSxcblx0XHRcIndhcmZhcmVcIjoge1wiZGVzY1wiOntcblx0XHRcdFwicm9sZVwiOlwiQ29sbGVjdCAxIGZpZ2h0ZXIgcGVyIDxpY29uPndhcmZhcmU8aWNvbj4gXFxuIExlYWRlcjogTWF5IGF0dGFjayAxIHBsYW5ldCBpbnN0ZWFkXCIsXG5cdFx0XHRcImFjdGlvblwiOlwiQXR0YWNrIDEgcGxhbmV0IE9SIGNvbGxlY3QgMSBmaWdodGVyXCJ9fSxcblx0XHRcImNvbG9uaXplXCI6IHtcImRlc2NcIjp7XG5cdFx0XHRcImFjdGlvblwiOlwiU2V0dGxlIDEgcGxhbmV0IE9SICsxIGNvbG9ueVwiLFxuXHRcdFx0XCJyb2xlXCI6XCIrMSBjb2xvbnkgcGVyIDxpY29uPmNvbG9uaXplPGljb24+IFxcbiBMZWFkZXI6IE1heSBzZXR0bGUgMSBwbGFuZXQgaW5zdGVhZFwifX0sXG5cdFx0XCJwcm9kdWNldHJhZGVcIjoge1wiZGVzY1wiOntcblx0XHRcdFwiYWN0aW9uXCI6XCJQcm9kdWNlIDEgcmVzb3VyY2UgT1IgVHJhZGUgMSByZXNvdXJjZVwiLFxuXHRcdFx0XCJyb2xlXCI6XCJQcm9kdWNlIDEgcmVzb3VyY2UgcGVyIDxpY29uPnByb2R1Y2U8aWNvbj4gT1IgVHJhZGUgMSByZXNvdXJjZSBwZXIgPGljb24+dHJhZGU8aWNvbj4gXFxuIExlYWRlcjogKzxpY29uPnByb2R1Y2U8aWNvbj4gT1IgPGljb24+dHJhZGU8aWNvbj5cIn19LFxuXHRcdFwicmVzZWFyY2hcIjoge1wiZGVzY1wiOntcblx0XHRcdFwiYWN0aW9uXCI6XCJSZW1vdmUgdXAgdG8gMyBjYXJkcyBpbiB5b3VyIGFuZCBmcm9tIHRoZSBnYW1lXCIsXG5cdFx0XHRcInJvbGVcIjpcIkFxdWlyZSAxIHRlY2hub2xvZ3kgY2FyZCBhZnRlciBzYXRpc2Z5aW5nIDxpY29uPnJlc2VhcmNoPGljb24+IGNvc3RzIGFuZCBwbGFuZXQgcmVxdWlyZW1lbnRzIFxcbiBMZWFkZXI6ICs8aWNvbj5yZXNlYXJjaDxpY29uPlwifX0sXG5cdFx0XCJwb2xpdGljc1wiOiB7XCJkZXNjXCI6e1xuXHRcdFx0XCJhY3Rpb25cIjpcIlJlbW92ZSB0aXMgY2FyZCBmcm9tIHRoZSBnYW1lLiBQbGFjZSBhbnkgMSByb2xlIGNhcmQgZnJvbSB0aGUgc3RhY2tzIGludG8geW91ciBoYW5kXCIsXG5cdFx0XHRcInJvbGVcIjpcIlwifX0sXG5cdFx0fVxuPC9zY3JpcHQ+XG48c3R5bGU+XG5cdEBpbXBvcnQgdXJsKGh0dHBzOi8vdW5wa2cuY29tL0BzbXVpL2NhcmRAbGF0ZXN0L2JhcmUuY3NzKTtcblx0OnJvb3Qge1xuXHRcdC0tcHJvLWNvbG9yOnJnYigyNTUsIDI1NSwgMTE5KTtcblx0XHQtLWNvbC1jb2xvcjpyZ2IoMjU1LCAxODQsIDEwMik7XG5cdFx0LS10cmQtY29sb3I6cmdiKDI1NSwgMTY5LCAyNDEpO1xuXHRcdC0tcG9sLWNvbG9yOnJnYigyMDksIDE4NiwgMTQzKTtcblx0XHQtLXJlcy1jb2xvcjpyZ2IoMTE5LCAxODMsIDI1NSk7XG5cdFx0LS13YXItY29sb3I6cmdiKDI1NSwgOTgsIDk4KTtcblx0XHQtLXN1ci1jb2xvcjpyZ2IoMTQzLCAyNTUsIDE0Myk7XG5cdFx0LS1wcm8tdHJkLWNscjpsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHZhcigtLXByby1jb2xvciksIHZhcigtLXByby1jb2xvcikgNTAlLCB2YXIoLS10cmQtY29sb3IpIDUwJSwgdmFyKC0tdHJkLWNvbG9yKSAxMDAlKTtcbiAgICB9XG5cdC5tZGMtY2FyZCB7XG5cdFx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRcdG92ZXJmbG93OmhpZGRlbjtcblx0XHRwYWRkaW5nOjF2aDtcblx0XHRoZWlnaHQ6IDMwdmg7IFxuXHRcdHdpZHRoOiAyMXZoOyBcblx0XHRtYXJnaW4tbGVmdDoxdmg7XG5cdFx0bWFyZ2luLXJpZ2h0OjF2aDtcbiAgICB9XG4gICAgLm1kYy1jYXJkLm1pbmkge1xuXHRcdG1pbi1oZWlnaHQ6IDE2dmg7XG5cdFx0bWF4LWhlaWdodDogMTZ2aDtcbiAgICB9XG4gICAgLmxvZ28gZGl2IHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKSBzY2FsZSgxLjcpO1xuICAgICAgICBtYXJnaW4tdG9wOiAyLjl2aDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDIuOHZoO1xuICAgIH1cblx0LnRpdGxlIHtcblx0XHRkaXNwbGF5OmZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcblx0XHRtYXgtaGVpZ2h0OiAzdmg7XG5cdFx0bWluLWhlaWdodDogM3ZoO1xuXHRcdG92ZXJmbG93OmhpZGRlbjtcblx0XHRmb250OiAydmggYm9sZDtcblx0fVxuXHQudGl0bGUgcCB7XG5cdFx0bWFyZ2luLXRvcDogYXV0bztcblx0XHRtYXJnaW4tYm90dG9tOiBhdXRvO1xuXHRcdG1hcmdpbi1sZWZ0OjF2aDtcblx0fVxuXHQubG9nbyB7XG5cdFx0aGVpZ2h0OjEydmg7XG5cdFx0d2lkdGg6MTJ2aDtcblx0XHRtYXJnaW4tbGVmdDozdmg7XG5cdFx0Ym9yZGVyLXJhZGl1czogMTB2aCAwdmggMTB2aCAwdmg7XG5cdFx0Ym9yZGVyOiAuMjV2aCBzb2xpZCBibGFjaztcblx0XHR0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtcblx0fVxuXHQubG9nbyBpbWd7XG5cdFx0bWFyZ2luLWxlZnQ6Mi4yNXZoO1xuXHRcdG1hcmdpbi10b3A6MnZoO1xuXHRcdGhlaWdodDo3LjV2aDtcblx0XHR3aWR0aDo3LjV2aDtcblx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xuXHRcdG92ZXJmbG93OmhpZGRlbjtcblx0fVxuXHQuZGVzYyB7XG5cdFx0cG9zaXRpb246cmVsYXRpdmU7XG5cdFx0Zm9udDogMXZoIGJvbGQ7XG5cdFx0bGluZS1oZWlnaHQgOiAxLjI7XG5cdH1cblx0LnJvbGUsIC5hY3Rpb24ge1xuXHRcdHBvc2l0aW9uOnJlbGF0aXZlO1xuXHRcdGJvcmRlcjogMC4wNXZoIHNvbGlkIGJsYWNrO1xuXHRcdHBhZGRpbmc6IDAuNXZoO1xuXHR9XG5cdC5yb2xlOmFmdGVyLCAuYWN0aW9uOmFmdGVyIHtcblx0XHRwb3NpdGlvbjphYnNvbHV0ZTtcblx0XHRiYWNrZ3JvdW5kOiByZ2IoODAsODAsODApO1xuXHRcdGhlaWdodDoxdmg7XG5cdFx0bGVmdDouNXZoO1xuXHRcdHRvcDotLjV2aDtcblx0fVxuXHQucm9sZTphZnRlciB7XG5cdFx0Y29udGVudDonUm9sZSc7XG5cdH1cblx0LmFjdGlvbjphZnRlciB7XG5cdFx0Y29udGVudDonQWN0aW9uJztcblx0fVxuXHQucGlsZWNvdW50e1xuXHRcdHBvc2l0aW9uOmFic29sdXRlO1xuXHRcdGxlZnQ6NSU7XG5cdFx0Ym90dG9tOjMlO1xuXHR9XG48L3N0eWxlPlxueyNpZiAhWydzdXJ2ZXknLCd3YXJmYXJlJywnY29sb25pemUnLCdyZXNlYXJjaCcsJ3Byb2R1Y2V0cmFkZScsJ3BvbGl0aWNzJ10uaW5jbHVkZXMoY2FyZC50eXBlKX0gXG5cdDxUZWNoIHtjYXJkfSB7c2VsZWN0YWJsZX0ge21pbml9Lz5cbns6ZWxzZX1cblx0PGRpdiBjbGFzcz1cIm1kYy1jYXJkIHsoc2VsZWN0YWJsZSkgPyAoY2FyZC5zZWxlY3RlZCkgPyAnc2VsZWN0ZWQnIDogJ3NlbGVjdGFibGUnIDogJ2JvcmRlcmVkJ30geyhtaW5pKSA/ICdtaW5pJyA6ICcnIH1cIiBzdHlsZT17Ymd9IG9uOmNsaWNrIG9uOnRvdWNoIG9uOnRvdWNoc3RhcnQgb246dG91Y2hlbmQgb246dGFwIG9uOnRvdWNobW92ZT5cblx0XHQ8ZGl2IGNsYXNzPVwidGl0bGVcIj5cblx0XHR7I2lmICgha2V5KX0gXG5cdFx0XHQ8SWNvbiB0eXBlPSdwcm9kdWNlJyBzaXplPSdzbScvPlxuXHRcdFx0PEljb24gdHlwZT0ndHJhZGUnIHNpemU9J3NtJy8+XG5cdFx0ezplbHNlfVxuXHRcdFx0PEljb24gdHlwZT17Y2FyZC50eXBlfSBzaXplPSdzbScvPlxuXHRcdHsvaWZ9XG5cdFx0PHA+e2xhYmVsfTwvcD5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwibG9nb1wiIHN0eWxlID17bG9nb0JnfT5cblx0XHR7I2lmICgha2V5KX0gXG5cdFx0XHQ8ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93Oyc+XG5cdFx0XHRcdDxJY29uIHR5cGU9J3Byb2R1Y2UnIHNpemU9J3NtJy8+XG5cdFx0XHRcdDxJY29uIHR5cGU9J3RyYWRlJyBzaXplPSdzbScvPlxuXHRcdFx0PC9kaXY+XG5cdFx0ezplbHNlfVxuXHRcdFx0PGltZyBzcmM9XCIuL2ltYWdlcy97a2V5fS5zdmdcIiBhbHQ9XCJ7a2V5fVwiPlxuXHRcdHsvaWZ9XG5cdFx0PC9kaXY+XG5cdFx0XG5cdFx0eyNpZiAhbWluaX1cblx0XHRcdDxkaXYgY2xhc3M9XCJkZXNjXCI+XG5cdFx0XHRcdHsjaWYgZGVzY1tjYXJkLnR5cGVdICE9PSB1bmRlZmluZWR9XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJhY3Rpb25cIj5cblx0XHRcdFx0XHRcdHsjZWFjaCBkZXNjW2NhcmQudHlwZV0uZGVzYy5hY3Rpb24uc3BsaXQoJzxpY29uPicpIGFzIHBpZWNlfVxuXHRcdFx0XHRcdFx0XHR7I2lmIFsnc3VydmV5Jywnd2FyZmFyZScsJ2NvbG9uaXplJywncmVzZWFyY2gnLCdwcm9kdWNlJywndHJhZGUnLCdwb2xpdGljcyddLmluY2x1ZGVzKHBpZWNlKX0gPEljb24gdHlwZT17cGllY2V9IHNpemU9J3NtJy8+IFxuXHRcdFx0XHRcdFx0XHR7OmVsc2V9IHtwaWVjZX1cblx0XHRcdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0XHRcdHsvZWFjaH1cblx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJyb2xlXCI+XG5cdFx0XHRcdFx0XHR7I2VhY2ggZGVzY1tjYXJkLnR5cGVdLmRlc2Mucm9sZS5zcGxpdCgnPGljb24+JykgYXMgcGllY2V9XG5cdFx0XHRcdFx0XHRcdHsjaWYgWydzdXJ2ZXknLCd3YXJmYXJlJywnY29sb25pemUnLCdyZXNlYXJjaCcsJ3Byb2R1Y2UnLCd0cmFkZScsJ3BvbGl0aWNzJ10uaW5jbHVkZXMocGllY2UpfSA8SWNvbiB0eXBlPXtwaWVjZX0gc2l6ZT0nc20nLz4gXG5cdFx0XHRcdFx0XHRcdHs6ZWxzZX0ge3BpZWNlfVxuXHRcdFx0XHRcdFx0XHR7L2lmfVxuXHRcdFx0XHRcdFx0ey9lYWNofVxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0ey9pZn1cblx0XHRcdDwvZGl2PlxuXHRcdFx0PGRpdiBjbGFzcz0ncGlsZWNvdW50Jz57cGlsZWNvdW50fSByZW1haW5pbmc8L2Rpdj5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cbnsvaWZ9IiwiPHNjcmlwdD5cclxuXHRpbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuc3ZlbHRlJztcclxuXHRpbXBvcnQgVGVjaCBmcm9tICcuLi9jb21wb25lbnRzL1RlY2guc3ZlbHRlJztcclxuXHRpbXBvcnQgUGxhbmV0Q2FyZCBmcm9tICcuLi9jb21wb25lbnRzL1BsYW5ldENhcmQuc3ZlbHRlJztcclxuXHJcblx0bGV0IGdhbWUsIGxvYmJ5LCBwaGFzZXMsIGNvcmVwaGFzZXMsIGFjdGlvbmNhcmRwaGFzZXMsIG1vdW50ZWQgPSBmYWxzZSwgd3MsXHJcblx0anN0ciA9IEpTT04uc3RyaW5naWZ5LCBqcHJzID0gSlNPTi5wYXJzZSwgbG9nID0gY29uc29sZS5sb2c7XHJcblx0aW1wb3J0IHsgb25Nb3VudCxhZnRlclVwZGF0ZSwgYmVmb3JlVXBkYXRlIH0gZnJvbSAnc3ZlbHRlJztcclxuXHRiZWZvcmVVcGRhdGUoKCk9PntcclxuXHR9KVxyXG5cdGFmdGVyVXBkYXRlKCgpPT57XHJcblx0XHRjb25zb2xlLmxvZyhnZXRBY3RQbHlyKCkpO1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJ2hhbmQnLGdhbWUucGxheWVyc1swXS5oYW5kLnJlZHVjZSgoYWNjLGN1cikgPT4gYWNjK2N1ci5uYW1lLCcnKSk7XHJcblx0XHQvLyBsZXQgY2FyZCA9IGdhbWUucGxheWVyc1swXS5oYW5kWzBdO1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJ3JlbW92aW5nICcsY2FyZC5uYW1lKTtcclxuXHRcdC8vIGhhbmRUb0xpbWJvKGdhbWUucGxheWVyc1swXSxjYXJkKTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKCdoYW5kJyxnYW1lLnBsYXllcnNbMF0uaGFuZC5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYytjdXIubmFtZSwnJykpO1xyXG5cdH0pXHJcblx0b25Nb3VudCgoKT0+e1xyXG5cdFx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHRcdGNvcmVwaGFzZXMgPSBbXHJcblx0XHRcdC8qY29sb25pemU6Ki8ge1xyXG5cdFx0XHRcdGFjdG46W1xyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiQ2hvb3NlIGJldHdlZW4gU2V0dGxpbmcgb3IgQ29sb25pemluZyBhIFBsYW5ldFwiLCBbXCJjb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0d3JhcHBlZE9mZmVyKFtcIkNvbG9uaXplXCIsXCJTZXR0bGUgQ29sb25paWVzXCJdKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJDaG9vc2UgYW4gVW5zZXR0bGVkIFBsYW5ldCB0byBTZXR0bGVcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKGZhbHNlLGZhbHNlLFtcInVuc2V0dGxlZF9wbGFuZXRzXCJdLFwic3ViY2hvaWNlc1wiLGZpbmlzaCksXHJcblx0XHRcdFx0XHRcdFtcIlNldHRsZSBDb2xvbmllc1wiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJTZXR0bGluZyB5b3VyIFBsYW5ldFwiLCBbXCJjb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gc2V0dGxlX2NvbG9uaWVzKGdldFN1YkNob2ljZSgpLGdldEFjdFBseXIoKSksXHJcblx0XHRcdFx0XHRcdFtcIlNldHRsZSBDb2xvbmllc1wiXVxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIkNob29zZSBhbiBVbnNldHRsZWQgUGxhbmV0IHRvIENvbG9uaXplXCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlcihmYWxzZSxmYWxzZSxbXCJ1bnNldHRsZWRfcGxhbmV0c1wiXSxcInN1YmNob2ljZXNcIixmaW5pc2gpLFxyXG5cdFx0XHRcdFx0XHRbXCJDb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJDb2xvbml6aW5nIHlvdXIgUGxhbmV0XCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7IGNvbG9uaXplKGdldFN1YkNob2ljZSgpLGdldEFjdFBseXIoKS5saW1ibyxnZXRBY3RQbHlyKCkubGltYm8uZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJjb2xvbml6ZVwiKVswXSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdFx0XHRbXCJDb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRsZWFkOltcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDaG9vc2UgYmV0d2VlbiBTZXR0bGluZyBvciBDb2xvbml6aW5nIGEgUGxhbmV0XCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHR3cmFwcGVkT2ZmZXIoW1wiQ29sb25pemVcIixcIlNldHRsZSBDb2xvbmllc1wiXSksXHJcblx0XHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gU2V0dGxlXCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFx0XHRbXCJTZXR0bGUgQ29sb25pZXNcIl0sXHJcblx0XHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiU2V0dGxpbmcgeW91ciBQbGFuZXRcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtzZXR0bGVfY29sb25pZXMoZ2V0U3ViQ2hvaWNlKCksIGdldEFjdFBseXIoKSApOyBmaW5pc2goKTsgfSxcclxuXHRcdFx0XHRcdFx0W1wiU2V0dGxlIENvbG9uaWVzXCJdLFxyXG5cdFx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIkNob29zZSBhbiBVbnNldHRsZWQgUGxhbmV0IHRvIENvbG9uaXplXCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFx0XHRbXCJDb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDb2xvbml6aW5nIHlvdXIgUGxhbmV0XCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGdldFN1YkNob2ljZSgpLm5hbWUgPT0gXCJTa2lwXCIpIGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBwbGFuZXQgPSBnZXRTdWJDaG9pY2UoKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAocGxhbmV0Lmhvc3RlZF9jb2xvbmllcy5yZWR1Y2UoIChhY2MsIGN1cikgPT4gYWNjICsgY3VyLmljb25zLmNvbG9uaXplLDApID49IHBsYW5ldC5zZXR0bGVfY29zdClcclxuXHRcdFx0XHRcdFx0XHRcdGNvbG9uaXplKCBwbGFuZXQsIGdldEFjdFBseXIoKS5saW1ibyxnZXRBY3RQbHlyKCkubGltYm8uZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJjb2xvbml6ZVwiKVswXSk7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRbXCJDb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGZsbHc6W1xyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiQ2hvb3NlIGJldHdlZW4gU2V0dGxpbmcgb3IgQ29sb25pemluZyBhIFBsYW5ldFwiLCBbXCJjb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmICgwID09IGdldEFjdFBseXIoKS5wZXJtYW5lbnRzLmZpbHRlcihlID0+IFwiYnVyZWF1Y3JhY3lcIiA9PSBlLnR5cGUpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Z2FtZS5jaG9pY2VzID0gW3tuYW1lOiBcIkNvbG9uaXplXCJ9XTtcclxuXHRcdFx0XHRcdFx0XHRcdGZpbmlzaCghMCk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHNpbXBsZU9mZmVyKFtcIkNvbG9uaXplXCIsXCJTZXR0bGUgQ29sb25pZXNcIl0pXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gU2V0dGxlXCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFx0XHRbXCJTZXR0bGUgQ29sb25pZXNcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiU2V0dGxpbmcgeW91ciBQbGFuZXRcIiwgW1wiY29sb25pemVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHsgc2V0dGxlX2NvbG9uaWVzKGdldFN1YkNob2ljZSgpLCBnZXRBY3RQbHlyKCkpOyBmaW5pc2goITApO30sXHJcblx0XHRcdFx0XHRcdFtcIlNldHRsZSBDb2xvbmllc1wiXSxcclxuXHRcdFx0XHRcdCksIFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gQ29sb25pemVcIiwgW1wiY29sb25pemVcIl0sIFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFx0XHRbXCJDb2xvbml6ZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJDb2xvbml6aW5nIHlvdXIgUGxhbmV0XCIsIFtcImNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHBsYW5ldCA9IGdldFN1YkNob2ljZXMoKS5maW5kKChwbGFuZXQpPT5wbGFuZXQuaG9zdGVkX2NvbG9uaWVzLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyArIGN1ci5pY29ucy5jb2xvbml6ZSApID49IHBsYW5ldC5zZXR0bGVfY29zdCk7XHJcblx0XHRcdFx0XHRcdFx0Y29sb25pemUoIHBsYW5ldCwgZ2V0QWN0UGx5cigpLmxpbWJvLGdldEFjdFBseXIoKS5saW1iby5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImNvbG9uaXplXCIpWzBdKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFtcIkNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsbnA6WyBdLCBcclxuXHRcdFx0fSxcclxuXHRcdFx0LyovcHJvZHVjZXRyYWRlOi8qLyB7XHJcblx0XHRcdFx0YWN0bjpbXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJDaG9vc2UgYmV0d2VlbiBQcm9kdWNpbmcgb3IgVHJhZGluZyBSZXNvdXJjZXNcIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHR3cmFwcGVkT2ZmZXIoW1wicHJvZHVjZVwiLFwidHJhZGVcIiBdKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJDaG9vc2UgYSBQbGFuZXQgdG8gUHJvZHVjZSBSZXNvdXJjZXMgb25cIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlciggZmFsc2UsIGZhbHNlICwgW1wic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCJdLCBcInN1YmNob2ljZXNcIiwgZmluaXNoICksXHJcblx0XHRcdFx0XHRcdFtcInByb2R1Y2VcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiUHJvZHVjaW5nIGEgUmVzb3VyY2VcIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7IHByb2R1Y2UoZ2V0U3ViQ2hvaWNlcygpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0XHRcdFtcInByb2R1Y2VcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiQ2hvb3NlIGEgUGxhbmV0IHRvIFRyYWRlIFJlc291cmNlcyBmcm9tXCIsIFtcInByb2R1Y2V0cmFkZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoIGZhbHNlLCBmYWxzZSwgW1wic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCJdLCBcInN1YmNob2ljZXNcIiwgZmluaXNoKSxcclxuXHRcdFx0XHRcdFx0W1widHJhZGVcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiVHJhZGluZyBhIFJlc291cmNlXCIsIFtcInByb2R1Y2V0cmFkZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge3RyYWRlKGdldFN1YkNob2ljZXMoKSxnZXRBY3RQbHlyKCkpOyBmaW5pc2goKTt9LFxyXG5cdFx0XHRcdFx0XHRbXCJ0cmFkZVwiXSxcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGxlYWQ6W1xyXG5cdFx0XHRcdFx0Z2VuTGVhZFBoYXNlKCBcIkNob29zZSBiZXR3ZWVuIFByb2R1Y2luZyBvciBUcmFkaW5nIFJlc291cmNlc1wiLCBbXCJwcm9kdWNldHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKCBmYWxzZSAsIGZhbHNlICwgW1wib3B0aW9uc1wiLFt7IG5hbWU6IFwicHJvZHVjZVwiIH0sIHsgbmFtZTogXCJ0cmFkZVwiIH1dXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCApLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDaG9vc2UgYSBQbGFuZXQgdG8gUHJvZHVjZSBSZXNvdXJjZXMgb25cIiwgW1wicHJvZHVjZXRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlciggdHJ1ZSAsIHRydWUgLCBbIFwic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCIgXSwgXCJzdWJjaG9pY2VzXCIsIGZpbmlzaCApLFxyXG5cdFx0XHRcdFx0XHRbXCJwcm9kdWNlXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJQcm9kdWNpbmcgYSBSZXNvdXJjZVwiLCBbXCJwcm9kdWNldHJhZGVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZSA9IFwicHJvZHVjZVwiO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBwcmQgPSBwcm9kdWNlKCBnZXRTdWJDaG9pY2VzKCksIGdldEFjdFBseXIoKS5ic3RJY29ucy5wcm9kdWNlICk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBnZXRBY3R2QWN0bigpID09IFwiZ2VuZXRpY19lbmdpbmVlcmluZ1wiICkgcHJkLmZvckVhY2goKHBseXIpPT5wbHlyID0gWy4uLnBseXIse2luZmx1ZW5jZTpbLi4ucGx5ci5pbmZsdWVuY2UsZ2FtZS5pbmZsdWVuY2UucG9wKCldfV0pO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0W1wicHJvZHVjZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiQ2hvb3NlIGEgUGxhbmV0IHRvIFRyYWRlIFJlc291cmNlcyBmcm9tXCIsIFtcInByb2R1Y2V0cmFkZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoIHRydWUgLCB0cnVlICwgWyBcInNldHRsZWRfJl9jb25xdWVyZWRfcGxhbmV0c1wiIF0sXCJzdWJjaG9pY2VzXCIsIGZpbmlzaCApLFxyXG5cdFx0XHRcdFx0XHRbXCJ0cmFkZVwiXSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiVHJhZGluZyBhIFJlc291cmNlXCIsIFtcInByb2R1Y2V0cmFkZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3RpdmVyb2xlID0gXCJ0cmFkZVwiO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBwcmQgPSB0cmFkZShnZXRTdWJDaG9pY2VzKCksZ2V0QWN0UGx5cigpLGdldEFjdFBseXIoKS5ic3RJY29ucy50cmFkZSApO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChnZXRBY3R2QWN0bigpID09IFwiZGl2ZXJzZV9tYXJrZXRzXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgaW4gcHJkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChwcmRbaV0gPiAxKSB7Z2V0QWN0UGx5cigpLmluZmx1ZW5jZS5wdXNoKGdhbWUuaW5mbHVlbmNlLnBvcCgpKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRpZiAoZ2V0QWN0dkFjdG4oKSA9PSBcInNwZWNpYWxpemF0aW9uXCIgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpIGluIEFycmF5LmZyb20ocHJkW2dldEFjdFBseXIoKS5zcGVjaWFsaXphdGlvbl0pKSB7IC8vd2hhdCBvbiBlYXJ0aCBpcyB0aGlzIGRvaW5nP1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuaW5mbHVlbmNlLnB1c2goZ2FtZS5pbmZsdWVuY2UucG9wKCkpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFtcInRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGZsbHc6W1xyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiQ2hvb3NlIGEgUGxhbmV0IHRvIFByb2R1Y2UgUmVzb3VyY2VzIG9uXCIsIFtcInByb2R1Y2VcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKCEwLCAhMCwgW1wic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCJdLCBcInN1YmNob2ljZXNcIiwgZmluaXNoKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZSggXCJQcm9kdWNpbmcgYSBSZXNvdXJjZVwiLCBbXCJwcm9kdWNlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGUgPSBnYW1lO1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3RpdmVyb2xlID0gXCJwcm9kdWNlXCI7XHJcblx0XHRcdFx0XHRcdFx0cHJvZHVjZShlLnN1YmNob2ljZXMsIGUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLmJzdEljb25zLnByb2R1Y2UpOyBmaW5pc2goITApXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiQ2hvb3NlIGEgUGxhbmV0IHRvIFRyYWRlIFJlc291cmNlcyBmcm9tXCIsIFtcInRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlcighMCwgITAsIFtcInNldHRsZWRfJl9jb25xdWVyZWRfcGxhbmV0c1wiXSwgXCJzdWJjaG9pY2VzXCIsIGZpbmlzaCksXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiVHJhZGluZyBhIFJlc291cmNlXCIsIFtcInRyYWRlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGUgPSBnYW1lO1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3RpdmVyb2xlID0gXCJ0cmFkZVwiO1xyXG5cdFx0XHRcdFx0XHRcdHRyYWRlKGUuc3ViY2hvaWNlcywgZ2V0QWN0UGx5cigpLCBnZXRBY3RQbHlyKCkuYnN0SWNvbnMudHJhZGUpO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCghMClcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbG5wOltdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvKi9wb2xpdGljczovKi8ge1xyXG5cdFx0XHRcdGFjdG46WyBcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIkNob29zZSBhIFJvbGUgQ2FyZCB0byBSZXBsYWNlIFBvbGl0aWNzIHdpdGhcIixcclxuXHRcdFx0XHRcdFx0W1wicG9saXRpY3NcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKGZhbHNlLCBmYWxzZSwgW1wicm9sZWNhcmRzXCJdLCBcImNob2ljZXNcIiwgZmluaXNoICksXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiU3dhcHBpbmcgdGhlIFJvbGUgQ2FyZCBmb3IgeW91ciBQb2xpdGljcyBDYXJkXCIsXHJcblx0XHRcdFx0XHRcdFtcInBvbGl0aWNzXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7cG9saXRpY3MoZ2V0QWN0UGx5cigpLmxpbWJvLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwicG9saXRpY3NcIilbMF0sIGdldENob2ljZXMoKVswXSwgZ2V0QWN0UGx5cigpICk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGxlYWQ6W10sXHJcblx0XHRcdFx0ZmxsdzpbXSxcclxuXHRcdFx0XHRjbG5wOltdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvKi9yZXNlYXJjaDovKi8ge1xyXG5cdFx0XHRcdGFjdG46W1xyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoIFwiQ2hvb3NlIHVwIHRvIDIgQ2FyZHMgZnJvbSB5b3VyIEhhbmQgdG8gUmVtb3ZlIGZyb20gdGhlIEdhbWVcIiwgW1wicmVzZWFyY2hcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKCBmYWxzZSwgdHJ1ZSxbXCJoYW5kXCJdLCBcImNob2ljZXNcIiwgZmluaXNoKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZSggXCJSZW1vdmluZyB5b3VyIENhcmRzIGZyb20gdGhlIEdhbWVcIiwgW1wicmVzZWFyY2hcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtyZXNlYXJjaChnZXRDaG9pY2VzKCksZ2V0QWN0UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0bGVhZDpbXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiQ2hvb3NlIGEgVGVjaG5vbG9neSB0byBSZXNlYXJjaFwiLCBbXCJyZXNlYXJjaFwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoIHRydWUgLCBmYWxzZSAsIFtcInJlc2VhcmNoXCIgXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCAgICksXHJcblx0XHRcdFx0XHQpLCBcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJSZXNlYXJjaGluZyB5b3VyIFRlY2hub2xvZ3lcIiwgW1wicmVzZWFyY2hcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIHtmaW5pc2godHJ1ZSk7cmV0dXJuO31cclxuXHRcdFx0XHRcdFx0XHRsZXQgY2FyZCA9IGdldENob2ljZXMoKVswXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgcCA9IHsgYWR2YW5jZWQ6IDAsIG1ldGFsbGljOiAwLCBmZXJ0aWxlOiAwIH07XHJcblx0XHRcdFx0XHRcdFx0Wy4uLmdldEFjdFBseXIoKS5zZXR0bGVkX3BsYW5ldHMsIC4uLmdldEFjdFBseXIoKS5jb25xdWVyZWRfcGxhbmV0c10ubWFwKGVsID0+IHBbZWwudHlwZV0rKyk7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGNvbmRpdGlvbiA9IE9iamVjdC52YWx1ZXMoY2FyZC5wbGFuZXRfcmVxdWlyZW1lbnRzKS5yZWR1Y2UoKGFjYyxjdXIsaSk9PihhY2MpID8gY3VyID4gcFtPYmplY3Qua2V5cyhwKVtpXV0gOiBhY2MsdHJ1ZSlcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbmRpdGlvbiAmJiBnZXRBY3RQbHlyKCkuYnN0SWNvbnMucmVzZWFyY2ggPj0gY2FyZC5yZXNlYXJjaF9jb3N0ICkgXHJcblx0XHRcdFx0XHRcdFx0XHRwbGF5KGdhbWUucmVzZWFyY2hfZGVjaywgKGNhcmQuaXNfcGVybWFuZW50KSA/ICBnZXRBY3RQbHlyKCkucGVybWFuZW50cyA6IGdldEFjdFBseXIoKS5saW1ibywgKGNhcmQuaXNfcGVybWFuZW50KSA/IFwiXCIgOiBcImRpc2NhcmRcIiwgY2FyZC5pZCk7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGZsbHc6W1xyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiQ2hvb3NlIGEgVGVjaG5vbG9neSB0byBSZXNlYXJjaFwiLCBbXCJyZXNlYXJjaFwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4gb2ZmZXIoITAsICExLCBbXCJyZXNlYXJjaFwiXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCksXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoIFwiUmVzZWFyY2hpbmcgeW91ciBUZWNobm9sb2d5XCIsIFtcInN1cnZleVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBlID0gZ2FtZTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoXCJTa2lwXCIgIT0gZS5jaG9pY2VzWzBdLm5hbWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBhID0geyBhZHZhbmNlZDogMCwgbWV0YWxsaWM6IDAsIGZlcnRpbGU6IDAgfTtcclxuXHRcdFx0XHRcdFx0XHRcdFsuLi5lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5zZXR0bGVkX3BsYW5ldHMsIC4uLmUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLmNvbnF1ZXJlZF9wbGFuZXRzXS5tYXAoZSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGFbZS50eXBlXSsrXHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBwID0gITA7XHJcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpIGluIGUuY2hvaWNlc1swXS5wbGFuZXRfcmVxdWlyZW1lbnRzKSBlLmNob2ljZXNbMF0ucGxhbmV0X3JlcXVpcmVtZW50c1tpXSA+IGFbaV0gJiYgKHAgPSAhMSk7XHJcblx0XHRcdFx0XHRcdFx0XHRwICYmIGUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLmJzdEljb25zLnJlc2VhcmNoID49IGUuY2hvaWNlc1swXS5yZXNlYXJjaF9jb3N0ICYmIHBsYXkoZS5yZXNlYXJjaF9kZWNrLCBlLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5saW1ibywgXCJkaXNjYXJkXCIsIGUuY2hvaWNlc1swXS5pZClcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKCEwKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbG5wOlsgXSxcclxuXHRcdFx0fSxcclxuXHRcdFx0Lyovc3VydmV5Oi8qLyB7XHJcblx0XHRcdFx0YWN0bjpbICAgICAgICBcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKCBcIlN1cnZleWluZyB5b3VyIEVtcGlyZVwiLCBbXCJzdXJ2ZXlcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtzdXJ2ZXkoZ2V0QWN0UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0bGVhZDpbXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IGZyb20geW91ciBHYWxheHkgdG8gRXhwbG9yZVwiLFxyXG5cdFx0XHRcdFx0XHRbXCJzdXJ2ZXlcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBnZXRBY3RQbHlyKCkuYnN0SWNvbnMuc3VydmV5OyBpKysgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRleHBsb3JlX3BsYW5ldCggZ2V0QWN0UGx5cigpICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdG9mZmVyKCB0cnVlICwgZmFsc2UgLCBbIFwib3B0aW9uc1wiLCBnYW1lLm9wdGlvbnMgXSwgXCJjaG9pY2VzXCIsZmluaXNoICAgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZShcclxuXHRcdFx0XHRcdFx0XCJTdXJ2ZXlpbmcgeW91ciBFbXBpcmVcIixcclxuXHRcdFx0XHRcdFx0W1wic3VydmV5XCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGdldENob2ljZSgpID09IFwiU2tpcFwiKSBmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0XHRjYXRhbG9nX3BsYW5ldCggZ2V0QWN0UGx5cigpICk7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGZsbHc6W1xyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IGZyb20geW91ciBHYWxheHkgdG8gRXhwbG9yZVwiLFxyXG5cdFx0XHRcdFx0XHRbXCJzdXJ2ZXlcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZSA9IGdhbWU7XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgYSA9IDA7IGEgPCBlLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5ic3RJY29ucy5zdXJ2ZXkgLSAxOyBhKyspIGV4cGxvcmVfcGxhbmV0KGUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdKTtcclxuXHRcdFx0XHRcdFx0XHRvZmZlcighMCwgITEsIFtcIm9wdGlvbnNcIl0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiU3VydmV5aW5nIHlvdXIgRW1waXJlXCIsXHJcblx0XHRcdFx0XHRcdFtcInN1cnZleVwiXSwgXHJcblx0XHRcdFx0XHRcdCgpID0+IHsgaWYgKGdldENob2ljZSgpID09IFwiU2tpcFwiKSBmaW5pc2goKTsgY2F0YWxvZ19wbGFuZXQoZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0pOyBmaW5pc2goITApfSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbG5wOltcclxuXHRcdFx0XHRcdHtcIlwiOlxyXG5cdFx0XHRcdFx0KCk9Pnt9fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvKi93YXJmYXJlOi8qLyB7XHJcblx0XHRcdFx0YWN0bjpbXHJcblx0XHRcdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcdFx0XCJDaG9vc2UgYmV0d2VlbiBDb2xsZWN0aW5nIGEgU3RhcmZpZ2h0ZXIgb3IgQ29ucXVlcmluZyBhIFBsYW5ldFwiLFxyXG5cdFx0XHRcdFx0XHRbXCJ3YXJmYXJlXCJdLFxyXG5cdFx0XHRcdFx0XHR3cmFwcGVkT2ZmZXIoW1wiQ29ucXVlciBhIFBsYW5ldFwiLCBcIkNvbGxlY3QgYSBTdGFyZmlnaHRlclwiXSksXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQWRkaW5nIGEgU3RhcmZpZ2h0ZXIgdG8geW91ciBGbGVldFwiLFxyXG5cdFx0XHRcdFx0XHRbXCJ3YXJmYXJlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7d2FyZmFyZShnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRcdFx0W1wiQ29sbGVjdCBhIFN0YXJmaWdodGVyXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIkNob29zZSBhIFBsYW5ldCB0byBDb25xdWVyXCIsXHJcblx0XHRcdFx0XHRcdFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKGZhbHNlLCBmYWxzZSwgW1widW5zZXR0bGVkX3BsYW5ldHNcIl0sIFwic3ViY2hvaWNlc1wiLCBmaW5pc2gpLFxyXG5cdFx0XHRcdFx0XHRbXCJDb25xdWVyIGEgUGxhbmV0XCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIkNvbnF1ZXJpbmcgeW91ciBwbGFuZXRcIixcclxuXHRcdFx0XHRcdFx0W1wid2FyZmFyZVwiXSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge2NvbnF1ZXIoZ2V0U3ViQ2hvaWNlKCksZ2V0QWN0UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0bGVhZDpbXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiQ2hvb3NlIGJldHdlZW4gQ29sbGVjdGluZyBTdGFyZmlnaHRlcnMgb3IgQ29ucXVlcmluZyBhIFBsYW5ldFwiLCBbXCJ3YXJmYXJlXCJdLFxyXG5cdFx0XHRcdFx0XHR3cmFwcGVkT2ZmZXIoW1wiQ29ucXVlciBhIFBsYW5ldFwiLCBcIkNvbGxlY3QgU3RhcmZpZ2h0ZXJzXCJdKSxcclxuXHRcdFx0XHRcdCksXHJcblx0XHRcdFx0XHRnZW5MZWFkUGhhc2UoIFwiQWRkaW5nIFN0YXJmaWdodGVycyB0byB5b3VyIEZsZWV0XCIsIFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRyYW5nZSgxLGdldEFjdFBseXIoKS5ic3RJY29ucy53YXJmYXJlKS5mb3JFYWNoKCAoKT0+d2FyZmFyZSggZ2V0QWN0UGx5cigpICkgKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFtcIkNvbGxlY3QgU3RhcmZpZ2h0ZXJzXCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDaG9vc2UgYSBQbGFuZXQgdG8gQ29ucXVlclwiLCBbXCJ3YXJmYXJlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFx0XHRbXCJDb25xdWVyIGEgUGxhbmV0XCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkxlYWRQaGFzZSggXCJDb25xdWVyaW5nIHlvdXIgcGxhbmV0XCIsIFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25xdWVyKGdldFN1YkNob2ljZSgpLCBnZXRBY3RQbHlyKCkgKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0ZmxsdzpbXHJcblx0XHRcdFx0XHRnZW5Gb2xsb3dQaGFzZShcclxuXHRcdFx0XHRcdFx0XCJDaG9vc2UgYmV0d2VlbiBDb2xsZWN0aW5nIFN0YXJmaWdodGVycyBvciBDb25xdWVyaW5nIGEgUGxhbmV0XCIsXHJcblx0XHRcdFx0XHRcdFtcIndhcmZhcmVcIl0sXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoMCA9PSBnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5wZXJtYW5lbnRzLmZpbHRlcihlID0+IFwiYnVyZWF1Y3JhY3lcIiA9PSBlLnR5cGUpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGUgPSBnYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZS5jaG9pY2VzID0gW3tcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogXCJDb2xsZWN0IFN0YXJmaWdodGVyc1wiXHJcblx0XHRcdFx0XHRcdFx0XHR9XTsgIGZpbmlzaCghMCk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIG9mZmVyKCExLCAhMSwgW1wib3B0aW9uc1wiLCBbe1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogXCJDb25xdWVyIGEgUGxhbmV0XCJcclxuXHRcdFx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBcIkNvbGxlY3QgU3RhcmZpZ2h0ZXJzXCJcclxuXHRcdFx0XHRcdFx0XHR9XV0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkZvbGxvd1BoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIkFkZGluZyBTdGFyZmlnaHRlcnMgdG8geW91ciBGbGVldFwiLFxyXG5cdFx0XHRcdFx0XHRbXCJ3YXJmYXJlXCJdLFxyXG5cdFx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgZSA9IDA7IGUgPCBnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5ic3RJY29ucy53YXJmYXJlOyBlKyspIHdhcmZhcmUoZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0pO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCghMClcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0W1wiQ29sbGVjdCBTdGFyZmlnaHRlcnNcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0Z2VuRm9sbG93UGhhc2UoXHJcblx0XHRcdFx0XHRcdFwiQ2hvb3NlIGEgUGxhbmV0IHRvIENvbnF1ZXJcIixcclxuXHRcdFx0XHRcdFx0W1wid2FyZmFyZVwiXSwgXHJcblx0XHRcdFx0XHRcdCgpID0+IG9mZmVyKCExLCAhMSwgW1widW5zZXR0bGVkX3BsYW5ldHNcIl0sIFwic3ViY2hvaWNlc1wiLCBmaW5pc2gpLFxyXG5cdFx0XHRcdFx0XHRbXCJDb25xdWVyIGEgUGxhbmV0XCJdLFxyXG5cdFx0XHRcdFx0KSxcclxuXHRcdFx0XHRcdGdlbkZvbGxvd1BoYXNlKFxyXG5cdFx0XHRcdFx0XHRcIkNvbnF1ZXJpbmcgeW91ciBwbGFuZXRcIixcclxuXHRcdFx0XHRcdFx0W1wid2FyZmFyZVwiXSwgXHJcblx0XHRcdFx0XHRcdCgpID0+IHtjb25xdWVyKGdhbWUuc3ViY2hvaWNlc1swXSwgZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0pOyBmaW5pc2goITApO30sXHJcblx0XHRcdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl0sXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xucDpbXHJcblx0XHRcdFx0XHR7XCJcIjpcclxuXHRcdFx0XHRcdCgpPT57fX0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0fSxcclxuXHRcdF07XHJcblx0XHRhY3Rpb25jYXJkcGhhc2VzID0gW1xyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gaW1wcm92ZWRfY29sb25pemUgXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIHdldGhlciBvciBub3QgdG8gU2V0dGxlIGEgUGxhbmV0XCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfY29sb25pemVcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXIoIHRydWUsIGZhbHNlLCBbIFwib3B0aW9uc1wiLCBbeyBuYW1lOiBcInNldHRsZVwiIH0sIHsgbmFtZTogXCJTa2lwXCIgfV1dLCBcImNob2ljZXNcIiwgZmluaXNoKVxyXG5cdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNob29zZSBhIFBsYW5ldCB0byBTZXR0bGVcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9jb2xvbml6ZVwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFtcInNldHRsZVwiXSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlNldHRsaW5nIHlvdXIgUGxhbmV0XCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfY29sb25pemVcIl0sXHJcblx0XHRcdFx0KCkgPT4geyBzZXR0bGVfY29sb25pZXMoZ2V0U3ViQ2hvaWNlKCksZ2V0QWN0dlBseXIoKSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdFtcInNldHRsZVwiXSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNob29zZSBiZXR3ZWVuIFNldHRsaW5nIG9yIENvbG9uaXppbmcgYSBQbGFuZXRcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9jb2xvbml6ZVwiXSxcclxuXHRcdFx0XHR3cmFwcGVkT2ZmZXIoW1wiQ29sb25pemVcIiAsXCJTZXR0bGUgQ29sb25pZXNcIl0pLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gU2V0dGxlXCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfY29sb25pemVcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXJVbnNldHRsZWQoKSxcclxuXHRcdFx0XHRbXCJTZXR0bGUgQ29sb25pZXNcIl0sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJTZXR0bGluZyB5b3VyIFBsYW5ldFwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX2NvbG9uaXplXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgc2V0dGxlX2NvbG9uaWVzKCBnZXRTdWJDaG9pY2UoKSwgZ2V0QWN0UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0W1wiU2V0dGxlIENvbG9uaWVzXCJdLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gQ29sb25pemVcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9jb2xvbml6ZVwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFtcIkNvbG9uaXplXCJdLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ29sb25pemluZyB5b3VyIFBsYW5ldFwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX2NvbG9uaXplXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgY29sb25pemUoIGdldFN1YkNob2ljZSgpLCBnZXRBY3RQbHlyKCkubGltYm8sIGdldEFjdFBseXIoKS5saW1iby5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImltcHJvdmVkX2NvbG9uaXplXCIpWzBdKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0W1wiQ29sb25pemVcIl0sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIGltcHJvdmVkX3Byb2R1Y2UgOiA0XHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGFuIGVtcHR5IFByb2R1Y3Rpb24gWm9uZSB0byBQcm9kdWNlIGluXCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfcHJvZHVjdGlvblwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlciggdHJ1ZSwgZmFsc2UsIFtcInNldHRsZWRfJl9jb25xdWVyZWRfcGxhbmV0c1wiXSwgXCJjaG9pY2VzXCIgLCBmaW5pc2gpLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiUHJvZHVjaW5nIHlvdXIgUmVzb3VyY2VcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9wcm9kdWN0aW9uXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgXHJcblx0XHRcdFx0XHRpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIGZpbmlzaCgpOyBwcm9kdWNlKGdhbWUuY2hvaWNlcyk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGFuIGVtcHR5IFByb2R1Y3Rpb24gWm9uZSB0byBQcm9kdWNlIGluXCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfcHJvZHVjdGlvblwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlcih0cnVlLCBmYWxzZSwgW1wic2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzXCJdLCBcImNob2ljZXNcIiwgZmluaXNoKSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlByb2R1Y2luZyB5b3VyIFJlc291cmNlXCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfcHJvZHVjdGlvblwiXSxcclxuXHRcdFx0XHQoKSA9PiB7IGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikgZmluaXNoKCk7cHJvZHVjZShnYW1lLmNob2ljZXMpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gaW1wcm92ZWRfdHJhZGUgOiAxXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiVHJhZGluZyB5b3VyIFN0b2NrcyBhbmQgQm9uZHNcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF90cmFkZVwiXSxcclxuXHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5pbmZsdWVuY2UucHVzaCggZ2FtZS5pbmZsdWVuY2UucG9wKCkgKTtcclxuXHRcdFx0XHRcdGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBpbXByb3ZlZF9yZXNlYXJjaCA6IDJcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgdXAgdG8gMyBDYXJkcyBmcm9tIHlvdXIgSGFuZCB0byBSZW1vdmUgZnJvbSB0aGUgR2FtZVwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3Jlc2VhcmNoXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGRyYXcoZ2V0QWN0UGx5cigpKTtcclxuXHRcdFx0XHRcdG9mZmVyKGZhbHNlLCB0cnVlLCBbXCJoYW5kXCJdLCBcImNob2ljZXNcIiwgZmluaXNoKTt9XHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJSZW1vdmluZyB5b3VyIENhcmRzIGZyb20gdGhlIEdhbWVcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF9yZXNlYXJjaFwiXSxcclxuXHRcdFx0XHQoKSA9PiB7cmVzZWFyY2goZ2V0Q2hvaWNlcygpLCBnZXRBY3RQbHlyKCksIDMpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gaW1wcm92ZWRfc3VydmV5IDogMVxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkRyYXdpbmcgeW91ciBDYXJkc1wiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3N1cnZleVwiXSxcclxuXHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRkcmF3KCBnZXRBY3RQbHlyKCkgKTsgZHJhdyggZ2V0QWN0UGx5cigpICk7IGRyYXcoIGdldEFjdFBseXIoKSApOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gaW1wcm92ZWRfd2FyZmFyZSA6IDRcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYmV0d2VlbiBDb2xsZWN0aW5nIGEgU3RhcmZpZ2h0ZXIgb3IgQ29ucXVlcmluZyBhIFBsYW5ldFwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3dhcmZhcmVcIl0sXHJcblx0XHRcdFx0d3JhcHBlZE9mZmVyKFwiQ29ucXVlciBhIFBsYW5ldFwiLFwiQ29sbGVjdCBhIFN0YXJmaWdodGVyXCIpLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQWRkaW5nIGEgU3RhcmZpZ2h0ZXIgdG8geW91ciBGbGVldFwiLFxyXG5cdFx0XHRcdFtcImltcHJvdmVkX3dhcmZhcmVcIl0sXHJcblx0XHRcdFx0KCkgPT4ge3dhcmZhcmUoZ2V0QWN0UGx5cigpKTsgd2FyZmFyZShnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRbXCJDb2xsZWN0IGEgU3RhcmZpZ2h0ZXJcIl1cclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNob29zZSBhIFBsYW5ldCB0byBDb25xdWVyXCIsXHJcblx0XHRcdFx0W1wiaW1wcm92ZWRfd2FyZmFyZVwiXSxcclxuXHRcdFx0XHQoKSA9PiBvZmZlclVuc2V0dGxlZCgpLFxyXG5cdFx0XHRcdFtcIkNvbnF1ZXIgYSBQbGFuZXRcIl1cclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNvbnF1ZXJpbmcgeW91ciBwbGFuZXRcIixcclxuXHRcdFx0XHRbXCJpbXByb3ZlZF93YXJmYXJlXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgY29ucXVlcihnZXRTdWJDaG9pY2UoKSxnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHRbXCJDb25xdWVyIGEgUGxhbmV0XCJdXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIG1vYmlsaXphdGlvbiA6IDRcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDb2xsZWN0aW5nIHlvdXIgU3RhciBGaWdodGVyc1wiLFxyXG5cdFx0XHRcdFtcIm1vYmlsaXphdGlvblwiXSxcclxuXHRcdFx0XHQoKSA9PiB7IHdhcmZhcmUoZ2V0QWN0UGx5cigpKTsgd2FyZmFyZShnZXRBY3RQbHlyKCkpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0XHQpLFxyXG5cclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIHN1cnZleV90ZWFtIDogMVxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkFkZGluZyBUb3AgQ2FyZCBvZiB0aGUgUGxhbmV0IGRlY2sgdG8geW91ciBFbXBpcmVcIixcclxuXHRcdFx0XHRbXCJzdXJ2ZXlfdGVhbVwiXSxcclxuXHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgeyBnYW1lOiBnYW1lLCBnYW1lOiB7IGFjdGluZ19wbGF5ZXI6IHBsYXllciwgcGxhbmV0X2RlY2s6IHBsYW5ldF9kZWNrIH0gfSA9IGdldCgpO1xyXG5cdFx0XHRcdFx0cGxheWVyID0gZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF07XHJcblx0XHRcdFx0XHRsZXQgcGxhbmV0ID0gcGxhbmV0X2RlY2sucG9wKCk7XHJcblx0XHRcdFx0XHRwbGF5ZXIudW5zZXR0bGVkX3BsYW5ldHMucHVzaChwbGFuZXQpO1xyXG5cdFx0XHRcdFx0ZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Ly8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblx0XHRcdC8vIHdhcl9wYXRoIDogNFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNob29zZSBhIFBsYW5ldCB0byBDb25xdWVyXCIsXHJcblx0XHRcdFx0W1wid2FyX3BhdGhcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXJVbnNldHRsZWQoKSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIkNvbnF1ZXJpbmcgeW91ciBwbGFuZXRcIixcclxuXHRcdFx0XHRbXCJ3YXJfcGF0aFwiXSxcclxuXHRcdFx0XHQoKSA9PiB7IGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikgZmluaXNoKCk7IGNvbnF1ZXIoZ2V0Q2hvaWNlKCksZ2V0QWN0UGx5cigpKTsgZmluaXNoKHRydWUpO30sXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDaG9vc2UgYSBQbGFuZXQgdG8gQ29ucXVlclwiLFxyXG5cdFx0XHRcdFtcIndhcl9wYXRoXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKCksXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJDb25xdWVyaW5nIHlvdXIgcGxhbmV0XCIsXHJcblx0XHRcdFx0W1wid2FyX3BhdGhcIl0sXHJcblx0XHRcdFx0KCkgPT4geyBpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIGZpbmlzaCgpOyBjb25xdWVyKGdldENob2ljZSgpLGdldEFjdFBseXIoKSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyB0ZXJyYWZvcm1pbmcgOiAyXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGFuIFVuc2V0dGxlZCBQbGFuZXQgdG8gVGVycmFmb3JtXCIsXHJcblx0XHRcdFx0W1widGVycmFmb3JtaW5nXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyVW5zZXR0bGVkKClcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlRlcnJhZm9ybWluZyB5b3VyIFBsYW5ldFwiLFxyXG5cdFx0XHRcdFtcInRlcnJhZm9ybWluZ1wiXSxcclxuXHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRjb2xvbml6ZSggZ2V0Q2hvaWNlKCksIGdldEFjdFBseXIoKS5saW1ibywgZ2V0QWN0UGx5cigpLmxpbWJvLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwidGVycmFmb3JtaW5nXCIpWzBdKTtcclxuXHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKS5ob3N0ZWRfY29sb25pZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRsZXQgYyA9IGdldENob2ljZSgpLmhvc3RlZF9jb2xvbmllcy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyBjdXIuaWNvbnMuY29sb25pemUsMCk7XHJcblx0XHRcdFx0XHRcdGlmIChjID49IGdldENob2ljZSgpLnNldHRsZV9jb3N0KSBzZXR0bGVfY29sb25pZXMoZ2V0Q2hvaWNlKCksZ2V0QWN0UGx5cigpKTsgfVxyXG5cdFx0XHRcdFx0ZmluaXNoKHRydWUpOyB9LFxyXG5cdFx0XHRcdFtcIkNvbG9uaXplXCJdXHJcblx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBnZW5ldGljX2VuZ2luZWVyaW5nIDoxXHJcblx0XHRcdC8vIFVOSU1QTElNRU5URURcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJFbmdpbmVlcmluZyBHZW5ldGljc1wiLFxyXG5cdFx0XHRcdFtcImdlbmV0aWNfZW5naW5lZXJpbmdcIl0sXHJcblx0XHRcdFx0ZmluaXNoLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBhcnRpZmljaWFsX2ludGVsbGlnZW5jZSA6IDRcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJTZWxlY3QgYSBSb2xlIENhcmQgdG8gdGFrZSBpbnRvIHlvdXIgSGFuZFwiLFxyXG5cdFx0XHRcdFtcImFydGlmaWNpYWxfaW50ZWxsaWdlbmNlXCJdLFxyXG5cdFx0XHRcdCgpID0+IG9mZmVyKCBmYWxzZSwgIGZhbHNlLCBbXCJyb2xlY2FyZHNcIl0sIFwiY2hvaWNlc1wiLCBmaW5pc2gpXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJBZGRpbmcgUm9sZSBDYXJkIHRvIHlvdXIgTWFjaGluZSBMZWFybmluZyBNb2RlbFwiLFxyXG5cdFx0XHRcdFtcImFydGlmaWNpYWxfaW50ZWxsaWdlbmNlXCJdLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGxldCB7IGdhbWU6IGdhbWUsIGdhbWU6IHsgYWN0aW5nX3BsYXllcjogcGxheWVyIH0gfSA9IGdldCgpO1xyXG5cdFx0XHRcdFx0cGxheWVyID0gZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF07XHJcblx0XHRcdFx0XHRpZiAoZ2FtZS5zdGFja3MucGlsZWNvdW50W2dhbWUuY2hvaWNlc1swXS50eXBlXSA+PSAxKSB7XHJcblx0XHRcdFx0XHRcdHBsYXllci5oYW5kLnB1c2goXHJcblx0XHRcdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihcclxuXHRcdFx0XHRcdFx0XHR7IGlkOiBnZW5fdW5pcXVlX2lkKCkgfSxcclxuXHRcdFx0XHRcdFx0XHRnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3NbZ2FtZS5jaG9pY2VzWzBdLnR5cGVdXVxyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0Z2FtZS5zdGFja3MucGlsZWNvdW50W2dhbWUuY2hvaWNlc1swXS50eXBlXS0tO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRnZW5BY3Rpb25QaGFzZShcclxuXHRcdFx0XHRcIlNlbGVjdCBhIFJvbGUgQ2FyZCB0byB0YWtlIGludG8geW91ciBIYW5kXCIsXHJcblx0XHRcdFx0W1wiYXJ0aWZpY2lhbF9pbnRlbGxpZ2VuY2VcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXIoIGZhbHNlLCAgZmFsc2UsIFsgXCJyb2xlY2FyZHNcIiBdLCBcImNob2ljZXNcIiwgZmluaXNoKVxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQWRkaW5nIFJvbGUgQ2FyZCB0byB5b3VyIE1hY2hpbmUgTGVhcm5pbmcgTW9kZWxcIixcclxuXHRcdFx0XHRbXCJhcnRpZmljaWFsX2ludGVsbGlnZW5jZVwiXSxcclxuXHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgeyBnYW1lOiBnYW1lLCBnYW1lOiB7IGFjdGluZ19wbGF5ZXI6IHBsYXllciB9IH0gPSBnZXQoKTtcclxuXHRcdFx0XHRcdHBsYXllciA9IGdhbWUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdO1xyXG5cdFx0XHRcdFx0aWYgKGdhbWUuc3RhY2tzLnBpbGVjb3VudFtnYW1lLmNob2ljZXNbMF0udHlwZV0gPj0gMSkge1xyXG5cdFx0XHRcdFx0XHRwbGF5ZXIuaGFuZC5wdXNoKFxyXG5cdFx0XHRcdFx0XHRcdE9iamVjdC5hc3NpZ24oXHJcblx0XHRcdFx0XHRcdFx0eyBpZDogZ2VuX3VuaXF1ZV9pZCgpIH0sXHJcblx0XHRcdFx0XHRcdFx0Z2FtZS5zdGFja3Mucm9sZWNhcmRzW2dhbWUuc3RhY2tzW2dhbWUuY2hvaWNlc1swXS50eXBlXV1cclxuXHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdGdhbWUuc3RhY2tzLnBpbGVjb3VudFtnYW1lLmNob2ljZXNbMF0udHlwZV0tLTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdH0sIFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBkaXZlcnNlX21hcmtldHMgOiAxXHJcblx0XHRcdC8vIFVOSU1QTElNRU5URURcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJEaXZlcnNpZnlpbmcgTWFya2V0c1wiLFxyXG5cdFx0XHRcdFtcImRpdmVyc2VfbWFya2V0c1wiXSxcclxuXHRcdFx0XHRmaW5pc2hcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHQvLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHRcdFx0Ly8gc3BlY2lhbGl6YXRpb24gOiAyXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGEgUmVzb3VyY2UgdG8gU3BlY2lhbGl6ZSBpblwiLFxyXG5cdFx0XHRcdFtcInNwZWNpYWxpemF0aW9uXCJdLFxyXG5cdFx0XHRcdHdyYXBwZWRPZmZlcihcInJlZFwiLFwiYmx1ZVwiLFwiZ3JlblwiLFwicHVycGxlXCIpXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJTcGVjaWFsaXphaW5nIGluIHlvdXIgU2VsZXRlZCBSZXNvdXJjZVwiLFxyXG5cdFx0XHRcdFtcInNwZWNpYWxpemF0aW9uXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgZ2V0QWN0UGx5cigpLnNwZWNpYWxpemF0aW9uID0gZ2V0Q2hvaWNlKCk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdC8vICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cdFx0XHQvLyBkYXRhX25ldHdvcmsgOiAzXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiRHJhd2luZyBZb3VyIENhcmRzXCIsXHJcblx0XHRcdFx0W1wiZGF0YV9uZXR3b3JrXCJdLFxyXG5cdFx0XHRcdCgpID0+IHsgZHJhdyhnZXRBY3RQbHlyKCkpOyBkcmF3KGdldEFjdFBseXIoKSk7IGZpbmlzaCh0cnVlKTt9LFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdGdlbkFjdGlvblBoYXNlKFxyXG5cdFx0XHRcdFwiQ2hvb3NlIGFueSBudW1iZXIgb2YgQ2FyZHMgZnJvbSB5b3VyIEhhbmQgdG8gUmVtb3ZlIGZyb20gdGhlIEdhbWVcIixcclxuXHRcdFx0XHRbXCJkYXRhX25ldHdvcmtcIl0sXHJcblx0XHRcdFx0KCkgPT4gb2ZmZXIoIHRydWUsIHRydWUsIFsgXCJoYW5kXCIgXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCksXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0Z2VuQWN0aW9uUGhhc2UoXHJcblx0XHRcdFx0XCJSZW1vdmluZyB0aGUgU2VsZWN0ZWQgQ2FyZHMgZnJvbSB0aGUgR2FtZVwiLFxyXG5cdFx0XHRcdFtcImRhdGFfbmV0d29ya1wiXSxcclxuXHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0bGV0IHsgZ2FtZTogZ2FtZSwgZ2FtZTogeyBjaG9pY2VzOiBjaG9pY2VzLCBhY3RpbmdfcGxheWVyOiBwbGF5ZXIgfSB9ID0gZ2V0KCk7XHJcblx0XHRcdFx0XHRwbGF5ZXIgPSBnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XTtcclxuXHRcdFx0XHRcdHJlc2VhcmNoKGNob2ljZXMsIHBsYXllciwgY2hvaWNlcy5sZW5ndGgpOyBmaW5pc2godHJ1ZSk7fSxcclxuXHRcdFx0KVxyXG5cdFx0XTtcclxuXHRcdGxldCBub25jZSA9IDA7XHJcblx0XHRnYW1lID0ge1xyXG5cdFx0XHRtaW5QbHlyczogMixcclxuXHRcdFx0bWFheFBseXJzOiA0LFxyXG5cdFx0XHRwYXNzdG9wbGF5ZXI6IGZhbHNlLFxyXG5cdFx0XHRub25jZTogMCxcclxuXHRcdFx0ZGlzcGxheWluZm86IHtcclxuXHRcdFx0XHRzZWxlY3Rpb256b25lOiBcIlwiLFxyXG5cdFx0XHRcdGRyYWdnZWQ6IG51bGwsXHJcblx0XHRcdFx0c2hvd29wdGlvbnRvc2tpcDogZmFsc2UsXHJcblx0XHRcdFx0YWxsb3dmb3JtdWx0aXBsZXNlbGVjdGlvbnM6IGZhbHNlLFxyXG5cdFx0XHRcdGNlbnRlcl9vcl9wbGFuZXRzOiB0cnVlLCAvL3RydWUgPSBjZW50ZXIsIGZhbHNlID0gcGxhbmV0c1xyXG5cdFx0XHRcdGNob2ljZWxhYmVsOiBcImNob2ljZXNcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzdWJjaG9pY2VzOiBbXSxcclxuXHRcdFx0aW5mbHVlbmNlOiBbMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxyXG5cdFx0XHRtZXNzYWdldG9wbGF5ZXI6IFsnV2FpdGluZyBmb3Igb3RoZXIgcGxheWVycyB0byBqb2luJ10sXHJcblx0XHRcdG9wdGlvbnM6IFtdLFxyXG5cdFx0XHRwbGFuZXRfZGVjazogW10sXHJcblx0XHRcdGN1cnJlbnRwaGFzZTogLTQsXHJcblx0XHRcdGxlYWRpbmdfcGxheWVyX2luZGV4OiAwLFxyXG5cdFx0XHRhY3RpbmdfcGxheWVyX2luZGV4OiAwLFxyXG5cdFx0XHRudW1iZXJfb2ZfcGxheWVyczogMixcclxuXHRcdFx0c3RhcnRlZDogZmFsc2UsXHJcblx0XHRcdGdhbWVwaGFzZXM6IFtcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0c3RhcnQ6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwic2V0IGFjdGl2ZSBwbGF5ZXJcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2FtZS5zdGFydGVkKSB7XHJcblx0XHRcdFx0XHRcdGdhbWUuc3RhcnRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdGdhbWUucGFzc3QgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0Z2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleCA9XHJcblx0XHRcdFx0XHRcdFx0KGdhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXggKyAxKSAlIGdhbWUubnVtYmVyX29mX3BsYXllcnM7XHJcblx0XHRcdFx0XHRcdGdhbWUuYWN0aW5nX3BsYXllcl9pbmRleCA9IGdhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXg7XHJcblx0XHRcdFx0XHRcdGdhbWUubGVhZGluZ3BsYXllciA9IGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XTtcclxuXHRcdFx0XHRcdFx0Z2FtZS5hY3RpbmdfcGxheWVyID0gZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdO1xyXG5cdFx0XHRcdFx0XHRvcGVuRnVsbHNjcmVlbigpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChnYW1lLmxlYWRpbmdwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRnYW1lLnBsYXllcnNbZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleF0ucm91bmRzKys7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0bGV0IHBsYW5ldHMgPSBbXHJcblx0XHRcdFx0XHRcdC4uLmdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XS5zZXR0bGVkX3BsYW5ldHMsXHJcblx0XHRcdFx0XHRcdC4uLmdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XS5jb25xdWVyZWRfcGxhbmV0c1xyXG5cdFx0XHRcdFx0XHRdO1xyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBwIGluIHBsYW5ldHMpIHtcclxuXHRcdFx0XHRcdFx0dGFsbHlJY29ucyhnYW1lLnBsYXllcnNbZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleF0scGxhbmV0c1twXSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgcCBpbiBnYW1lLnBsYXllcnNbZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleF0ucGVybWFuZW50cykge1xyXG5cdFx0XHRcdFx0XHR0YWxseUljb25zKGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XSxwZXJtYW5lbnRzW3BdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0UHJvZHVjdGl2aXR5OiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJwcm9kdWN0aXZpdHlcIikubGVuZ3RoICE9IDAgKSB7XHJcblx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2UgPSBcImFhclwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiQ2hvb3NlIGFuIE9yZGVyIHRvIFBlcmZvcm0gWW91ciBBY3Rpb24gYW5kIFJvbGUgUGhhc2VzXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGdldEFjdFBseXIoKS5wZXJtYW5lbnRzLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwibG9naXN0aWNzXCIgKS5sZW5ndGggIT0gMCApIHtcclxuXHRcdFx0XHRcdFx0bGV0IG9wdGlvbnMgPSBbXHJcblx0XHRcdFx0XHRcdFx0XCJBY3Rpb24gUGhhc2UgdGhlbiBSb2xlIFBoYXNlXCIsXHJcblx0XHRcdFx0XHRcdFx0XCJSb2xlIFBoYXNlIHRoZW4gQWN0aW9uIFBoYXNlXCJcclxuXHRcdFx0XHRcdFx0XTtcclxuXHRcdFx0XHRcdFx0aWYgKGdldEFjdFBseXIoKS5wZXJtYW5lbnRzLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwicHJvZHVjdGl2aXR5XCIpLmxlbmd0aCAhPSAwICkge1xyXG5cdFx0XHRcdFx0XHRcdC8vYWRkIGFhcixhcmEsYW5kIHJhYSBhcyBvcHRpb25zXHJcblx0XHRcdFx0XHRcdFx0b3B0aW9ucy5wdXNoKFwiQWN0aW9uIFBoYXNlIHRoZW4gYW5vdGhlciBBY3Rpb24gUGhhc2UgdGhlbiBSb2xlIFBoYXNlXCIpO1xyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnMucHVzaChcIkFjdGlvbiBQaGFzZSB0aGVuIFJvbGUgUGhhc2UgdGhlbiBhbm90aGVyIEFjdGlvbiBQaGFzZVwiKTtcclxuXHRcdFx0XHRcdFx0XHRvcHRpb25zLnB1c2goXCJSb2xlIFBoYXNlIHRoZW4gQWN0aW9uIFBoYXNlIHRoZW4gYW5vdGhlciBBY3Rpb24gUGhhc2VcIik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Ly9vZmZlciBhciBvciByYVxyXG5cdFx0XHRcdFx0XHRzaW1wbGVPZmZlcihvcHRpb25zKVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdExvZ2lzdGljczogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJsb2dpc3RpY3NcIikubGVuZ3RoICE9IDAgKSB7XHJcblx0XHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKSA9PSBcIkFjdGlvbiBQaGFzZSB0aGVuIFJvbGUgUGhhc2VcIiApIHtcclxuXHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlID0gXCJhclwiO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBnZXRDaG9pY2UoKSA9PSBcIlJvbGUgUGhhc2UgdGhlbiBBY3Rpb24gUGhhc2VcIiApIHtcclxuXHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlID0gXCJyYVwiO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBnZXRDaG9pY2UoKSA9PSBcIkFjdGlvbiBQaGFzZSB0aGVuIGFub3RoZXIgQWN0aW9uIFBoYXNlIHRoZW4gUm9sZSBQaGFzZVwiICkge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2UgPSBcImFhclwiO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBnZXRDaG9pY2UoKSA9PSBcIkFjdGlvbiBQaGFzZSB0aGVuIFJvbGUgUGhhc2UgdGhlbiBhbm90aGVyIEFjdGlvbiBQaGFzZVwiICkge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2UgPSBcImFyYVwiO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBnZXRDaG9pY2UoKSA9PSBcIlJvbGUgUGhhc2UgdGhlbiBBY3Rpb24gUGhhc2UgdGhlbiBhbm90aGVyIEFjdGlvbiBQaGFzZVwiICkge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2UgPSBcInJhYVwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0YWN0aW9uOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFwiQ2hvb3NlIGFuIEFjdGlvbiB0byBQbGF5XCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUsIGZhbHNlLCBbIFwiaGFuZFwiIF0sIFwiY2hvaWNlc1wiLCBmaW5pc2ggKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XCJQbGF5aW5nIHlvdXIgQWN0aW9uXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGdldENob2ljZSgpID09IFwiU2tpcFwiKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGNhcmQgPSBnZXRDaG9pY2VzKClbMF0sIHBseXIgPSBnZXRBY3RQbHlyKCk7XHJcblx0XHRcdFx0XHRcdFx0cGx5ci5hY3RpdmVhY3Rpb24gPSBjYXJkLnR5cGU7XHJcblx0XHRcdFx0XHRcdFx0aGFuZFRvTGltYm8ocGx5cixjYXJkKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSlcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Li4uZ2V0QWN0aW9uQ29yZVBoYXNlcygpLFxyXG5cdFx0XHRcdFx0Li4uZ2V0QWN0aW9uQ2FyZFBoYXNlcygpXHJcblx0XHRcdFx0XHRdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0cm9sZTogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJDaG9vc2UgYSBSb2xlIENhcmQgdG8gTGVhZCB3aXRoXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0b2ZmZXIoIGZhbHNlICwgZmFsc2UsIFsgXCJyb2xlY2FyZHNcIiBdLCBcImNob2ljZXNcIiwgZmluaXNoICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJQZXJmb3JtaW5nIHlvdXIgUm9sZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGxldCBjYXJkID0gZ2V0Q2hvaWNlcygpWzBdO1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2FtZS5zdGFja3MucGlsZWNvdW50W2NhcmQudHlwZV0gPj0gMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChjYXJkLnR5cGU9PVwicHJvZHVjZXRyYWRlXCIpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmJzdEljb25zWyBcInByb2R1Y2VcIiBdKys7XHJcblx0XHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuYnN0SWNvbnNbIFwidHJhZGVcIiBdKys7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5ic3RJY29uc1sgY2FyZC50eXBlIF0rKztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0bGV0IG5ld2NhcmQgPSBPYmplY3QuYXNzaWduKFxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IGdlbl91bmlxdWVfaWQoKSxcclxuXHRcdFx0XHRcdFx0XHRcdGZpbkRlc3Q6IFwiZGlzY2FyZFwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3NbY2FyZC50eXBlXV1cclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5saW1ibyA9IFsgLi4uZ2V0QWN0UGx5cigpLmxpbWJvLCBuZXdjYXJkXTtcclxuXHRcdFx0XHRcdFx0XHRnYW1lLnN0YWNrcy5waWxlY291bnRbY2FyZC50eXBlXS0tO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGNhcmQudHlwZSAhPSBcImNvbG9uaXplXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuYnN0SWNvbnNbIGNhcmQudHlwZSBdKys7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUgPSBjYXJkLnR5cGU7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0bGVhZDogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcIkNob29zZSBjYXJkcyBmcm9tIHlvdXIgaGFuZCB0byBCb29zdCB0aGUgZWZmZWN0aXZlbmVzcyBvZiB5b3VyIFJvbGVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdG9mZmVyKCB0cnVlICwgdHJ1ZSwgWyBcImhhbmRcIiBdLCBcImNob2ljZXNcIiwgZmluaXNoICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFwiQm9vc3RpbmcgeW91ciBSb2xlXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRnZXRDaG9pY2VzKCkuZm9yRWFjaCggKGNhcmQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ym9vc3RXaXRoSWNvbnMoZ2V0QWN0UGx5cigpLGNhcmQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXJkLmZpbkRlc3Q9J2Rpc2NhcmQnO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHQvL1RPRE86IHRhbGx5IHVwIGljb25zIG9uIHBsYW5ldHNcclxuXHRcdFx0XHRcdFx0XHRcdC8vVE9ETzogdGFsbHkgdXAgaWNvbnMgb24gdGVjaG5vbG9naWVzXHJcblx0XHRcdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Li4uZ2V0TGVhZENvcmVQaGFzZXMoKSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiUGFzcyB0aGUgZGV2aWNlIHRvIHRoZSBOZXh0IFBsYXllclwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZSA9IFwiXCI7XHJcblx0XHRcdFx0XHRcdGdhbWUucGFzc3AgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiWW91IHBhc3NlZCBQcmlvcml0eVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGdhbWUucGFzc3AgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRmb2xsb3c6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiQ2hvb3NlIGJldHdlZW4gRm9sbG93aW5nIG9yIERpc3NlbnQgdGhlIExlYWRpbmcgUm9sZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNpbXBsZU9mZmVyKFtcImRpc3NlbnRcIixnZXRMZWFkUGx5cigpLmFjdGl2ZXJvbGVdKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHREaXNzZW50aW5nOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5hY3RpdmVyb2xlID0gZ2V0Q2hvaWNlKCk7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLmFjdGl2ZXJvbGUgIT0gXCJkaXNzZW50XCIgKSB7XHJcblx0XHRcdFx0XHRcdGxldCBjYXJkID0gZ2V0Q2hvaWNlcygpWzBdO1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2FtZS5zdGFja3MucGlsZWNvdW50W2NhcmQubmFtZV0gPj0gMSkge1xyXG5cdFx0XHRcdFx0XHRcdGdldEFjdFBseXIoKS5ic3RJY29uc1sgY2FyZC5uYW1lIF0rKztcclxuXHRcdFx0XHRcdFx0XHRsZXQgbmV3Y2FyZCA9IE9iamVjdC5hc3NpZ24oXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IGdlbl91bmlxdWVfaWQoKSxcclxuXHRcdFx0XHRcdFx0XHRcdGZpbkRlc3Q6IFwiZGlzY2FyZFwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IHRydWVcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdGdhbWUuc3RhY2tzLnJvbGVjYXJkc1tnYW1lLnN0YWNrc1tjYXJkLm5hbWVdXVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0Z2V0QWN0UGx5cigpLmxpbWJvID0gWy4uLmdldEFjdFBseXIoKS5saW1ibywgbmV3Y2FyZF07XHJcblx0XHRcdFx0XHRcdFx0Z2FtZS5zdGFja3MucGlsZWNvdW50W2NhcmQubmFtZV0tLTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChjYXJkLm5hbWUgIT0gXCJjb2xvbml6ZVwiKSB7XHJcblx0XHRcdFx0XHRcdFx0Ym9vc3RXaXRoSWNvbnMoZ2V0QWN0UGx5cigpLGNhcmQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0ZHJhdyggZ2V0QWN0UGx5cigpICk7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJkaXNzZW5zaW9uXCIpLmxlbmd0aCAhPSAwICkge1xyXG5cdFx0XHRcdFx0XHRcdGRyYXcoIGdldEFjdFBseXIoKSApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgLy93aWxsIGF1dG8gcGFzcyB0byBuZXh0IHBoYXNlIGlmIGZvbGxvdyBoYXMgYmVlbiBzZWxlY3RlZFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJDaG9vc2UgY2FyZHMgZnJvbSB5b3VyIGhhbmQgdG8gQm9vc3QgdGhlIGVmZmVjdGl2ZW5lc3Mgb2YgeW91ciBSb2xlXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkgLmFjdGl2ZXJvbGUgPT0gXCJkaXNzZW50XCIgKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUgLCB0cnVlICwgWyBcImhhbmRcIiBdLCBcImNob2ljZXNcIixmaW5pc2ggICApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJCb29zdGluZyB5b3VyIFJvbGVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKS5hY3RpdmVyb2xlID09IFwiZGlzc2VudFwiICkge1xyXG5cdFx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgY2FyZHMgPSBnZXRDaG9pY2VzO1xyXG5cdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgaW4gY2FyZHMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGJvb3N0V2l0aEljb25zKGdldEFjdFBseXIoKSxjYXJkc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdC8vVE9ETzogdGFsbHkgdXAgaWNvbnMgb24gcGxhbmV0c1xyXG5cdFx0XHRcdFx0XHRcdC8vVE9ETzogdGFsbHkgdXAgaWNvbnMgb24gdGVjaG5vbG9naWVzXHJcblx0XHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQuLi5nZXRGb2xsb3dDb3JlUGhhc2VzKCksXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIlBhc3MgdGhlIGRldmljZSB0byB0aGUgTmV4dCBQbGF5ZXJcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmUgPSBcIlwiO1xyXG5cdFx0XHRcdFx0XHRnYW1lLnBhc3NwID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIllvdSBwYXNzZWQgUHJpb3JpdHlcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRnYW1lLnBhc3NwID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCh0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gZGlzY2FyZCA6IDJcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0ZGlzY2FyZDogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJXb3VsZCB5b3UgbGlrZSB0byBNb2JpbGl6ZSBhZ2FpbnN0IGEgUGxhbmV0XCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkgLmFjdGl2ZWFjdGlvbiAhPSBcIm1vYmlsaXphdGlvblwiICkge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUgLCBmYWxzZSAsIFsgXCJvcHRpb25zXCIsIFt7IG5hbWU6IFwibW9iaWxpemVcIiB9LCB7IG5hbWU6IFwic2tpcFwiIH1dIF0sIFwiY2hvaWNlc1wiLGZpbmlzaCAgICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIkNob29zZSBhIFBsYW5ldCB0byBNb2JpbGl6ZSBBZ2FpbnN0XCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkgLmFjdGl2ZWFjdGlvbiAhPSBcIm1vYmlsaXphdGlvblwiIHx8ICBnZXRDaG9pY2UoKSAhPSBcIm1vYmlsaXplXCIgKSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvZmZlclVuc2V0dGxlZCgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJNb2JhbGl6aW5nIGFnYWluc3QgeW91ciBQbGFuZXRcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKS5hY3RpdmVhY3Rpb24gIT0gXCJtb2JpbGl6YXRpb25cIiApIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGNvbnF1ZXIoZ2V0U3ViQ2hvaWNlKCksIGdldEFjdFBseXIoKSApO1xyXG5cdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIldvdWxkIHlvdSBsaWtlIHRvIFN0cmVhbWxpbmUgWW91ciBFbXBpcmVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJzdHJlYW1saW5pbmdcIiApLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0b2ZmZXIoIGZhbHNlICwgZmFsc2UgLCBbIFwib3B0aW9uc1wiLCBbeyBuYW1lOiBcIkRlY2xpbmVcIiB9LCB7IG5hbWU6IFwiU3RyZWFtbGluZSBFbXBpcmVcIiB9XSAgXSwgXCJjaG9pY2VzXCIsZmluaXNoICAgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiQ2hvb3NlIGEgQ2FyZCBmcm9tIFlvdXIgSGFuZCB0byBSZW1vdmUgZnJvbSB0aGUgR2FtZVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJzdHJlYW1saW5pbmdcIikubGVuZ3RoID09IDAgfHwgZ2V0Q2hvaWNlKCkgIT0gXCJTdHJlYW1saW5lIEVtcGlyZVwiXHJcblx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUgLCBmYWxzZSAsIFsgXCJoYW5kXCIgXSwgXCJzdWJjaG9pY2VzXCIsIGZpbmlzaCApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJTdHJlYW1saW5pbmcgWW91ciBFbXBpcmVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKS5wZXJtYW5lbnRzLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwic3RyZWFtbGluaW5nXCIgKS5sZW5ndGggPT0gMCB8fCBnZXRDaG9pY2UoKSAhPSBcIlN0cmVhbWxpbmUgRW1waXJlXCIgfHwgZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIgKSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRyZXNlYXJjaCggZ2V0Q2hvaWNlcygpLCBnZXRBY3RQbHlyKCksIDEgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiV291bGQgeW91IGxpa2UgdG8gVXRpbGl6ZSBZb3VyIEVtcGlyZSdzIEh5cGVyZWZmaWNpZW5jeVwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICggZ2V0QWN0UGx5cigpLnBlcm1hbmVudHMuZmlsdGVyKGVsID0+IGVsLnR5cGUgPT0gXCJoeXBlcmVmZmljaWVuY3lcIiApLmxlbmd0aCA9PSAwICkge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2ltcGxlT2ZmZXIoW1wiRGVjbGluZVwiLCBcIlV0aWxpemUgSHlwZXJlZmZpY2llbmN5XCIgXSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIkNob29zZSBhIENhcmQgZnJvbSBZb3VyIEhhbmQgdG8gUmVtb3ZlIGZyb20gdGhlIEdhbWVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGdldEFjdFBseXIoKS5wZXJtYW5lbnRzLmZpbHRlcihlbCA9PiBlbC50eXBlID09IFwiaHlwZXJlZmZpY2llbmN5XCIpLmxlbmd0aCA9PSAwIHx8IGdldENob2ljZSgpICE9IFwiVXRpbGl6ZSBIeXBlcmVmZmljaWVuY3lcIiApIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdG9mZmVyKCB0cnVlICwgdHJ1ZSAsIFsgXCJoYW5kXCIgXSwgXCJzdWJjaG9pY2VzXCIsZmluaXNoICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIllvdXIgRW1waXJlIGlzIEh5cGVyZWZmaWNpZW50XCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCBnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoZWwgPT4gZWwudHlwZSA9PSBcImh5cGVyZWZmaWNpZW5jeVwiKS5sZW5ndGggPT0gMCB8fCBnZXRDaG9pY2UoKSAhPSBcIlV0aWxpemUgSHlwZXJlZmZpY2llbmN5XCIgfHwgZ2V0Q2hvaWNlKCkgPT0gXCJTa2lwXCIgKSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRyZXNlYXJjaCggZ2V0Q2hvaWNlcygpLCBnZXRBY3RQbHlyKCksIGdldENob2ljZXMoKS5sZW5ndGggKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiQ2hvb3NlIGFueSBDYXJkcyB5b3Ugd291bGQgbGlrZSB0byBEaXNjYXJkXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0b2ZmZXIoIHRydWUgLCB0cnVlLCBbIFwiaGFuZFwiIF0sIFwiY2hvaWNlc1wiLCBmaW5pc2ggKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIkRpc2NhcmRpbmcgeW91ciBTZWxlY3RlZCBDYXJkc1wiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChnZXRDaG9pY2UoKSA9PSBcIlNraXBcIikge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Z2V0Q2hvaWNlcygpLmZvckVhY2goKGNhcmQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkuZGlzY2FyZCA9IFsuLi5nZXRBY3RQbHlyKCkuZGlzY2FyZCxjYXJkXTtcclxuXHRcdFx0XHRcdFx0XHRnZXRBY3RQbHlyKCkubGltYm8gPSBnZXRBY3RQbHlyKCkubGltYm8uZmlsdGVyKGM9PmMuaWQhPWNhcmQuaWQpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Ly9jbGVhbnVwIDogMVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRjbGVhbnVwOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcIkRyYXdpbmcgdXAgdG8geW91ciBIYW5kIFNpemVcIjogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjbGVhbnVwKCk7XHJcblx0XHRcdFx0XHRcdGxldCBoYW5kc2l6ZSA9IGdldEFjdFBseXIoKS5oYW5kc2l6ZTtcclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaW5kZXggaW4gZ2V0QWN0UGx5cigpLnNldHRsZWRfcGxhbmV0cykge1xyXG5cdFx0XHRcdFx0XHRoYW5kc2l6ZSArPSBnZXRBY3RQbHlyKCkuc2V0dGxlZF9wbGFuZXRzW2luZGV4XS5oYW5kc2l6ZV9tb2RpZmllcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpbmRleCBpbiBnZXRBY3RQbHlyKCkuY29ucXVlcmVkX3BsYW5ldHMpIHtcclxuXHRcdFx0XHRcdFx0aGFuZHNpemUgKz0gZ2V0QWN0UGx5cigpLmNvbnF1ZXJlZF9wbGFuZXRzW2luZGV4XS5oYW5kc2l6ZV9tb2RpZmllcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRsZXQgbCA9IGdldEFjdFBseXIoKS5oYW5kLmxlbmd0aDtcclxuXHRcdFx0XHRcdFx0aWYgKGwgPCBoYW5kc2l6ZSkge1xyXG5cdFx0XHRcdFx0XHRkcmF3KCBnZXRBY3RQbHlyKCksIGhhbmRzaXplIC0gbCApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGdhbWUucGxheWVycy5mb3JFYWNoKHJlc2V0SWNvbkJvb3N0KTtcclxuXHRcdFx0XHRcdFx0aWYgKCBnYW1lLnN0YXJ0ZWQgJiYgY2hlY2tmb3JlbmRnYW1lKCkgJiYgKGdhbWUucGxheWVycy5yZWR1Y2UoKHQsIHApID0+IHQgKyBwLnJvdW5kcywgMCkgJSBnYW1lLm51bWJlcl9vZl9wbGF5ZXJzKSA9PSAwICkge1xyXG5cdFx0XHRcdFx0XHR0b3RhbGluZmx1ZW5jZSgpO1xyXG5cdFx0XHRcdFx0XHRnYW1lLm5leHRwaGFzZSA9IGVuZGdhbWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZmluaXNoKHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiUGFzcyB0aGUgZGV2aWNlIHRvIHRoZSBOZXh0IFBsYXllclwiOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZSA9IFwiXCI7XHJcblx0XHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uc2hvd29wdGlvbnRvc2tpcCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRnYW1lLmRpc3BsYXlpbmZvLmFsbG93Zm9ybXVsdGlwbGVzZWxlY3Rpb25zID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdGdhbWUucGFzc3AgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0Z2FtZS5wYXNzdCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XCJZb3UgcGFzc2VkIHRoZSBUdXJuXCI6ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Z2FtZS5wYXNzdCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRmaW5pc2godHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XSxcclxuXHRcdFx0cGxheWVyczogW10sXHJcblx0XHRcdHdpbm5lcjogZmFsc2UsXHJcblx0XHRcdHN0YWNrczoge1xyXG5cdFx0XHRcdHBpbGVjb3VudDogeyByZXNlYXJjaDogMjAsIHByb2R1Y2V0cmFkZTogMTYsIGNvbG9uaXplOiAyMCwgd2FyZmFyZTogMTYsIHN1cnZleTogMjAgfSxcclxuXHRcdFx0XHRzdXJ2ZXk6IDAsIHdhcmZhcmU6IDEsIGNvbG9uaXplOiAyLCBwcm9kdWNldHJhZGU6IDMsIHJlc2VhcmNoOiA0LCAvL2luZGV4ZXNcclxuXHRcdFx0XHRyb2xlY2FyZHM6IFtcclxuXHRcdFx0XHRnZW5FbXB0eUNhcmQoXCJzdXJ2ZXlcIixcIlN1cnZleVwiLHtzdXJ2ZXk6MX0pLFxyXG5cdFx0XHRcdGdlbkVtcHR5Q2FyZChcIndhcmZhcmVcIixcIldhcmZhcmVcIix7d2FyZmFyZToxfSksXHJcblx0XHRcdFx0Z2VuRW1wdHlDYXJkKFwiY29sb25pemVcIixcIkNvbG9uaXplXCIse2NvbG9uaXplOjF9KSxcclxuXHRcdFx0XHRnZW5FbXB0eUNhcmQoXCJwcm9kdWNldHJhZGVcIixcIlByb2R1Y2UgLyBUcmFkZVwiLHsgcHJvZHVjZToxLCB0cmFkZToxfSksXHJcblx0XHRcdFx0Z2VuRW1wdHlDYXJkKFwicmVzZWFyY2hcIixcIlJlc2VhcmNoXCIse3Jlc2VhcmNoOjF9LHtyZXNlYXJjaF9kZWNrOiBbXX0pLFxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRsZXQgdXJsID0gbG9jYXRpb24ub3JpZ2luLnJlcGxhY2UoL15odHRwLywgXCJ3c1wiKTsgXHJcblx0XHRcdGxvYmJ5ID0ge1xyXG5cdFx0XHRcdHNjcmVlbm5hbWU6IFwiXCIsXHJcblx0XHRcdFx0dXJsOiB1cmwsXHJcblx0XHRcdFx0c2V0czogW1wiQmFzZSBHYW1lXCJdLFxyXG5cdFx0XHRcdG51bWJlcl9vZl9wbGF5ZXJzOiBbMiwgMywgNF0sXHJcblx0XHRcdFx0ZXhpc3RpbmdnYW1lczogW11cclxuXHRcdFx0fTtcclxuXHRcdFx0Z2FtZS5ub25jZSA9IG5vbmNlO1xyXG5cdFx0XHRtb3VudGVkID0gdHJ1ZTtcclxuXHRcclxuXHRcdFxyXG5cdFxyXG5cdH0pXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cdGxldCAgXHRjbGVhck9wdGlvbnMgPSAoKSA9PiBnYW1lLm9wdGlvbnMgPSBbXSxcclxuXHRcdFx0b2ZmZXJVbnNldHRsZWQgPSAoKSA9PiBvZmZlciggZmFsc2UsICBmYWxzZSwgW1widW5zZXR0bGVkX3BsYW5ldHNcIl0sIFwic3ViY2hvaWNlc1wiLCBmaW5pc2gpLFxyXG4gICAgICAgICAgICBnZXRBY3Rpb25DYXJkUGhhc2VzID0gKCkgPT4gYWN0aW9uY2FyZHBoYXNlcyxcclxuICAgICAgICAgICAgZ2V0QWN0dkFjdG4gPSAoKSA9PiBnZXRBY3RQbHlyKCkuYWN0aXZlYWN0aW9uLFxyXG4gICAgICAgICAgICBnZXRBY3R2Um9sZSA9ICgpID0+IGdldEFjdFBseXIoKS5hY3RpdmVyb2xlLFxyXG4gICAgICAgICAgICBnZXRDaG9pY2UgPSAoKSA9PiBnYW1lLmNob2ljZXNbMF0ubmFtZSxcclxuICAgICAgICAgICAgZ2V0Q2hvaWNlcyA9ICgpID0+IGdhbWUuY2hvaWNlcyxcclxuICAgICAgICAgICAgZ2V0U3ViQ2hvaWNlID0gKCkgPT4gZ2V0U3ViQ2hvaWNlcygpWzBdLFxyXG4gICAgICAgICAgICBnZXRTdWJDaG9pY2VzID0gKCkgPT4gZ2FtZS5zdWJjaG9pY2VzLFxyXG4gICAgICAgICAgICBmaW5pc2ggPSAoY29uZD1mYWxzZSkgPT4gcGhhc2VmaW5pc2hmdW5jdGlvbihjb25kKSxcclxuICAgICAgICAgICAgZ2V0QWN0UGx5ciA9ICgpID0+IGdhbWUucGxheWVyc1tnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXhdLFxyXG4gICAgICAgICAgICBnZXRMZWFkUGx5ciA9ICgpID0+IGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XSxcclxuICAgICAgICAgICAgc2ltcGxlT2ZmZXIgPSAoY2hvaWNlcykgPT4gb2ZmZXIoIGZhbHNlLCBmYWxzZSwgW1wib3B0aW9uc1wiLCBjaG9pY2VzLnJlZHVjZSgoYWNjLGN1cik9PlsuLi5hY2Mse25hbWU6Y3VyfV0sW10pXSwgXCJjaG9pY2VzXCIsIGZpbmlzaCksXHJcbiAgICAgICAgICAgIHdyYXBwZWRPZmZlciA9IChjaG9pY2VzKSA9PiAoKSA9PiBzaW1wbGVPZmZlcihjaG9pY2VzKSxcclxuICAgICAgICAgICAgZ2V0QWN0aW9uQ29yZVBoYXNlcyA9ICgpID0+IGNvcmVwaGFzZXMucmVkdWNlKChhY2MsY3VyKT0+Wy4uLmFjYyxjdXIuYWN0bl0sW10pLnJlZHVjZSgoYWNjLGN1cik9PlsuLi5hY2MsLi4uY3VyXSxbXSksXHJcbiAgICAgICAgICAgIGdldExlYWRDb3JlUGhhc2VzID0gICAoKSA9PiBjb3JlcGhhc2VzLnJlZHVjZSgoYWNjLGN1cik9PlsuLi5hY2MsY3VyLmxlYWRdLFtdKS5yZWR1Y2UoKGFjYyxjdXIpPT5bLi4uYWNjLC4uLmN1cl0sW10pLFxyXG4gICAgICAgICAgICBnZXRGb2xsb3dDb3JlUGhhc2VzID0gKCkgPT4gY29yZXBoYXNlcy5yZWR1Y2UoKGFjYyxjdXIpPT5bLi4uYWNjLGN1ci5mbGx3XSxbXSkucmVkdWNlKChhY2MsY3VyKT0+Wy4uLmFjYywuLi5jdXJdLFtdKSxcclxuICAgICAgICAgICAgZ2VuQWN0aW9uUGhhc2UgPSAobmFtZSxhY3Rpb25zLHBoYXNlLGNob2ljZXM9W10sY29uZD1mYWxzZSkgPT4gKHsgW25hbWVdIDogKCk9PnsgaWYgKCBhY3Rpb25zLmluY2x1ZGVzKGdldEFjdHZBY3RuKCkpICYmIChjaG9pY2VzLmxlbmd0aD09MCB8fCBjaG9pY2VzLmluY2x1ZGVzKGdldENob2ljZSgpKSkpIHsgcGhhc2UoKSB9IGVsc2UgeyBmaW5pc2goY29uZCkgfSB9fSksXHJcbiAgICAgICAgICAgIGdlbkxlYWRQaGFzZSAgID0gKG5hbWUsYWN0aW9ucyxwaGFzZSxjaG9pY2VzPVtdLGNvbmQ9ZmFsc2UpID0+ICh7IFtuYW1lXSA6ICgpPT57IGlmICggYWN0aW9ucy5pbmNsdWRlcyhnZXRBY3R2Um9sZSgpKSAmJiAoY2hvaWNlcy5sZW5ndGg9PTAgfHwgY2hvaWNlcy5pbmNsdWRlcyhnZXRDaG9pY2UoKSkpKSB7IHBoYXNlKCkgfSBlbHNlIHsgZmluaXNoKGNvbmQpIH0gfX0pLFxyXG4gICAgICAgICAgICBnZW5Gb2xsb3dQaGFzZSA9IChuYW1lLGFjdGlvbnMscGhhc2UsY2hvaWNlcz1bXSxjb25kPWZhbHNlKSA9PiAoeyBbbmFtZV0gOiAoKT0+eyBpZiAoIGFjdGlvbnMuaW5jbHVkZXMoZ2V0QWN0dlJvbGUoKSkgJiYgKGNob2ljZXMubGVuZ3RoPT0wIHx8IGNob2ljZXMuaW5jbHVkZXMoZ2V0Q2hvaWNlKCkpKSkgeyBwaGFzZSgpIH0gZWxzZSB7IGZpbmlzaChjb25kKSB9IH19KSxcclxuICAgICAgICAgICAgZ2VuRW1wdHlDYXJkID0gKHR5cGUsIG5hbWUsIHN5bWJvbHMsIGV4dHJhcz17fSkgPT4gKHsgdHlwZTogdHlwZSxzZWxlY3RlZDogZmFsc2UsIG5hbWU6IG5hbWUsIHNlbGVjdGVkOiBmYWxzZSwgaWNvbnM6IHsuLi57IHN1cnZleTogMCwgd2FyZmFyZTogMCwgY29sb25pemU6IDAsIHByb2R1Y2U6IDAsIHRyYWRlOiAwLCByZXNlYXJjaDogMX0sLi4uc3ltYm9sc30saW1hZ2U6IG51bGwsIC4uLmV4dHJhc30pLFxyXG4gICAgICAgICAgICB0YWxseUljb25zID0gKGRlc3Qsc3JjKSA9PiBbXCJzdXJ2ZXlcIixcIndhcmZhcmVcIixcInRyYWRlXCIsXCJwcm9kdWNlXCIsXCJyZXNlYXJjaFwiLC8qXCJjb2xvbml6ZVwiKi9dLmZvckVhY2goIGljb24gPT4gZGVzdC5pY29uc1tpY29uXSArPSBzcmMuaWNvbnNbaWNvbl0gKSxcclxuICAgICAgICAgICAgaGFuZFRvTGltYm9XaXRoTGltYm9EdXBsaWNhdGVQdXJnZSA9IChwbHlyLGNhcmQpID0+IHsgcm1Gcm9tRmllbGQoXCJsaW1ib1wiLHBseXIsY2FyZCk7IGhhbmRUb0xpbWJvKHBseXIsY2FyZCk7fSxcclxuICAgICAgICAgICAgaGFuZFRvTGltYm8gPSAocGx5cixjYXJkKSA9PiB7cGxheVRvRmllbGQoXCJsaW1ib1wiLHBseXIsY2FyZCwnZGlzY2FyZCcpOyBybUZyb21GaWVsZChcImhhbmRcIixwbHlyLGNhcmQpO30sXHJcbiAgICAgICAgICAgIGxpbWJvVG9IYW5kID0gKHBseXIsY2FyZCkgPT4ge3BsYXlUb0ZpZWxkKFwiaGFuZFwiLHBseXIsY2FyZCwnJyk7IHJtRnJvbUZpZWxkKFwibGltYm9cIixwbHlyLGNhcmQpO30sXHJcbiAgICAgICAgICAgIHBsYXlUb0ZpZWxkID0gKGZsZCxwbHlyLGNhcmQsZkRlc3QpID0+IHBseXJbZmxkXSA9IFsuLi5wbHlyW2ZsZF0sIHsgLi4uY2FyZCwgZmluRGVzdDogZkRlc3QgfV0sXHJcbiAgICAgICAgICAgIHJtRnJvbUZpZWxkID0gKGZsZCxwbHlyLGNhcmQpID0+IHBseXJbZmxkXSA9IHBseXJbZmxkXS5maWx0ZXIoZWwgPT4gY2FyZC5pZCAhPSBlbC5pZCksXHJcbiAgICAgICAgICAgIGJvb3N0V2l0aEljb25zID0gKHBseXIsIHNyYykgPT4gT2JqZWN0LmtleXMoc3JjLmljb25zKS5mb3JFYWNoKChpY29uKSA9PiBwbHlyLmJzdEljb25zW2ljb25dKz1zcmMuaWNvbnNbaWNvbl0pLFxyXG4gICAgICAgICAgICByZXNldEljb25Cb29zdCA9IChwbHlyKSA9PiBwbHlyLmJzdEljb25zID0ge3N1cnZleTogMCwgd2FyZmFyZTogMCwgY29sb25pemU6IDAsIHByb2R1Y2U6IDAsIHRyYWRlOiAwLCByZXNlYXJjaDogMCB9LFxyXG4gICAgICAgICAgICByZXNldFNlbGVjdGlvbiA9IChzZWxlY3RlZCkgPT4gc2VsZWN0ZWQuZm9yRWFjaCgocykgPT4gcy5zZWxlY3RlZCA9IGZhbHNlKSxcclxuICAgICAgICAgICAgb2ZmbGluZU9ySXNDbGllbnRUdXJuID0gKCkgPT4gKGxvYmJ5LnNjcmVlbm5hbWUgPT0gZ2V0QWN0UGx5cigpLm5hbWUgfHwgIWxvYmJ5Lm9ubGluZSksXHJcbiAgICAgICAgICAgIHNldENob2ljZSA9IChjaGMpID0+IGdhbWVbZ2FtZS5kaXNwbGF5aW5mby5jaG9pY2VsYWJlbF0gPSBjaGMsXHJcbiAgICAgICAgICAgIGNsZWFuT3B0aW9ucyA9ICgpID0+IGdhbWUub3B0aW9ucz1bXSxcclxuICAgICAgICAgICAgZGlzcGxheVBsYW5ldHMgPSAoKSA9PiBnYW1lLmRpc3BsYXlpbmZvLmNlbnRlcl9vcl9wbGFuZXRzID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGRpc3BsYXlDZW50ZXIgPSAoKSA9PiBnYW1lLmRpc3BsYXlpbmZvLmNlbnRlcl9vcl9wbGFuZXRzID0gdHJ1ZSxcclxuICAgICAgICAgICAgY2xlYXJDaG9pY2VzID0gKCkgPT4gZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXSA9IFtdLFxyXG4gICAgICAgICAgICBzZXREaXNwbGF5SW5mbyA9ICh6b25lLG11bHRpcGxlLHNraXBwYWJsZSxsYWJlbCkgPT4gZ2FtZS5kaXNwbGF5aW5mbyA9IHsuLi5nYW1lLmRpc3BsYXlpbmZvLC4uLntzZWxlY3Rpb256b25lOnpvbmUsYWxsb3dmb3JtdWx0aXBsZXNlbGVjdGlvbnM6bXVsdGlwbGUsc2hvd29wdGlvbnRvc2tpcDpza2lwcGFibGUsY2hvaWNlbGFiZWw6bGFiZWx9fSxcclxuICAgICAgICAgICAgZ2V0QWxsQ2FyZHMgPSAocGx5cikgPT4gWy4uLnBseXIuZGVjaywuLi5wbHlyLmRpc2NhcmQsIC4uLnBseXIubGltYm8sIC4uLnBseXIuaGFuZF0sXHJcbiAgICAgICAgICAgIGlzUGxhbmV0ID0gKHApID0+IHAudHlwZT09J3BsYW5ldCcgfHwgcC50eXBlPT0nZmVydGlsZScgfHwgcC50eXBlPT0nbWV0YWxsaWMnIHx8IHAudHlwZT09J2FkdmFuY2VkJyxcclxuICAgICAgICAgICAgY2hrRm9yUGVybSA9IChwZXJtKSA9PiBnZXRBY3RQbHlyKCkucGVybWFuZW50cy5maWx0ZXIoIChlbCk9PmVsLnR5cGU9PXBlcm0gKS5sZW5ndGggIT0gMCxcclxuICAgICAgICAgICAgcmFuZ2UgPSAobWluLG1heCkgPT4gKG1pbiA8PSBtYXgpID8gWy4uLnJhbmdlKG1pbiwgbWF4LTEpLG1heF0gOiBbXSxcclxuICAgICAgICAgICAgc2luZ2xlQ2xsQmNrID0gKGNsbEJjayxlLGZ1bmMpID0+ICgpID0+IHtmdW5jKCk7IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0aGlzKTsgY2xsQmNrKCk7fSxcclxuICAgICAgICAgICAgcHJvZHVjZVRyYWRlSGVscGVyID0gKGZpbGxlZCxwbGFuZXRzLHJlc291cmNlcyxmdW5jPSgpPT57fSkgPT4geyBsZXQgcHJkID0ge2JsdWU6MCxncmVlbjowLHB1cnBsZTowLHJlZDowfTsgcGxhbmV0cy5mb3JFYWNoKChwbGFuZXQpID0+ICBwbGFuZXQucHJvZHVjdGlvbl96b25lcy5mb3JFYWNoKCh6b25lKT0+eyAgICAgaWYgKCF6b25lLmZpbGxlZCAmJiByZXNvdXJjZXMgPiAwKSB7ICAgICAgICAgem9uZS5maWxsZWQgPSBmaWxsZWQ7ICAgICAgICAgcHJkW3pvbmUudHlwZV0rKzsgICAgICAgICByZXNvdXJjZXMtLTsgICAgICAgICBmdW5jKCkgICAgIH0gIH0pICk7cmV0dXJuIHByZDt9O1xyXG5cdFxyXG5cdGxldCBjaG9vc2V3cmFwcGVyID0gKGMsem9uZSkgPT4ge1xyXG5cdFx0aWYgKChnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmUgPT0gem9uZSkgJiYgb2ZmbGluZU9ySXNDbGllbnRUdXJuKCkpe1xyXG5cdFx0XHQoZ2FtZS5kaXNwbGF5aW5mby5hbGxvd2Zvcm11bHRpcGxlc2VsZWN0aW9ucykgPyBtdWx0aXBsZWNob29zZShjKSA6IGNob29zZShbY10pO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0bGV0IG11bHRpcGxlY2hvb3NlID0gKGNob2ljZSkgPT4ge1xyXG5cdFx0aWYgKG9mZmxpbmVPcklzQ2xpZW50VHVybigpKXtcdFx0XHJcblx0XHRcdGlmICggIWdhbWVbZ2FtZS5kaXNwbGF5aW5mby5jaG9pY2VsYWJlbF0uaW5jbHVkZXMoY2hvaWNlKSApIHtcclxuXHRcdFx0XHRzZXRDaG9pY2UoWy4uLmdhbWVbZ2FtZS5kaXNwbGF5aW5mby5jaG9pY2VsYWJlbF0sY2hvaWNlXSk7XHJcblx0XHRcdFx0Y2hvaWNlLnNlbGVjdGVkPXRydWU7XHJcblx0XHRcdFx0aWYgKCFpc1BsYW5ldChjaG9pY2UpICYmIGNob2ljZS5uYW1lICE9ICdTa2lwJykgaGFuZFRvTGltYm8oZ2V0QWN0UGx5cigpLGNob2ljZSk7XHJcblx0XHRcdFx0Z2FtZS5wbGF5ZXJzWzBdPWdldEFjdFBseXIoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjaG9pY2Uuc2VsZWN0ZWQ9ZmFsc2U7XHJcblx0XHRcdFx0aWYgKCFpc1BsYW5ldChjaG9pY2UpICYmIGNob2ljZS5uYW1lICE9ICdTa2lwJyl7XHJcblx0XHRcdFx0XHRzZXRDaG9pY2UoZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXS5maWx0ZXIoIChlbCk9PiBlbC5pZCAhPSBjaG9pY2UuaWQgKSk7XHJcblx0XHRcdFx0XHRsaW1ib1RvSGFuZChnZXRBY3RQbHlyKCksY2hvaWNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdGxldCBjaG9vc2UgPSAoY2hvaWNlcykgPT4ge1xyXG5cdFx0aWYgKG9mZmxpbmVPcklzQ2xpZW50VHVybigpKXtcclxuXHRcdFx0Y2xlYXJPcHRpb25zKCk7XHJcblx0XHRcdHJlc2V0U2VsZWN0aW9uKGNob2ljZXMpO1xyXG5cdFx0XHRzZXRDaG9pY2UoY2hvaWNlcyk7XHJcblx0XHRcdGZpbmlzaCgpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0bGV0IHVuY2hvb3NlID0gKGNob2ljZSkgPT4ge1xyXG5cdFx0aWYgKG9mZmxpbmVPcklzQ2xpZW50VHVybigpKXtcclxuXHRcdFx0aWYgKCBnYW1lW2dhbWUuZGlzcGxheWluZm8uY2hvaWNlbGFiZWxdLmluY2x1ZGVzKGNob2ljZSkgKSB7XHJcblx0XHRcdFx0Y2hvaWNlLnNlbGVjdGVkPWZhbHNlO1xyXG5cdFx0XHRcdHNldENob2ljZSggZ2FtZVtnYW1lLmRpc3BsYXlpbmZvLmNob2ljZWxhYmVsXS5maWx0ZXIoIChlbCkgPT4gZWwuaWQgIT0gY2hvaWNlLmlkICkpO1xyXG5cdFx0XHRcdGxpbWJvVG9IYW5kKGdldEFjdFBseXIoKSxjaG9pY2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRsZXQgb2ZmZXIgPSAoXHJcblx0XHRza2lwcGFibGUgLypvcHRpb24gdG8gc2tpcCB8IHNldHMgZ2FtZS5kaXNwbGF5aW5mby5zaG93b3B0aW9udG9za2lwPWJvb2xlYW4gKi8sXHJcblx0XHRtdWx0aXBsZSAvKmFsbG93cyBtdWx0aXBsZSBjaG9pY2VzIHwgc2V0cyBnYW1lLmRpc3BsYXlpbmZvLmFsbG93Zm9ybXVsdGlwbGVzZWxlY3Rpb25zPWJvb2xlYW4gKi8sIFxyXG5cdFx0W2ZpZWxkX2xhYmVsLCBjaG9pY2VzXSAvKiBhdmFpbGFibGUgY2FyZHMgdG8gY2hvb3NlIGZyb20gfCBnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9eydoYW5kfGRpc2NhcmR8b3B0aW9uc3xwbGFuZXRzfHJlc2VhcmNofHJvbGVjYXJkcyd9LCBzZXRzIGNob2ljZXM9YXJyYXkgaWYgc3BlY2lmaWVkKi8sIFxyXG5cdFx0Y2hvaWNlX2xhYmVsIC8qIGxhYmVsIGZvciB3aGVyZSB0aGUgY2hvaWNlIGlzIHN0b3JlZCB8IHNldCB3aXRoIGdhbWVbbGFiZWxdPSovLFxyXG5cdFx0Y2FsbGJhY2sgLypjYWxsYmFjayB0aGF0IGhhbmRsZXMgdGhlIGNob2ljZSBvciBmaW5pc2hlcyB0aGUgcGhhc2UqLywgXHJcblx0KSA9PiB7XHJcblx0XHRzZXREaXNwbGF5SW5mbyhmaWVsZF9sYWJlbCxtdWx0aXBsZSxza2lwcGFibGUsY2hvaWNlX2xhYmVsKTtcclxuXHRcdHN3aXRjaCAoZmllbGRfbGFiZWwpe1xyXG5cdFx0XHRjYXNlICdoYW5kJzogY2hvaWNlcyA9IGdldEFjdFBseXIoKS5oYW5kOyBicmVhaztcclxuXHRcdFx0Y2FzZSAncmVzZWFyY2gnOiBjaG9pY2VzID0gZ2FtZS5yZXNlYXJjaF9kZWNrOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnZGlzY2FyZCc6IGNob2ljZXMgPSBnZXRBY3RQbHlyKCkuZGlzY2FyZDsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3BsYW5ldHMnOiBjaG9pY2VzID0gZ2FtZS5wbGFuZXRfZGVjazsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3JvbGVjYXJkcyc6IGNob2ljZXMgPSBnYW1lLnN0YWNrcy5yb2xlY2FyZHM7IGRpc3BsYXlDZW50ZXIoKTsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3Vuc2V0dGxlZF9wbGFuZXRzJzogY2hvaWNlcyA9IGdldEFjdFBseXIoKS51bnNldHRsZWRfcGxhbmV0czsgZGlzcGxheVBsYW5ldHMoKTsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJ3NldHRsZWRfcGxhbmV0cyc6IGNob2ljZXMgPSBnZXRBY3RQbHlyKCkuc2V0dGxlZF9wbGFuZXRzOyBkaXNwbGF5UGxhbmV0cygpOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnY29ucXVlcmVkX3BsYW5ldHMnOiBjaG9pY2VzID0gZ2V0QWN0UGx5cigpLmNvbnF1ZXJlZF9wbGFuZXRzOyBkaXNwbGF5UGxhbmV0cygpOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnc2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzJzogY2hvaWNlcyA9IFsuLi5nZXRBY3RQbHlyKCkuc2V0dGxlZF9wbGFuZXRzLCAuLi5nZXRBY3RQbHlyKCkuY29ucXVlcmVkX3BsYW5ldHNdOyBkaXNwbGF5UGxhbmV0cygpOyBicmVhaztcclxuXHRcdH1cclxuXHRcdGNsZWFyQ2hvaWNlcygpO1xyXG5cdFx0cHJlc2VudF9hc19jaG9pY2UoY2hvaWNlcyk7XHJcblx0XHRzZW5kc3RhdGUoKTtcclxuXHJcblx0fTtcclxuXHRsZXQgZGlzY2FyZCA9IChzb3VyY2VfYXJyYXksIGRlc3RpbmF0aW9uX2FycmF5LCBpZCkgPT4ge1xyXG5cdFx0bGV0IHRvUmVtb3ZlID0gc291cmNlX2FycmF5LmZpbmQoKGUpID0+IGlkID09IGUuaWQpO1xyXG5cdFx0ZGVzdGluYXRpb25fYXJyYXkgPSBbLi4uZGVzdGluYXRpb25fYXJyYXksdG9SZW1vdmVdO1xyXG5cdFx0c291cmNlX2FycmF5ID0gc291cmNlX2FycmF5LmZpbHRlcigoZSkgPT4gZS5pZCAhPSB0b1JlbW92ZS5pZCk7XHJcblx0fTtcclxuXHQvL2RyYXcgZGVjay0+aGFuZFxyXG5cdGxldCB0b3RhbGluZmx1ZW5jZSA9ICgpID0+IHtcclxuXHRcdGdhbWUucGxheWVycy5mb3JFYWNoKChwbHlyKSA9PiB7XHJcblx0XHRcdHBseXIuaW5mbHVlbmNlID0gcGx5ci5pbmZsdWVuY2UucmVkdWNlKChhY2MsY3VyKSA9PiBhY2MgKyBjdXIsMCkgKyBnZXRBbGxDYXJkcyhwbHlyKS5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYyArIGN1ci5pbmZsdWVuY2UpO1xyXG5cdFx0fSkgO1xyXG5cdH07XHJcblx0bGV0IGVuZGdhbWUgPSAoKSA9PiB7XHJcblx0XHQvL2Rpc3BsYXkgdmljdG9yXHJcblx0XHRsZXQgc2NvcmVzID0gZ2FtZS5wbGF5ZXJzLm1hcChlID0+IGUuaW5mbHVlbmNlKTtcclxuXHRcdGxldCB3aW5uZXIgPSAnJztcclxuXHRcdGxldCBoaWdoZXN0ID0gc2NvcmVzWzBdO1xyXG5cdFx0Z2FtZS5wbGF5ZXJzLm1hcCgoZSkgPT4geyBpZiAoIGhpZ2hlc3QgPCBlLmluZmx1ZW5jZSApIHsgd2lubmVyID0gZS5uYW1lOyBoaWdoZXN0ID0gZS5pbmZsdWVuY2U7IH0gfSApO1xyXG5cdH07XHJcblx0bGV0IGNoZWNrZm9yZW5kZ2FtZSA9ICgpID0+IHtcclxuXHRcdGxldCBkZXBsZXRlZHN0YWNrcyA9IGdhbWUuc3RhY2tzLnBpbGVjb3VudC5yZWR1Y2UoKGFjYyxjdXIpID0+IGFjYyArIChjdXIgPCAxKSA/IDEgOiAwLDApO1xyXG5cdFx0bGV0IHN0YWNrbGltaXQgPSAoZ2FtZS5udW1iZXJfb2ZfcGxheWVycyA9PSAxIHx8IGdhbWUubnVtYmVyX29mX3BsYXllcnMgPT0gMikgPyAxIDogMiA7XHJcblx0XHRyZXR1cm4gKCBzdGFja2xpbWl0IDw9IGRlcGxldGVkc3RhY2tzIHx8IGdhbWUuaW5mbHVlbmNlLmxlbmd0aCA9PSAwKTtcclxuXHR9O1xyXG5cdGxldCBkcmF3ID0gKHBsYXllciwgcXVhbnRpdHk9MSkgPT4ge1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgcXVhbnRpdHk7IGkrKyl7XHJcblx0XHRcdGlmICggcGxheWVyLmRlY2subGVuZ3RoID09IDApIHtcclxuXHRcdFx0XHRpZiAocGxheWVyLmRpc2NhcmQubGVuZ3RoID09IDApIHJldHVybiBwbGF5ZXI7XHJcblx0XHRcdFx0cGxheWVyLmRlY2sgPSBrbnV0aHNodWZmbGUoWy4uLnBsYXllci5kaXNjYXJkXSk7XHJcblx0XHRcdFx0cGxheWVyLmRpc2NhcmQgPSBbXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRwbGF5ZXIuaGFuZCA9IFsuLi5wbGF5ZXIuaGFuZCwgcGxheWVyLmRlY2sucG9wKCldO1xyXG5cdFx0XHRwbGF5ZXIuZGVjayA9IHBsYXllci5kZWNrO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBsYXllcjtcclxuXHR9O1xyXG5cdGxldCBwbGF5ID0gKHNvdXJjZV9hcnJheSwgZGVzdGluYXRpb25fYXJyYXksIGZpbkRlc3QsIGlkKSA9PiB7XHJcblx0XHRsZXQgdG9SZW1vdmUgPSBzb3VyY2VfYXJyYXkuZmluZCgoZSkgPT4gaWQgPT0gZS5pZCk7XHJcblx0XHRkZXN0aW5hdGlvbl9hcnJheSA9IFsuLi5kZXN0aW5hdGlvbl9hcnJheSx7Li4udG9SZW1vdmUsZmluRGVzdDpmaW5EZXN0fV07XHJcblx0XHRzb3VyY2VfYXJyYXkgPSBzb3VyY2VfYXJyYXkuZmlsdGVyKChlKSA9PiBlLmlkICE9IHRvUmVtb3ZlLmlkKTtcclxuXHR9O1xyXG5cdGxldCBnZW5fcmVzZWFyY2hfY2FyZCA9IChuYW1lKSA9PiB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRuYW1lOm5hbWUsXHJcblx0XHRcdHR5cGU6bmFtZSxcclxuXHRcdFx0aWQ6Z2VuX3VuaXF1ZV9pZCgpLFxyXG5cdFx0XHRpY29uczp7J3N1cnZleSc6MCwnd2FyZmFyZSc6MCwnY29sb25pemUnOjAsJ3Byb2R1Y2UnOjAsJ3RyYWRlJzowLCdyZXNlYXJjaCc6MH0sXHJcblx0XHRcdHBsYW5ldF9yZXF1aXJlbWVudHM6eydhZHZhbmNlZCc6MCwgJ21ldGFsbGljJzowLCAnZmVydGlsZSc6MH0sXHJcblx0XHRcdHJlc2VhcmNoX2Nvc3Q6MCxcclxuXHRcdFx0YWN0aW9uOigpPT57fSxcclxuXHRcdFx0aXNfcGVybWFuZW50OmZhbHNlLFxyXG5cdFx0XHRpc19kb3VibGVzaWRlZDpmYWxzZSxcclxuXHRcdFx0aW1ndXJsOlwiL2ltYWdlcy9cIixcclxuXHRcdFx0SW5mbHVlbmNlX3ZhbHVlOjAsXHJcblx0XHRcdGltZzpmdW5jdGlvbihpbSl7dGhpcy5pbWd1cmwrPWltO3JldHVybiB0aGlzO30sXHJcblx0XHRcdGluZmx1ZW5jZTpmdW5jdGlvbihpbmYpe3RoaXMuaW5mbHVlbmNlX3ZhbHVlID0gaW5mIDsgcmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0bWV0YWxsaWM6ZnVuY3Rpb24obWV0KXt0aGlzLnBsYW5ldF9yZXF1aXJlbWVudHMubWV0YWxsaWMgPSBtZXQgOyByZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRhZHZhbmNlZDpmdW5jdGlvbihhZHYpe3RoaXMucGxhbmV0X3JlcXVpcmVtZW50cy5hZHZhbmNlZCA9IGFkdjsgcmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0ZmVydGlsZTpmdW5jdGlvbihmZXIpe3RoaXMucGxhbmV0X3JlcXVpcmVtZW50cy5mZXJ0aWxlID0gZmVyOyByZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRyZXNlYXJjaDpmdW5jdGlvbihyZXMpe3RoaXMucmVzZWFyY2hfY29zdCA9IHJlczsgcmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0cGVybWFuZW50OmZ1bmN0aW9uKCl7dGhpcy5pc19wZXJtYW5lbnQgPSB0cnVlOyByZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRkb3VibGVzaWRlOmZ1bmN0aW9uKCl7dGhpcy5pc19kb3VibGVzaWRlZCA9IHRydWU7IHJldHVybiB0aGlzO30sXHJcblx0XHRcdGljb25zOmZ1bmN0aW9uKGljb25zKXt0aGlzLmljb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLmljb25zLCBpY29ucyk7IHJldHVybiB0aGlzO30sXHJcblx0XHRcdGltcHJvdmVkX2NvbG9uaXplOmZ1bmN0aW9uKCl7dGhpcy5yZXNlYXJjaCgzKTt0aGlzLmltZ3VybCs9XCJpbXByb3ZlZGNvbG9uaXplXCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfc3VydmV5OiAgZnVuY3Rpb24oKXt0aGlzLnJlc2VhcmNoKDMpO3RoaXMuaW1ndXJsKz1cImltcHJvdmVkc3VydmV5XCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfcmVzZWFyY2g6ZnVuY3Rpb24oKXt0aGlzLnJlc2VhcmNoKDMpO3RoaXMuaW1ndXJsKz1cImltcHJvdmVkcmVzZWFyY2hcIjtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRpbXByb3ZlZF93YXJmYXJlOiBmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goMyk7dGhpcy5pbWd1cmwrPVwiaW1wcm92ZWR3YXJmYXJlXCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfcHJvZHVjdGlvbjpmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goMyk7dGhpcy5pbWd1cmwrPVwiaW1wcm92ZWRwcm9kdWN0aW9uXCI7cmV0dXJuIHRoaXM7fSxcclxuXHRcdFx0aW1wcm92ZWRfdHJhZGU6ICBcdFx0ZnVuY3Rpb24oKXt0aGlzLnJlc2VhcmNoKDMpO3RoaXMuaW1ndXJsKz1cImltcHJvdmVkdHJhZGVcIjtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRzdXJ2ZXl0ZWFtOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnc3VydmV5JzoyfSkuaW1nKCdzdXJ2ZXl0ZWFtJyk7fSxcclxuXHRcdFx0d2FycGF0aDpcdFx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnd2FyZmFyZSc6Mn0pLmltZygnd2FycGF0aCcpO30sXHJcblx0XHRcdHRlcnJhZm9ybWluZzpcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLmZlcnRpbGUoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnY29sb25pemUnOjJ9KS5pbWcoJ3RlcnJhZm9ybWluZycpO30sXHJcblx0XHRcdGdlbmV0aWNlbmdpbmVlcmluZzpcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuZmVydGlsZSgyKS5pbmZsdWVuY2UoMikuaWNvbnMoeydwcm9kdWNlJzoyfSkuaW1nKCdnZW5ldGljZW5naW5lZXJpbmcnKTt9LFxyXG5cdFx0XHRhcnRpZmljaWFsaW50ZWxsaWdlbmNlOlx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg1KS5mZXJ0aWxlKDIpLmluZmx1ZW5jZSgyKS5pY29ucyh7J2NvbG9uaXplJzoxLCdwcm9kdWNlJzoxfSkuaW1nKCdhcnRpZmljaWFsaW50ZWxsaWdlbmNlJyk7fSxcclxuXHRcdFx0ZGl2ZXJzZW1hcmtldHM6XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuYWR2YW5jZWQoMikuaW5mbHVlbmNlKDIpLmljb25zKHsncmVzZWFyY2gnOjEsJ3RyYWRlJzoxfSkuaW1nKCdkaXZlcnNlbWFya2V0cycpO30sXHJcblx0XHRcdHNwZWNpYWxpemF0aW9uOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuYWR2YW5jZWQoMikuaW5mbHVlbmNlKDIpLmljb25zKHsndHJhZGUnOjJ9KS5pbWcoJ3NwZWNpYWxpemF0aW9uJyk7fSxcclxuXHRcdFx0bW9iaWxpemF0aW9uOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLmljb25zKHsnc3VydmV5JzoxLCd3YXJmYXJlJzoxfSkuaW1nKCdtb2JpbGl6YXRpb24nKTt9LFxyXG5cdFx0XHRkYXRhbmV0d29yazpcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLmFkdmFuY2VkKDIpLmluZmx1ZW5jZSgyKS5pY29ucyh7J3Jlc2VhcmNoJzoyfSkuaW1nKCdkYXRhbmV0d29yaycpO30sXHJcblx0XHRcdGFidW5kYW5jZTogICBcdFx0XHRmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goNSk7dGhpcy5pbWd1cmwrPVwiYWJ1bmRhbmNlXCI7IHRoaXMuaXNfZG91Ymxlc2lkZWQ9dHJ1ZTsgdGhpcy5pc19wZXJtYW5lbnQ9dHJ1ZTsgcmV0dXJuIHRoaXMuZmVydGlsZSgyKS5pbmZsdWVuY2UoMik7fSxcclxuXHRcdFx0YWRhcHRhYmlsaXR5Olx0XHQgICBcdGZ1bmN0aW9uKCl7dGhpcy5yZXNlYXJjaCg3KTt0aGlzLmltZ3VybCs9XCJhZGFwdGFiaWxpdHlcIjsgdGhpcy5pc19kb3VibGVzaWRlZD10cnVlOyB0aGlzLmlzX3Blcm1hbmVudD10cnVlOyByZXR1cm4gdGhpcy5hZHZhbmNlZCgzKS5pbmZsdWVuY2UoNSk7fSxcclxuXHRcdFx0YnVyZWF1Y3JhY3k6ICBcdFx0XHRmdW5jdGlvbigpe3RoaXMucmVzZWFyY2goNyk7dGhpcy5pbWd1cmwrPVwiYnVyZWF1Y3JhY3lcIjsgdGhpcy5pc19kb3VibGVzaWRlZD10cnVlOyB0aGlzLmlzX3Blcm1hbmVudD10cnVlOyByZXR1cm4gdGhpcy5mZXJ0aWxlKDMpLmluZmx1ZW5jZSg1KTt9LFxyXG5cdFx0XHRkaXNzZW5zaW9uOlx0XHRcdFx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg3KS5mZXJ0aWxlKDMpLmluZmx1ZW5jZSg1KS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdkaXNzZW5zaW9uJyk7fSxcclxuXHRcdFx0aHlwZXJlZmZpY2llbmN5Olx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDcpLmFkdmFuY2VkKDMpLmluZmx1ZW5jZSg1KS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdoeXBlcmVmZmljaWVuY3knKTt9LFxyXG5cdFx0XHRpbXBlcmlhbGlzbTpcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLm1ldGFsbGljKDIpLmluZmx1ZW5jZSgyKS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdpbXBlcmlhbGlzbScpLmljb25zKHsnc3VydmV5JzoxLCd0cmFkZSc6MSwnd2FyZmFyZSc6MSx9KTt9LFxyXG5cdFx0XHRsb2dpc3RpY3M6XHRcdFx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDcpLm1ldGFsbGljKDMpLmluZmx1ZW5jZSg1KS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCdsb2dpc3RpY3MnKTt9LFxyXG5cdFx0XHRwcm9kdWN0aXZpdHk6XHRcdFx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg3KS5tZXRhbGxpYygzKS5pbmZsdWVuY2UoNSkucGVybWFuZW50KCkuZG91Ymxlc2lkZSgpLmltZygncHJvZHVjdGl2aXR5Jyk7fSxcclxuXHRcdFx0c2NvcmNoZWRlYXJ0aHBvbGljeTpcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkubWV0YWxsaWMoMikuaW5mbHVlbmNlKDIpLnBlcm1hbmVudCgpLmRvdWJsZXNpZGUoKS5pbWcoJ3Njb3JjaGVkZWFydGhwb2xpY3knKTt9LFxyXG5cdFx0XHRzdHJlYW1saW5pbmc6XHRcdFx0ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNlYXJjaCg1KS5hZHZhbmNlZCgyKS5pbmZsdWVuY2UoMikucGVybWFuZW50KCkuZG91Ymxlc2lkZSgpLmltZygnc3RyZWFtbGluaW5nJyk7fSxcclxuXHRcdFx0d2VhcG9uc2VtcG9yaXVtOlx0XHRmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2VhcmNoKDUpLmFkdmFuY2VkKDIpLmluZmx1ZW5jZSgyKS5wZXJtYW5lbnQoKS5kb3VibGVzaWRlKCkuaW1nKCd3ZWFwb25lbXBvcml1bScpO30sXHJcblx0XHRcdGZlcnRpbGVncm91bmRzOlx0XHRcdGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZWFyY2goNSkuZmVydGlsZSgyKS5pbmZsdWVuY2UoMikucGVybWFuZW50KCkuZG91Ymxlc2lkZSgpLmltZygnZmVydGlsZWdyb3VuZHMnKS5pY29ucyh7J3Jlc2VhcmNoJzoxLCdjb2xvbml6ZSc6MSwncHJvZHVjZSc6MSx9KTt9LFxyXG5cdFx0fVxyXG5cdH07XHJcblx0bGV0IGdlbl9yZXNlYXJjaF9kZWNrID0gKCkgPT4ge1xyXG5cdFx0Z2FtZS5yZXNlYXJjaF9kZWNrID1bXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9wcm9kdWN0aW9uJykubWV0YWxsaWMoMSkuaWNvbnMoeyd3YXJmYXJlJzoxLCdwcm9kdWNlJzoxfSkuaW1wcm92ZWRfcHJvZHVjdGlvbigpLmltZyhcIndwLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Byb2R1Y3Rpb24nKS5tZXRhbGxpYygxKS5pY29ucyh7J3N1cnZleSc6MSwncHJvZHVjZSc6MX0pLmltcHJvdmVkX3Byb2R1Y3Rpb24oKS5pbWcoXCJzcC5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF90cmFkZScpICAgICAubWV0YWxsaWMoMSkuaWNvbnMoeydzdXJ2ZXknOjEsJ3RyYWRlJzoxfSkuaW1wcm92ZWRfdHJhZGUoKS5pbWcoXCJzdC5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF90cmFkZScpICAgICAubWV0YWxsaWMoMSkuaWNvbnMoeyd3YXJmYXJlJzoxLCd0cmFkZSc6MX0pLmltcHJvdmVkX3RyYWRlKCkuaW1nKFwid3QucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfcmVzZWFyY2gnKSAgLm1ldGFsbGljKDEpLmljb25zKHsnd2FyZmFyZSc6MSwncmVzZWFyY2gnOjF9KS5pbXByb3ZlZF9yZXNlYXJjaCgpLmltZyhcIndyLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Jlc2VhcmNoJykgIC5tZXRhbGxpYygxKS5pY29ucyh7J3N1cnZleSc6MSwncmVzZWFyY2gnOjF9KS5pbXByb3ZlZF9yZXNlYXJjaCgpLmltZyhcInNyLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX2NvbG9uaXplJykgIC5tZXRhbGxpYygxKS5pY29ucyh7J3dhcmZhcmUnOjEsJ2NvbG9uaXplJzoxfSkuaW1wcm92ZWRfY29sb25pemUoKS5pbWcoXCJ3Yy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9jb2xvbml6ZScpICAubWV0YWxsaWMoMSkuaWNvbnMoeydzdXJ2ZXknOjEsJ2NvbG9uaXplJzoxfSkuaW1wcm92ZWRfY29sb25pemUoKS5pbWcoXCJzYy5wbmdcIiksXHJcblx0XHRcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3dhcmZhcmUnKSAgIC5mZXJ0aWxlKDEpLmljb25zKHsncHJvZHVjZSc6MSwnd2FyZmFyZSc6MX0pLmltcHJvdmVkX3dhcmZhcmUoKS5pbWcoXCJwdy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF93YXJmYXJlJykgICAuZmVydGlsZSgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCd3YXJmYXJlJzoxfSkuaW1wcm92ZWRfd2FyZmFyZSgpLmltZyhcImN3LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3RyYWRlJykgICAgIC5mZXJ0aWxlKDEpLmljb25zKHsncHJvZHVjZSc6MSwndHJhZGUnOjF9KS5pbXByb3ZlZF90cmFkZSgpLmltZyhcInB0LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3RyYWRlJykgICAgIC5mZXJ0aWxlKDEpLmljb25zKHsnY29sb25pemUnOjEsJ3RyYWRlJzoxfSkuaW1wcm92ZWRfdHJhZGUoKS5pbWcoXCJjdC5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9yZXNlYXJjaCcpICAuZmVydGlsZSgxKS5pY29ucyh7J3Byb2R1Y2UnOjEsJ3Jlc2VhcmNoJzoxfSkuaW1wcm92ZWRfcmVzZWFyY2goKS5pbWcoXCJwci5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9yZXNlYXJjaCcpICAuZmVydGlsZSgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCdyZXNlYXJjaCc6MX0pLmltcHJvdmVkX3Jlc2VhcmNoKCkuaW1nKFwiY3IucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfc3VydmV5JykgICAgLmZlcnRpbGUoMSkuaWNvbnMoeydwcm9kdWNlJzoxLCdzdXJ2ZXknOjF9KS5pbXByb3ZlZF9zdXJ2ZXkoKS5pbWcoXCJwcy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9zdXJ2ZXknKSAgICAuZmVydGlsZSgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCdzdXJ2ZXknOjF9KS5pbXByb3ZlZF9zdXJ2ZXkoKS5pbWcoXCJjcy5wbmdcIiksXHJcblx0XHRcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Byb2R1Y3Rpb24nKS5hZHZhbmNlZCgxKS5pY29ucyh7J3Jlc2VhcmNoJzoxLCdwcm9kdWNlJzoxfSkuaW1wcm92ZWRfcHJvZHVjdGlvbigpLmltZyhcInJwLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3Byb2R1Y3Rpb24nKS5hZHZhbmNlZCgxKS5pY29ucyh7J3RyYWRlJzoxLCdwcm9kdWNlJzoxfSkuaW1wcm92ZWRfcHJvZHVjdGlvbigpLmltZyhcInRwLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3dhcmZhcmUnKSAgIC5hZHZhbmNlZCgxKS5pY29ucyh7J3dhcmZhcmUnOjEsJ3RyYWRlJzoxfSkuaW1wcm92ZWRfd2FyZmFyZSgpLmltZyhcInR3LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX3dhcmZhcmUnKSAgIC5hZHZhbmNlZCgxKS5pY29ucyh7J3Jlc2VhcmNoJzoxLCd3YXJmYXJlJzoxfSkuaW1wcm92ZWRfd2FyZmFyZSgpLmltZyhcInJ3LnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2ltcHJvdmVkX2NvbG9uaXplJykgIC5hZHZhbmNlZCgxKS5pY29ucyh7J2NvbG9uaXplJzoxLCd0cmFkZSc6MX0pLmltcHJvdmVkX2NvbG9uaXplKCkuaW1nKFwidGMucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfY29sb25pemUnKSAgLmFkdmFuY2VkKDEpLmljb25zKHsncmVzZWFyY2gnOjEsJ2NvbG9uaXplJzoxfSkuaW1wcm92ZWRfY29sb25pemUoKS5pbWcoXCJyYy5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdpbXByb3ZlZF9zdXJ2ZXknKSAgICAuYWR2YW5jZWQoMSkuaWNvbnMoeyd0cmFkZSc6MSwnc3VydmV5JzoxfSkuaW1wcm92ZWRfc3VydmV5KCkuaW1nKFwidHMucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wcm92ZWRfc3VydmV5JykgICAgLmFkdmFuY2VkKDEpLmljb25zKHsncmVzZWFyY2gnOjEsJ3N1cnZleSc6MX0pLmltcHJvdmVkX3N1cnZleSgpLmltZyhcInJzLnBuZ1wiKSxcclxuXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdzdXJ2ZXlfdGVhbScpLnN1cnZleXRlYW0oKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnd2FyX3BhdGgnKS53YXJwYXRoKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ3RlcnJhZm9ybWluZycpLnRlcnJhZm9ybWluZygpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdnZW5ldGljX2VuZ2luZWVyaW5nJykuZ2VuZXRpY2VuZ2luZWVyaW5nKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2FydGlmaWNpYWxfaW50ZWxsaWdlbmNlJykuYXJ0aWZpY2lhbGludGVsbGlnZW5jZSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdkaXZlcnNlX21hcmtldHMnKS5kaXZlcnNlbWFya2V0cygpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdzcGVjaWFsaXphdGlvbicpLnNwZWNpYWxpemF0aW9uKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ21vYmlsaXphdGlvbicpLlx0bW9iaWxpemF0aW9uKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2RhdGFfbmV0d29yaycpLmRhdGFuZXR3b3JrKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ2FidW5kYW5jZScpLmFidW5kYW5jZSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdhZGFwdGFiaWxpdHknKS5hZGFwdGFiaWxpdHkoKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnYnVyZWF1Y3JhY3knKS5idXJlYXVjcmFjeSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdkaXNzZW5zaW9uJykuZGlzc2Vuc2lvbigpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdoeXBlcmVmZmljaWVuY3knKS5oeXBlcmVmZmljaWVuY3koKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnaW1wZXJpYWxpc20nKS5pbXBlcmlhbGlzbSgpLmltZyhcIi5wbmdcIiksXHJcblx0XHRcdGdlbl9yZXNlYXJjaF9jYXJkKCdsb2dpc3RpY3MnKS5sb2dpc3RpY3MoKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgncHJvZHVjdGl2aXR5JykucHJvZHVjdGl2aXR5KCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ3Njb3JjaGVkX2VhcnRoX3BvbGljeScpLnNjb3JjaGVkZWFydGhwb2xpY3koKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnc3RyZWFtbGluaW5nJykuc3RyZWFtbGluaW5nKCkuaW1nKFwiLnBuZ1wiKSxcclxuXHRcdFx0Z2VuX3Jlc2VhcmNoX2NhcmQoJ3dlYXBvbnNfZW1wb3JpdW0nKS53ZWFwb25zZW1wb3JpdW0oKS5pbWcoXCIucG5nXCIpLFxyXG5cdFx0XHRnZW5fcmVzZWFyY2hfY2FyZCgnZmVydGlsZV9ncm91bmRzJykuZmVydGlsZWdyb3VuZHMoKS5pbWcoXCIucG5nXCIpLFxyXG5cclxuXHRcdF07XHJcblx0fTtcclxuXHRsZXQgZ2VucGxheWVyID0gKF9pZCkgPT4ge1xyXG5cdFx0bGV0IF9wbGF5ZXIgPSB7XHJcblx0XHRcdCdpZCc6X2lkLFxyXG5cdFx0XHQnYWN0aW9ucm9sZXNlcXVlbmNlJzonYXInLCAvL2NhbiBiZSBhci4gcmEsIGFhciwgYXJhLCByYWFcclxuXHRcdFx0J3NwZWNpYWxpemF0aW9uJzonJyxcclxuXHRcdFx0J2F2YWlsYWJsZSc6dHJ1ZSxcclxuXHRcdFx0J3JvdW5kcyc6MCxcclxuXHRcdFx0J2xpbWJvJzogW10sXHJcblx0XHRcdCdkZWNrJyA6IGtudXRoc2h1ZmZsZShnZW5uZXdkZWNrKCkpLFxyXG5cdFx0XHQnaGFuZCcgOiBbXSxcclxuXHRcdFx0J3Blcm1hbmVudHMnIDogW10gLFxyXG5cdFx0XHQnZGlzY2FyZCcgOiBbXSxcclxuXHRcdFx0J2hhbmRzaXplJzo1LFxyXG5cdFx0XHQnYWN0aXZlYWN0aW9uJyA6IG51bGwsXHJcblx0XHRcdCdhY3RpdmVyb2xlJyA6ICcnLFxyXG5cdFx0XHQnaGFuZHNpemUnIDogNSxcclxuXHRcdFx0J2JzdEljb25zJyA6IHsnc3VydmV5JzowLCd3YXJmYXJlJzowLCdjb2xvbml6ZSc6MCwncHJvZHVjZSc6MCwndHJhZGUnOjAsJ3Jlc2VhcmNoJzowfSxcclxuXHRcdFx0J3Vuc2V0dGxlZF9wbGFuZXRzJyA6IFtnYW1lLnN0YWNrcy5zdGFydGluZ3BsYW5ldHMucG9wKCldLFxyXG5cdFx0XHQnc2V0dGxlZF9wbGFuZXRzJyA6IFtdLFxyXG5cdFx0XHQnY29ucXVlcmVkX3BsYW5ldHMnIDogW10sXHJcblx0XHRcdCdzdGFyZmlnaHRlcnMnIDogeydzbWFsbCc6MCwnbWVkaXVtJzowLCdsYXJnZSc6MH0sXHJcblx0XHRcdCdjb21iYXR2YWx1ZScgOiAwLFxyXG5cdFx0XHQnaW5mbHVlbmNlJzpbXSxcclxuXHRcdH07XHJcblx0XHRkcmF3KF9wbGF5ZXIsX3BsYXllci5oYW5kc2l6ZSk7XHJcblx0XHRnYW1lLnBsYXllcnMgPSBbLi4uZ2FtZS5wbGF5ZXJzLF9wbGF5ZXJdO1xyXG5cdH07XHJcblx0bGV0IGdlbnBsYW5ldCA9IChuYW1lX2luKSA9PiB7XHRcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGlkOmdlbl91bmlxdWVfaWQoKSxcclxuXHRcdFx0bmFtZTpuYW1lX2luLFxyXG5cdFx0XHR0eXBlOidwbGFuZXQnLFxyXG5cdFx0XHRzZXR0bGVfY29zdDoyLFxyXG5cdFx0XHRzZXR0bGVkOmZhbHNlLFxyXG5cdFx0XHRjb25xdWVyX2Nvc3Q6MixcclxuXHRcdFx0cHJvZHVjdGlvbl96b25lczpbXSxcclxuXHRcdFx0aW5mbHVlbmNlX3ZhbHVlOjIsXHJcblx0XHRcdGljb25zOnsnc3VydmV5JzowLCd3YXJmYXJlJzowLCdjb2xvbml6ZSc6MCwncHJvZHVjZSc6MCwndHJhZGUnOjAsJ3Jlc2VhcmNoJzowLH0sXHJcblx0XHRcdGhhbmRzaXplX21vZGlmaWVyOjAsXHJcblx0XHRcdGhvc3RlZF9jb2xvbmllczpbXSxcclxuXHRcdFx0bWV0YWxsaWM6ZnVuY3Rpb24oKXt0aGlzLnR5cGU9J21ldGFsbGljJztyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRhZHZhbmNlZDpmdW5jdGlvbigpe3RoaXMudHlwZT0nYWR2YW5jZWQnO3JldHVybiB0aGlzO30sXHJcblx0XHRcdGZlcnRpbGU6ZnVuY3Rpb24oKXt0aGlzLnR5cGU9J2ZlcnRpbGUnO3JldHVybiB0aGlzO30sXHJcblx0XHRcdGljb246ZnVuY3Rpb24oaWNvbl9uYW1lKXt0aGlzLmljb25zW2ljb25fbmFtZV0rKztyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRoYW5kc2l6ZTpmdW5jdGlvbihtb2RpZmllcil7dGhpcy5oYW5kc2l6ZV9tb2RpZmllcj1tb2RpZmllcjtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRpbmZsdWVuY2U6ZnVuY3Rpb24oaW5mbHVlbmNlKXt0aGlzLmluZmx1ZW5jZV92YWx1ZSA9IGluZmx1ZW5jZTtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHRzZXR0bGU6ZnVuY3Rpb24oY29zdCl7dGhpcy5zZXR0bGVfY29zdD1jb3N0O3JldHVybiB0aGlzO30sXHJcblx0XHRcdGNvbnF1ZXI6ZnVuY3Rpb24oY29zdCl7dGhpcy5jb25xdWVyX2Nvc3Q9Y29zdDtyZXR1cm4gdGhpczt9LFxyXG5cdFx0XHR6b25lOmZ1bmN0aW9uKHpvbmUpe3RoaXMucHJvZHVjdGlvbl96b25lcy5wdXNoKHt0eXBlOnpvbmUsIGZpbGxlZDpmYWxzZX0pO3JldHVybiB0aGlzO30sXHJcblx0XHR9O1xyXG5cdH07XHJcblx0bGV0IGdlbnBsYW5ldGRlY2sgPSAoKSA9PiB7IFxyXG5cdFx0Z2FtZS5wbGFuZXRfZGVjayA9IGtudXRoc2h1ZmZsZShbXHJcblx0XHRcdC8vZmVydGlsZSBwbGFuZXRzXHJcblx0XHRcdGdlbnBsYW5ldCgnTUlTSEJVUlIgSVRPLUEnKS5mZXJ0aWxlKCkuc2V0dGxlKDUpLmNvbnF1ZXIoNCkuem9uZSgnZm9vZCcpICAgICAgICAgICAgICAuaW5mbHVlbmNlKDMpLmljb24oJ3Byb2R1Y2UnKSAgICxcclxuXHRcdFx0Z2VucGxhbmV0KCdTVFlLVScpLmZlcnRpbGUoKS5zZXR0bGUoNCkuY29ucXVlcig1KS56b25lKCd3YXRlcicpICAgICAgICAgICAgICAgLmluZmx1ZW5jZSgzKS5pY29uKCdjb2xvbml6ZScpICAsXHJcblx0XHRcdGdlbnBsYW5ldCgnQU5HVVMgRFVGRlknKS5mZXJ0aWxlKCkuc2V0dGxlKDMpLmNvbnF1ZXIoNikuem9uZSgnZm9vZCcpLnpvbmUoJ3dhdGVyJykgLmluZmx1ZW5jZSgzKSAgICAgICAgICAgICAgICAgICAsXHJcblx0XHRcdGdlbnBsYW5ldCgnR0VSRExBTkQnKS5mZXJ0aWxlKCkuc2V0dGxlKDQpLmNvbnF1ZXIoNSkuem9uZSgnd2F0ZXInKSAgICAgICAgICAgICAgIC5pbmZsdWVuY2UoMykuaWNvbigncHJvZHVjZScpICAgLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ01JSy1NSUsnKS5mZXJ0aWxlKCkuc2V0dGxlKDUpLmNvbnF1ZXIoNCkuem9uZSgnZm9vZCcpICAgICAgICAgICAgICAuaW5mbHVlbmNlKDMpLmljb24oJ2NvbG9uaXplJykgICxcclxuXHRcdFx0Z2VucGxhbmV0KCdORUxPUyBJVicpLmZlcnRpbGUoKS5zZXR0bGUoNSkuY29ucXVlcig0KS56b25lKCdmb29kJykgICAgICAgICAgICAgIC5pbmZsdWVuY2UoMikgICAgICAuaGFuZHNpemUoMSkgLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ1NQSUVMQkFOWSBWSScpLmZlcnRpbGUoKS5zZXR0bGUoNCkuY29ucXVlcig1KS56b25lKCd3YXRlcicpICAgICAgICAgICAgICAgLmluZmx1ZW5jZSgyKSAgICAgIC5oYW5kc2l6ZSgxKSAsXHJcblx0XHRcdGdlbnBsYW5ldCgnTkVXIFRFWEFTJykuZmVydGlsZSgpLnNldHRsZSgzKS5jb25xdWVyKDYpLnpvbmUoJ2Zvb2QnKS56b25lKCd3YXRlcicpIC5pbmZsdWVuY2UoMikuaWNvbignY29sb25pemUnKSAgLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ0FSVElHQVMgR05TLTExMScpLmZlcnRpbGUoKS5zZXR0bGUoMykuY29ucXVlcig2KS56b25lKCdmb29kJykuem9uZSgnd2F0ZXInKSAuaW5mbHVlbmNlKDIpLmljb24oJ3Byb2R1Y2UnKSAgICxcclxuXHRcdFx0Ly9hZHZhbmNlZCBwbGFuZXRzXHJcblx0XHRcdGdlbnBsYW5ldCgnSEFOT0ogLSBUJykuYWR2YW5jZWQoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnc2lsaWNvbicpLmljb24oJ3RyYWRlJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnT0tOT1cnKS5hZHZhbmNlZCgpLnNldHRsZSg0KS5jb25xdWVyKDUpLmluZmx1ZW5jZSgyKS56b25lKCdzaWxpY29uJykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFuZHNpemUoMSksXHJcblx0XHRcdGdlbnBsYW5ldCgnU1JPRCBBVkVJTiBOMicpLmFkdmFuY2VkKCkuc2V0dGxlKDMpLmNvbnF1ZXIoNikuaW5mbHVlbmNlKDQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaWNvbigncmVzZWFyY2gnKSxcclxuXHRcdFx0Z2VucGxhbmV0KFwiUkFMIEdBSSdHQVdcIikuYWR2YW5jZWQoKS5zZXR0bGUoNCkuY29ucXVlcig1KS5pbmZsdWVuY2UoMykuem9uZSgnc2lsaWNvbicpLmljb24oJ3RyYWRlJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnRUNITyBST1NFJykuYWR2YW5jZWQoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnc2lsaWNvbicpICAgICAgICAgICAgICAuaWNvbigncmVzZWFyY2gnKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdTSE9MTUlDQU4nKS5hZHZhbmNlZCgpLnNldHRsZSgzKS5jb25xdWVyKDYpLmluZmx1ZW5jZSg0KS56b25lKCdzaWxpY29uJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnWkVQSEFOJykuYWR2YW5jZWQoKS5zZXR0bGUoMykuY29ucXVlcig2KS5pbmZsdWVuY2UoNCkgICAgICAgICAgICAgICAuaWNvbigndHJhZGUnKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdTSU1BLTA3QycpLmFkdmFuY2VkKCkuc2V0dGxlKDUpLmNvbnF1ZXIoNCkuaW5mbHVlbmNlKDIpLnpvbmUoJ3NpbGljb24nKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oYW5kc2l6ZSgxKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdMWVRUTEUnKS5hZHZhbmNlZCgpLnNldHRsZSg0KS5jb25xdWVyKDUpLmluZmx1ZW5jZSgzKS56b25lKCdzaWxpY29uJykgICAgICAgICAgICAgIC5pY29uKCdyZXNlYXJjaCcpLFxyXG5cdFx0XHQvL21ldHRhbGljIHBsYW5ldHNcclxuXHRcdFx0Z2VucGxhbmV0KCdLWVJJRSAmIEpVTk8nKS5tZXRhbGxpYygpLnNldHRsZSgzKS5jb25xdWVyKDYpLmluZmx1ZW5jZSg0KSAgICAgICAgICAgIC5pY29uKCdzdXJ2ZXknKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdNQVJHSEFOTkFIIFBSSU1FJykubWV0YWxsaWMoKS5zZXR0bGUoNCkuY29ucXVlcig1KS5pbmZsdWVuY2UoMykgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFuZHNpemUoMSksXHJcblx0XHRcdGdlbnBsYW5ldCgnVEFOS0FIU0hJTicpLm1ldGFsbGljKCkuc2V0dGxlKDQpLmNvbnF1ZXIoNSkuaW5mbHVlbmNlKDMpLnpvbmUoJ21ldGFsbGljJykuaWNvbignd2FyZmFyZScpLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ1ZPU09OJykubWV0YWxsaWMoKS5zZXR0bGUoNCkuY29ucXVlcig1KS5pbmZsdWVuY2UoMykuem9uZSgnbWV0YWxsaWMnKS5pY29uKCdzdXJ2ZXknKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdQSU5LIFNPTkFSJykubWV0YWxsaWMoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnbWV0YWxsaWMnKS5pY29uKCdzdXJ2ZXknKSxcclxuXHRcdFx0Z2VucGxhbmV0KFwiT1ZFUkxPUkQgQkVUWkVMJ1MgRE9NQUlOXCIpLm1ldGFsbGljKCkuc2V0dGxlKDMpLmNvbnF1ZXIoNikuaW5mbHVlbmNlKDQpICAgICAgICAgICAgLmljb24oJ3dhcmZhcmUnKSxcclxuXHRcdFx0Z2VucGxhbmV0KCc4OTEwIFNQSUVMRU4nKS5tZXRhbGxpYygpLnNldHRsZSg0KS5jb25xdWVyKDUpLmluZmx1ZW5jZSgyKS56b25lKCdtZXRhbGxpYycpICAgICAgICAgICAgICAgLmhhbmRzaXplKDEpLFxyXG5cdFx0XHRnZW5wbGFuZXQoJ0lEUk9ZT1MnKS5tZXRhbGxpYygpLnNldHRsZSgzKS5jb25xdWVyKDYpLmluZmx1ZW5jZSg1KSxcclxuXHRcdFx0Z2VucGxhbmV0KCdFUktBTS1XJykubWV0YWxsaWMoKS5zZXR0bGUoNSkuY29ucXVlcig0KS5pbmZsdWVuY2UoMykuem9uZSgnbWV0YWxsaWMnKS5pY29uKCd3YXJmYXJlJylcclxuXHRcdF0pO1xyXG5cdFx0Z2FtZS5zdGFja3Muc3RhcnRpbmdwbGFuZXRzID0ga251dGhzaHVmZmxlKFtcclxuXHRcdFx0Z2VucGxhbmV0KCdNRVNJQSBTRUROSU0nKS5mZXJ0aWxlKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ3dhdGVyJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnRFJBV0RFJykuZmVydGlsZSgpLnNldHRsZSgyKS5jb25xdWVyKDIpLmluZmx1ZW5jZSgyKS56b25lKCdmb29kJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnTElBR0lCQScpLmFkdmFuY2VkKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ3NpbGljb24nKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdQT01FUkVORScpLmFkdmFuY2VkKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ3NpbGljb24nKSxcclxuXHRcdFx0Z2VucGxhbmV0KCdDSFJJU1BFTicpLm1ldGFsbGljKCkuc2V0dGxlKDIpLmNvbnF1ZXIoMikuaW5mbHVlbmNlKDIpLnpvbmUoJ21ldGFsbGljJyksXHJcblx0XHRcdGdlbnBsYW5ldCgnUElFRFJBIFNFQ0EnKS5tZXRhbGxpYygpLnNldHRsZSgyKS5jb25xdWVyKDIpLmluZmx1ZW5jZSgyKS56b25lKCdtZXRhbGxpYycpLFxyXG5cdFx0XSkgICBcclxuXHR9O1xyXG5cdGxldCBjbGVhbnVwID0gKCkgPT4ge1xyXG5cdFx0Z2V0QWN0UGx5cigpLmxpbWJvLmZvckVhY2goY2FyZCA9PiB7XHJcblx0XHRcdGdldEFjdFBseXIoKVtjYXJkLmZpbkRlc3RdID0gWyAuLi5nZXRBY3RQbHlyKClbY2FyZC5maW5EZXN0XSwgY2FyZCBdO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHRsZXQgcHVyY2hhc2UgPSAoc3JjLCBkZXN0LCBmaW5EZXN0LCBpZCkgPT4geyAvLyBkdXBsaWNhdGUgb2YgZGlzY2FyZCAmIGR1cGxpY2F0ZSBvZiBwbGF5XHJcblx0XHRsZXQgdG9SZW1vdmUgPSBzcmMuZmluZCgoZSkgPT4gaWQgPT0gZS5pZCk7XHJcblx0XHRkZXN0ID0gWy4uLmRlc3Qsey4uLnRvUmVtb3ZlLGZpbkRlc3Q6ZmluRGVzdH1dO1xyXG5cdFx0c3JjID0gc3JjLmZpbHRlcigoZSkgPT4gZS5pZCAhPSB0b1JlbW92ZS5pZCk7XHJcblx0fTtcclxuXHRsZXQgcmVtb3ZlX2Zyb21fZ2FtZSA9IChzb3VyY2VfYXJyYXksIHRvUmVtb3ZlKSA9PiB7IC8vcmVtb3ZlX2Zyb21fZ2FtZSBoYW5kLT5leGlsZVxcXHJcblx0XHR0b1JlbW92ZS5maW5EZXN0PVwiZXhpbGVcIjtcclxuXHRcdHJldHVybiBzb3VyY2VfYXJyYXkuZmlsdGVyKChlKSA9PiBlLmlkICE9IHRvUmVtb3ZlLmlkKTtcclxuXHR9O1xyXG5cdGxldCBwcmVzZW50X2FzX2Nob2ljZSA9IChvcHRpb25zKSA9PiBnYW1lLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdGxldCBzZXR0bGVfY29sb25pZXMgPSAocGxhbmV0LCBwbHlyKSA9PiB7XHJcblx0XHRsZXQgcGxhbmV0cyA9IFsuLi5wbHlyLnNldHRsZWRfcGxhbmV0cywuLi5wbHlyLmNvbnF1ZXJlZF9wbGFuZXRzXTtcclxuXHRcdGxldCByZWR1Y3Rpb24gPSBbLi4ucGxhbmV0cywuLi5nZXRMZWFkUGx5cigpLnBlcm1hbmVudHNdLnJlZHVjZSgoYWNjLGN1cik9PmFjYytjdXIuaWNvbnMuY29sb25pemUsMCk7XHJcblx0XHRpZiAocGxhbmV0LnNldHRsZV9jb3N0IC0gcmVkdWN0aW9uIDw9IHBsYW5ldC5ob3N0ZWRfY29sb25pZXMubGVuZ3RoKXtcclxuXHRcdFx0aWYgKGNoa0ZvclBlcm0oJ2FidW5kYW5jZScpICYmIHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzLmxlbmd0aCAhPSAwKXtcclxuXHRcdFx0XHRwbGFuZXQucHJvZHVjdGlvbl96b25lcyA9IHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzLm1hcCgocHopPT57cmV0dXJuIHt0eXBlOnB6LnR5cGUsZmlsbGVkOnRydWV9O30pXHJcblx0XHRcdH1cclxuXHRcdFx0cGx5ci5kaXNjYXJkID0gWy4uLnBseXIuZGlzY2FyZCwgLi4ucGxhbmV0Lmhvc3RlZF9jb2xvbmllc107XHJcblx0XHRcdHBsYW5ldC5ob3N0ZWRfY29sb25pZXMgPSBbXTtcclxuXHRcdFx0cGxhbmV0LnNldHRsZWQgPSB0cnVlO1xyXG5cdFx0XHRkaXNjYXJkKHBseXIudW5zZXR0bGVkX3BsYW5ldHMscGx5ci5zZXR0bGVkX3BsYW5ldHMscGxhbmV0LmlkKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH07XHJcblx0Ly9wYXNzX3R1cm4gbGVhZGluZ3BsYXllci0+bmV4dHBsYXllclxyXG5cdGxldCBwYXNzX3R1cm4gPSAoKSA9PiB7XHJcblx0XHRpZiAoIWxvYmJ5Lm9ubGluZSB8fCBsb2JieS5zY3JlZW5uYW1lID09IGdldEFjdFBseXIoKS5uYW1lICl7XHJcblx0XHRcdGdhbWUucGFzc3Q9ZmFsc2U7XHJcblx0XHRcdGdhbWUuYWN0aW5nX3BsYXllcl9pbmRleCA9IGdhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXggPSAoZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleCsxKSVnYW1lLm51bWJlcl9vZl9wbGF5ZXJzO1xyXG5cdFx0XHRnYW1lLmxlYWRpbmdwbGF5ZXIgPSBnYW1lLnBsYXllcnNbZ2FtZS5sZWFkaW5nX3BsYXllcl9pbmRleF07XHJcblx0XHRcdGdhbWUuYWN0aW5nX3BsYXllciA9IGdhbWUucGxheWVyc1tnYW1lLmxlYWRpbmdfcGxheWVyX2luZGV4XTtcclxuXHRcdFx0ZmluaXNoKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL3Bhc3NfcHJpb3JpdHkgYWN0aW5ncGxheWVyLT5uZXh0cGxheWVyXHJcblx0bGV0IHBhc3NfcHJpb3JpdHkgPSAoKSA9PiB7XHJcblx0XHRpZiAob2ZmbGluZU9ySXNDbGllbnRUdXJuKCkpe1xyXG5cdFx0XHRnYW1lLnBhc3NwPWZhbHNlO1xyXG5cdFx0XHRnYW1lLmFjdGluZ19wbGF5ZXJfaW5kZXggPSAoZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4KzEpJWdhbWUubnVtYmVyX29mX3BsYXllcnM7XHJcblx0XHRcdGdhbWUuYWN0aW5nX3BsYXllciA9IGdldEFjdFBseXIoKTtcclxuXHRcdFx0ZmluaXNoKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL2RldGVybWluZV9udW1iZXJfb2ZfcGxheWVycyBsb2dpYy0+b3B0aW9ucy0+Y2hvaWNlLT5udW1iZXJfb2ZfcGxheWVyc1xyXG5cdGxldCBkZXRlcm1pbmVfbnVtYmVyX29mX3BsYXllcnMgPSAoY2FsbGJhY2spID0+IHtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Nob2ljZW1hZGUnLHNpbmdsZUNsbEJjayggY2FsbGJhY2ssICdjaG9pY2VtYWRlJywgKCkgPT4gZ2FtZS5udW1iZXJfb2ZfcGxheWVycyA9IGdhbWUuY2hvaWNlcykpO1xyXG5cdFx0cHJlc2VudF9hc19jaG9pY2UocmFuZ2UoIGdhbWUubWluUGx5cnMsIGdhbWUubWF4UGx5cnMpKTtcclxuXHR9O1xyXG5cdC8vcHJvZHVjZSBwb2R1Y3Rpb25fcGlsZS0+aG9zdFxyXG5cdGxldCBwcm9kdWNlID0gKHBsYW5ldHMsIHJlc291cmNlcz0xKSA9PiBwcm9kdWNlVHJhZGVIZWxwZXIodHJ1ZSxwbGFuZXRzLHJlc291cmNlcyk7XHJcblx0Ly90cmFkZSBob3N0LT5wcm9kdWN0aW9uX3BpbGUsIGluZmx1ZW5jZV9waWxlLT5wbGF5ZXJfaW5mbHVlbmNlXHJcblx0Ly9sZXQgdHJhZGUgPSAocGxhbmV0cywgcGxheWVyLCByZXNvdXJjZXM9MSkgPT4gcHJvZHVjZVRyYWRlSGVscGVyKGZhbHNlLHBsYW5ldHMscmVzb3VyY2VzLCgpPT5wbGF5ZXIuaW5mbHVlbmNlLnB1c2goZ2FtZS5pbmZsdWVuY2UucG9wKCkpKTtcclxuXHRsZXQgdHJhZGUgPSAocGxudCxwbHlyLHJlcyk9PntcclxuXHRcdGxldCBwcmQgPSB7IGJsdWU6IDAsIGdyZWVuOiAwLCBwdXJwbGU6IDAsIHJlZDogMCAgfTtcclxuXHRcdGlmIChyZXMgPCAxKSByZXR1cm4gcHJkO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwbG50Lmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0Zm9yKGxldCBqID0gMDsgaiA8IHBsbnRbaV0ucHJvZHVjdGlvbl96b25lcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGlmICggcmVzID4gMCAmJiBwbG50W2ldLnByb2R1Y3Rpb25fem9uZXNbal0uZmlsbGVkICkge1xyXG5cdFx0XHRcdFx0aWYgKGdhbWUuaW5mbHVlbmNlLmxlbmd0aCAhPSAxKSBnYW1lLmluZmx1ZW5jZSA9IGdhbWUuaW5mbHVlbmNlLnNsaWNlKDEpO1xyXG5cdFx0XHRcdFx0cGxudFtpXS5wcm9kdWN0aW9uX3pvbmVzW2pdLmZpbGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cHJkW3BsbnRbaV0ucHJvZHVjdGlvbl96b25lc1tqXS50eXBlXSsrO1xyXG5cdFx0XHRcdFx0cGx5ci5pbmZsdWVuY2UgPSBbLi4ucGx5ci5pbmZsdWVuY2UsIDFdO1xyXG5cdFx0XHRcdFx0cmVzLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IHJldHVybiBwcmQ7XHJcblx0fTtcclxuXHQvL3BvbGl0aWNzIGhhbmQtPmxpbWJvLT5leGlsZSwgc3RhY2tzLT5oYW5kXHJcblx0bGV0IHBvbGl0aWNzID0gKHBvbGl0aWNzX2NhcmQsIGNhcmQsIHBsYXllcikgPT4ge1xyXG5cdFx0cG9saXRpY3NfY2FyZC5maW5EZXN0PVwiZXhpbGVcIjtcclxuXHRcdGlmIChnYW1lLnN0YWNrcy5waWxlY291bnRbY2FyZC50eXBlXSA+PSAxKXtcclxuXHRcdFx0cGxheWVyLmhhbmQgPSBbLi4ucGxheWVyLmhhbmQsIHsuLi5nYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3NbY2FyZC50eXBlXV0sICdpZCc6Z2VuX3VuaXF1ZV9pZCgpfV07XHJcblx0XHRcdGdhbWUuc3RhY2tzLnBpbGVjb3VudFtjYXJkLnR5cGVdLS07XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL3Jlc2VhcmNoIGhhbmQtPmV4aWxlXHJcblx0bGV0IHJlc2VhcmNoID0gKGNhcmRzLCBwbGF5ZXIsIGxpbWl0PTIpID0+IHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyAoaSA8IGNhcmRzLmxlbmd0aCAmJiBpIDwgbGltaXQpOyBpKyspe1xyXG5cdFx0XHRnZXRBY3RQbHlyKCkubGltYm8gPSAgcmVtb3ZlX2Zyb21fZ2FtZShnZXRBY3RQbHlyKCkubGltYm8sIGNhcmRzW2ldKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdC8vYm9vc3QgbG9naWMtPnBsYXllcl9pY29uc1xyXG5cdGxldCBib29zdCA9IChjYXJkcywgcGx5cikgPT4gY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4gYm9vc3RXaXRoSWNvbnMocGx5cixjYXJkKSk7XHJcblx0Ly9zdXJ2ZXkgZGVjay0+aGFuZFxyXG5cdGxldCBzdXJ2ZXkgPSAocGxheWVyKSA9PiBwbGF5ZXIgPSBkcmF3KHBsYXllciwyKTtcclxuXHQvL2NvbG9uaXplIGhhbmQvbGltYm8tPmhvc3RcclxuXHRsZXQgY29sb25pemUgPSAocGxhbmV0LCBzb3VyY2VfYXJyYXksIGNhcmQsIGlzUm9sZT1mYWxzZSkgPT4ge1xyXG5cdFx0bGV0IGwgPSAoaXNSb2xlKSA/IGdldEFjdFBseXIoKS5ic3RJY29ucy5jb2xvbml6ZSA6IDE7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKyl7XHJcblx0XHRcdGxldCB0b1JlbW92ZSA9IHNvdXJjZV9hcnJheS5maW5kKChlKSA9PiBjYXJkLnR5cGUgPT0gZS50eXBlICYmIGUuZmluRGVzdCE9J2V4aWxlJyk7XHJcblx0XHRcdHBsYW5ldC5ob3N0ZWRfY29sb25pZXMgPSBbLi4ucGxhbmV0Lmhvc3RlZF9jb2xvbmllcyx0b1JlbW92ZV07XHJcblx0XHRcdHNvdXJjZV9hcnJheSA9IHNvdXJjZV9hcnJheS5maWx0ZXIoKGUsaSkgPT4gZS5pZCAhPSB0b1JlbW92ZS5pZCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvL3dhcmZhcmUgc3RhcnNoaXBfcGlsZS0+cGxheWVyX3N0YXJzaGlwX3BpbGVcclxuXHRsZXQgd2FyZmFyZSA9IChwbGF5ZXIpID0+IHBsYXllci5zdGFyZmlnaHRlcnMuc21hbGwrKztcclxuXHQvL2NvbnF1ZXIgcGxheWVyX3N0YXJzaGlwX3BpbGUtPnN0YXJzaGlwX3BpbGUsIHBsYXllcl91bmNvbnF1ZXJlZF9wbGFuZXRzLT5wbGF5ZXJfY29ucXVlcmVkX3BsYW5ldHNcclxuXHRsZXQgY29ucXVlciA9IChwbGFuZXQsIHBsYXllcik9PntcclxuXHRcdGlmIChjaGtGb3JQZXJtKCdzY29yY2hlZF9lYXJ0aF9wb2xpY3knKSl7XHJcblx0XHRcdFx0cGxhbmV0LnByb2R1Y3Rpb25fem9uZXMgPSBbXTtcclxuXHRcdFx0XHRwbGFuZXQuY29ucXVlcl9jb3N0IC09IDI7XHJcblx0XHRcdFx0aWYgKHBsYW5ldC5jb25xdWVyX2Nvc3QgPCAwKSB7XHJcblx0XHRcdFx0XHRwbGFuZXQuY29ucXVlcl9jb3N0ID0gMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdGlmIChwbGF5ZXIuc3RhcmZpZ2h0ZXJzLnNtYWxsID49IHBsYW5ldC5jb25xdWVyX2Nvc3Qpe1xyXG5cdFx0XHRpZiAoY2hrRm9yUGVybSgnYWJ1bmRhbmNlJykpe1xyXG5cdFx0XHRcdGlmIChwbGFuZXQucHJvZHVjdGlvbl96b25lcy5sZW5ndGggIT0gMCl7XHJcblx0XHRcdFx0XHRwbGFuZXQucHJvZHVjdGlvbl96b25lcyA9IHBsYW5ldC5wcm9kdWN0aW9uX3pvbmVzLm1hcCgocHopPT57cmV0dXJuIHt0eXBlOnB6LnR5cGUsZmlsbGVkOnRydWV9O30pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHBsYXllci5zdGFyZmlnaHRlcnMuc21hbGwgLT0gcGxhbmV0LmNvbnF1ZXJfY29zdDtcclxuXHRcdFx0cGxhbmV0ID0gc2VsZWN0X3ZpYV9pZChwbGF5ZXIudW5zZXR0bGVkX3BsYW5ldHMsIHBsYW5ldC5pZCk7XHJcblx0XHRcdHBsYW5ldC5jb25xdWVyZWQ9dHJ1ZTtcclxuXHRcdFx0cGxheWVyLmNvbnF1ZXJlZF9wbGFuZXRzLnB1c2gocGxhbmV0KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdC8vb2ZmZXJfdG9fYm9vc3QgcHJlc2VudF9hc19jaG9pY2UsIGNob29zZSwgYm9vc3RcclxuXHRsZXQgb2ZmZXJfdG9fYm9vc3QgPSAocGxheWVyKSA9PiB7XHJcblx0XHRnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmUgPSAnaGFuZCc7XHJcblx0XHRnYW1lLmRpc3BsYXlpbmZvLmFsbG93Zm9ybXVsdGlwbGVzZWxlY3Rpb25zID0gdHJ1ZTtcclxuXHRcdGdhbWUuZGlzcGxheWluZm8uc2hvd29wdGlvbnRvc2tpcCA9IHRydWU7XHJcblx0XHRwcmVzZW50X2FzX2Nob2ljZShwbGF5ZXIuaGFuZCk7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaG9pY2VtYWRlJyxzaW5nbGVDbGxCY2soKCk9Pnt9LCdjaG9pY2VtYWRlJywoKT0+Ym9vc3QoZ2FtZS5jaG9pY2VzLCBwbGF5ZXIpKSk7XHJcblx0fTtcclxuXHRsZXQgc2VsZWN0X3ZpYV9pZCA9IChzb3VyY2UsIGlkKSA9PiB7XHJcblx0XHRsZXQgdGVtcCA9IHNvdXJjZS5maW5kKHA9PnAuaWQ9PWlkKTtcclxuXHRcdHNvdXJjZSA9IHNvdXJjZS5maWx0ZXIocD0+cC5pZCE9aWQpO1xyXG5cdFx0cmV0dXJuIHRlbXBcclxuXHR9O1xyXG5cdGxldCBib29zdHJvbGV3aXRoY2FyZHMgPSAoY2hvaWNlcywgY2FsbGJhY2s9KCk9Pnt9KSA9PiB7XHJcblx0XHRpZiAoY2hvaWNlc1swXS5uYW1lID09ICdTa2lwJykgcmV0dXJuO1xyXG5cdFx0Y2hvaWNlcy5mb3JFYWNoKChjYXJkKT0+e1xyXG5cdFx0XHRib29zdFdpdGhJY29ucyhnZXRBY3RQbHlyKCksY2FyZCk7XHJcblx0XHRcdHBsYXkoZ2V0QWN0UGx5cigpLmhhbmQsZ2V0QWN0UGx5cigpLmxpbWJvLCdkaXNjYXJkJyxjYXJkc1tpXS5pZCk7XHJcblx0XHR9KTtcclxuXHRcdGNhbGxiYWNrKCk7XHJcblx0fTtcclxuXHRsZXQgZ2VuX3VuaXF1ZV9pZCA9ICgpID0+IHtcclxuXHRcdGdhbWUubm9uY2UrKztcdFxyXG5cdFx0cmV0dXJuIGdhbWUubm9uY2U7XHJcblx0fTtcclxuXHRsZXQgcGVyZm9ybWxlYWRlcnJvbGUgPSAoY2FsbGJhY2s9KCk9Pnt9KSA9PiBnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5yb2xlLnJvbGUubGVhZGVyKGNhbGxiYWNrKTtcclxuXHRsZXQgcGVyZm9ybWZvbGxvd2Vycm9sZSA9IChjYWxsYmFjaz1udWxsKSA9PiB7XHJcblx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5zZXQoZ2FtZS5wbGF5ZXJzW2dhbWUubGVhZGluZ19wbGF5ZXJfaW5kZXhdLmFjdGl2ZXJvbGUucm9sZSk7XHJcblx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5yb2xlLnJvbGUuZm9sbG93ZXIoY2FsbGJhY2spO1xyXG5cdH07XHJcblx0bGV0IGV4cGxvcmVfcGxhbmV0ID0gKHBsYXllcik9PntcclxuXHRcdGxldCBwbGFuZXQgPSBnYW1lLnBsYW5ldF9kZWNrLnBvcCgpO1xyXG5cdFx0cGxheWVyLmxpbWJvID0gWy4uLnBsYXllci5saW1ibyx7J2ZpbkRlc3QnOidwbGFuZXRkZWNrJywuLi5wbGFuZXR9XTtcclxuXHRcdGdhbWUub3B0aW9ucyA9IFsuLi5nYW1lLm9wdGlvbnMscGxhbmV0XTtcclxuXHR9O1xyXG5cdGxldCBjYXRhbG9nX3BsYW5ldCA9IChwbGF5ZXIpID0+IHtcclxuXHRcdGdhbWUuY2hvaWNlc1swXS5maW5EZXN0ID0gJ3Vuc2V0dHRsZWQnO1xyXG5cdFx0cGxheWVyLnVuc2V0dGxlZF9wbGFuZXRzID0gWy4uLnBsYXllci51bnNldHRsZWRfcGxhbmV0cyxnYW1lLmNob2ljZXNbMF1dO1xyXG5cdFx0cGxheWVyLmxpbWJvID0gcGxheWVyLmxpbWJvLmZpbHRlcihwPT5wLmlkIT1nYW1lLmNob2ljZXNbMF0uaWQpO1xyXG5cdFx0cGxheWVyLmxpbWJvLmZpbHRlcihjYXJkID0+IGNhcmQuZmluRGVzdD09J3BsYW5ldGRlY2snKS5mb3JFYWNoKHBsYW5ldD0+IGRpc2NhcmQocGxheWVyLmxpbWJvLGdhbWUucGxhbmV0X2RlY2sscGxhbmV0LmlkKSlcclxuXHR9O1xyXG5cdGxldCBmb2xsb3djZW50ZXJjYXJkcm9sZSA9IChjaG9pY2VzLCBjYWxsYmFjaz1udWxsKSA9PiB7XHJcblx0XHRsZXQgY2FyZCA9IGNob2ljZXNbMF07XHJcblx0XHRnZXRBY3RQbHlyKCkuYWN0aXZlcm9sZS5zZXQoY2FyZCk7XHJcblx0XHRpZiAoZ2FtZS5zdGFja3MucGlsZWNvdW50W2NhcmQudHlwZV0gPj0gMSl7XHJcblx0XHRcdGdldEFjdFBseXIoKS5ic3RJY29uc1tjYXJkLnR5cGVdKys7XHJcblx0XHRcdGdldEFjdFBseXIoKS5saW1iby5wdXNoKE9iamVjdC5hc3NpZ24oeydpZCc6Z2VuX3VuaXF1ZV9pZCgpLCAnZmluRGVzdCc6J2Rpc2NhcmQnfSxnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3NbY2FyZC50eXBlXV0pKTtcclxuXHRcdFx0XHJcblx0XHRcdGdhbWUuc3RhY2tzLnBpbGVjb3VudFtjYXJkLnR5cGVdLS07XHJcblx0XHR9XHJcblx0XHRsZXQgWywsLi4uYXJyXSA9IGFyZ3VtZW50cztcclxuXHRcdGNhbGxiYWNrKGNhcmQsYXJyKTtcclxuXHR9O1xyXG5cdGxldCBkaXNjYXJkY2FyZHNmcm9taGFuZCA9IChjaG9pY2VzLCBjYWxsYmFjaz1udWxsKSA9PiB7XHJcblx0XHRpZihjaG9pY2VzWzBdLm5hbWUhPVwiU2tpcFwiKXtcclxuXHRcdFx0Y2hvaWNlcy5mb3JFYWNoKGNhcmQ9PmRpc2NhcmQoZ2V0QWN0UGx5cigpLmhhbmQsIGdldEFjdFBseXIoKS5kaXNjYXJkLCBjYXJkLmlkKSk7XHJcblx0XHR9XHJcblx0XHRsZXQgWywsLi4uYXJyXSA9IGFyZ3VtZW50cztcclxuXHRcdGNhbGxiYWNrKGNob2ljZXMsYXJyKTtcclxuXHR9O1xyXG5cdGxldCBwaGFzZWZpbmlzaGZ1bmN0aW9uID0gKHNlbmQgPSBmYWxzZSkgPT4ge1xyXG5cdFx0Z2FtZS5jdXJyZW50cGhhc2UgPSAoZ2FtZS5jdXJyZW50cGhhc2UgKyAxKSAlIGdhbWUuZ2FtZXNlcXVlbmNlLmxlbmd0aDsgXHJcblx0XHRsZXQganNvYmogPSBnYW1lLmdhbWVzZXF1ZW5jZVtnYW1lLmN1cnJlbnRwaGFzZV07XHJcblx0XHRsZXQgbmV4dHBoYXNlLG1zZztcclxuXHRcdGZvciAobGV0IGtleSBpbiBqc29iail7XHJcblx0XHRcdG1zZyA9IGtleVxyXG5cdFx0XHRuZXh0cGhhc2U9anNvYmpba2V5XTtcclxuXHRcdH1cclxuXHRcdGlmIChnYW1lLm5leHRwaGFzZSAhPT0gZW5kZ2FtZSl7XHJcblx0XHRcdGdhbWUubmV4dHBoYXNlID0gbmV4dHBoYXNlO1xyXG5cdFx0XHRnYW1lLm1lc3NhZ2V0b3BsYXllci5wdXNoKG1zZyk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmIChzZW5kKSBzZW5kc3RhdGUoKTtcclxuXHRcdGdhbWUubmV4dHBoYXNlKCk7XHJcblx0fTtcclxuXHRsZXQgZ2VuZ2FtZXNlcXVlbmNlID0gKCkgPT4ge1xyXG5cdFx0bGV0IF9nYW1lc2VxdWVuY2U9W107XHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1swXS5zdGFydF0sX2dhbWVzZXF1ZW5jZSk7XHJcblx0XHQvL2FyLiByYSwgYWFyLCBhcmEsIHJhYVxyXG5cdFx0X2dhbWVzZXF1ZW5jZSA9IGdzaGVscGVyKFsuLi5nYW1lLmdhbWVwaGFzZXNbMV0uYWN0aW9uXSxfZ2FtZXNlcXVlbmNlLCAoKT0+e3JldHVybiBnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlPT0nYWFyJ30pO1xyXG5cdFx0X2dhbWVzZXF1ZW5jZSA9IGdzaGVscGVyKFsuLi5nYW1lLmdhbWVwaGFzZXNbMV0uYWN0aW9uXSxfZ2FtZXNlcXVlbmNlLCAoKT0+e3JldHVybiBnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlPT0nYWFyJyB8fCBnZXRBY3RQbHlyKCkuYWN0aW9ucm9sZXNlcXVlbmNlPT0nYXInICB9KTtcclxuXHRcdFxyXG5cdFx0X2dhbWVzZXF1ZW5jZSA9IGdzaGVscGVyKFsuLi5nYW1lLmdhbWVwaGFzZXNbMl0ucm9sZV0sX2dhbWVzZXF1ZW5jZSk7XHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1szXS5sZWFkXSxfZ2FtZXNlcXVlbmNlKTtcclxuXHRcdGZvciAobGV0IGkgPSAxOyBpPGdhbWUubnVtYmVyX29mX3BsYXllcnM7IGkrKyl7XHJcblx0XHRcdF9nYW1lc2VxdWVuY2UgPSBnc2hlbHBlcihbLi4uZ2FtZS5nYW1lcGhhc2VzWzRdLmZvbGxvd10sX2dhbWVzZXF1ZW5jZSk7XHJcblx0XHR9XHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1sxXS5hY3Rpb25dLF9nYW1lc2VxdWVuY2UsICgpPT57cmV0dXJuIGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2U9PSdyYWEnIHx8IGdldEFjdFBseXIoKS5hY3Rpb25yb2xlc2VxdWVuY2U9PSdhcmEnICB9KTtcclxuXHRcdF9nYW1lc2VxdWVuY2UgPSBnc2hlbHBlcihbLi4uZ2FtZS5nYW1lcGhhc2VzWzFdLmFjdGlvbl0sX2dhbWVzZXF1ZW5jZSwgKCk9PntyZXR1cm4gZ2V0QWN0UGx5cigpLmFjdGlvbnJvbGVzZXF1ZW5jZT09J3JhYSd9KTtcclxuXHJcblx0XHRfZ2FtZXNlcXVlbmNlID0gZ3NoZWxwZXIoWy4uLmdhbWUuZ2FtZXBoYXNlc1s1XS5kaXNjYXJkXSxfZ2FtZXNlcXVlbmNlKTtcclxuXHRcdF9nYW1lc2VxdWVuY2UgPSBnc2hlbHBlcihbLi4uZ2FtZS5nYW1lcGhhc2VzWzZdLmNsZWFudXBdLF9nYW1lc2VxdWVuY2UpO1xyXG5cdFx0Z2FtZS5nYW1lc2VxdWVuY2UgPSBfZ2FtZXNlcXVlbmNlO1xyXG5cdH07XHJcblx0bGV0IGdzaGVscGVyID0gKHNvdXJjZV9hcnJheSwgZGVzdGluYXRpb25fYXJyYXksIHdyYXBwZXJmdW5jdGlvbj1mYWxzZSkgPT4ge1xyXG5cdFx0Zm9yIChsZXQgaSBpbiBzb3VyY2VfYXJyYXkpe1xyXG5cdFx0XHRpZiAod3JhcHBlcmZ1bmN0aW9uKXtcclxuXHRcdFx0XHRsZXQganNvYmogPSBzb3VyY2VfYXJyYXlbaV07XHJcblx0XHRcdFx0bGV0IGZ1bmMsa2V5O1xyXG5cdFx0XHRcdGxldCBpdGVtID0ge307XHJcblx0XHRcdFx0Zm9yIChrZXkgaW4ganNvYmope1xyXG5cdFx0XHRcdFx0ZnVuYz1qc29ialtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpdGVtW2tleV0gPSAoKT0+e1xyXG5cdFx0XHRcdFx0aWYgKHdyYXBwZXJmdW5jdGlvbigpKXtcclxuXHRcdFx0XHRcdFx0ZnVuYygpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGRlc3RpbmF0aW9uX2FycmF5LnB1c2goaXRlbSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGVzdGluYXRpb25fYXJyYXkucHVzaChzb3VyY2VfYXJyYXlbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGVzdGluYXRpb25fYXJyYXk7XHJcblx0fTtcclxuXHRsZXQgZ2VubmV3ZGVjayA9ICgpID0+IHtcclxuXHRcdGxldCBkZWNrID0gIFtcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3Muc3VydmV5XSksXHJcblx0XHRcdE9iamVjdC5hc3NpZ24oeydpZCc6Z2VuX3VuaXF1ZV9pZCgpfSwgZ2FtZS5zdGFja3Mucm9sZWNhcmRzW2dhbWUuc3RhY2tzLnN1cnZleV0pLFxyXG5cdFx0XHRPYmplY3QuYXNzaWduKHsnaWQnOmdlbl91bmlxdWVfaWQoKX0sIGdhbWUuc3RhY2tzLnJvbGVjYXJkc1tnYW1lLnN0YWNrcy53YXJmYXJlXSksXHJcblx0XHRcdE9iamVjdC5hc3NpZ24oeydpZCc6Z2VuX3VuaXF1ZV9pZCgpfSwgZ2FtZS5zdGFja3Mucm9sZWNhcmRzW2dhbWUuc3RhY2tzLnByb2R1Y2V0cmFkZV0pLFxyXG5cdFx0XHRPYmplY3QuYXNzaWduKHsnaWQnOmdlbl91bmlxdWVfaWQoKX0sIGdhbWUuc3RhY2tzLnJvbGVjYXJkc1tnYW1lLnN0YWNrcy5wcm9kdWNldHJhZGVdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MuY29sb25pemVdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MuY29sb25pemVdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MucmVzZWFyY2hdKSxcclxuXHRcdFx0T2JqZWN0LmFzc2lnbih7J2lkJzpnZW5fdW5pcXVlX2lkKCl9LCBnYW1lLnN0YWNrcy5yb2xlY2FyZHNbZ2FtZS5zdGFja3MucmVzZWFyY2hdKSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCdpZCc6Z2VuX3VuaXF1ZV9pZCgpLFxyXG5cdFx0XHRcdHR5cGUgOiAncG9saXRpY3MnLFxyXG5cdFx0XHRcdCdzZWxlY3RlZCc6ZmFsc2UsXHJcblx0XHRcdFx0YWN0aW9uIDogKGNhbGxiYWNrKT0+e1xyXG5cdFx0XHRcdFx0bGV0IGNhbGxiYWNrd3JhcHBlciA9ICgpPT57IFx0XHJcblx0XHRcdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nob2ljZW1hZGUnLGNhbGxiYWNrd3JhcHBlcik7XHJcblx0XHRcdFx0XHRcdHBvbGl0aWNzKGdldEFjdFBseXIoKS5hY3RpdmVhY3Rpb24sIGdhbWUuY2hvaWNlc1swXSwgZ2V0QWN0UGx5cigpKTtcclxuXHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuXHRcdFx0XHRcdH07XHRcclxuXHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHM9dHJ1ZTtcclxuXHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT0ncm9sZWNhcmRzJztcclxuXHRcdFx0XHRcdGdhbWUuZGlzcGxheWluZm8uYWxsb3dmb3JtdWx0aXBsZXNlbGVjdGlvbnM9ZmFsc2U7XHJcblx0XHRcdFx0XHRnYW1lLmRpc3BsYXlpbmZvLnNob3dvcHRpb250b3NraXA9ZmFsc2U7XHJcblx0XHRcdFx0XHRnYW1lLm1lc3NhZ2V0b3BsYXllci5wdXNoKCdjaG9vc2UgYSBjYXJkIGZyb20gdGhlIGNlbnRlciByb3cgdG8gYWRkIHRvIHlvdXIgaGFuZCcpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hvaWNlbWFkZScsY2FsbGJhY2t3cmFwcGVyKTtcclxuXHRcdFx0XHRcdHByZXNlbnRfYXNfY2hvaWNlKGdhbWUuc3RhY2tzLnJvbGVjYXJkcyk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRyb2xlIDogbnVsbCxcclxuXHRcdFx0XHRpY29ucyA6IHsnc3VydmV5JzowLCd3YXJmYXJlJzowLCdjb2xvbml6ZSc6MCwncHJvZHVjZSc6MCwndHJhZGUnOjAsJ3Jlc2VhcmNoJzowLCdwb2xpdGljcyc6MX0sXHJcblx0XHRcdFx0bmFtZSA6ICdQb2xpdGljcycsXHJcblx0XHRcdFx0aW1hZ2UgOiBudWxsXHJcblx0XHRcdH1cclxuXHRcdF07XHJcblx0XHRyZXR1cm4gZGVjaztcclxuXHR9O1xyXG5cdGxldCBwaGFzZWluY3JlbWVudCA9ICgpID0+IGdhbWUuY3VycmVudHBoYXNlKys7XHJcblx0bGV0IG5ld2dhbWUgPSAobnVtYmVyX29mX3BsYXllcnMpID0+IHtcclxuXHRcdGxvYmJ5Lm9ubGluZT10cnVlO1xyXG5cdFx0aW5pdGdhbWUobnVtYmVyX29mX3BsYXllcnMpO1xyXG5cdFx0aW5pdFNvY2tldCgoKT0+d3MuZW1pdCgnbWVzc2FnZScsanN0cih7J2hlYWRlcic6J25ld2dhbWUnLGdhbWU6Z2FtZSxzZXRzOmxvYmJ5LnNldHMsbnVtYmVyX29mX3BsYXllcnM6Z2FtZS5wbGF5ZXJzLmxlbmd0aH0pKSk7XHJcblx0XHRcclxuXHR9O1xyXG5cdGxldCBpbml0U29ja2V0ID0gKGZ1bmMpID0+IHtcclxuXHRcdGxldCBwaW5nID0gKCkgPT4geyBzZXRUaW1lb3V0KCAoKSA9PiB7IHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoe2hlYWRlcjoncGluZyd9KSk7IHBpbmcoKTsgfSwyMDAwKTsgfTtcclxuXHRcdHdzID0gaW8oKTtcclxuXHRcdHdzLm9uKCdjb25uZWN0JywoKT0+eyBsb2coJ2Nvbm5lY3RlZCcpO1xyXG5cdFx0XHR3cy5vbignaWQnLChtc2cpPT57IGxvZygnaWQnKTtcclxuXHRcdFx0XHRsb2coanBycyhtc2cpKTtcclxuXHRcdFx0XHRnYW1lID0gey4uLmdhbWUsXHJcblx0XHRcdFx0XHRnYW1lX2lkOmpwcnMobXNnKSxcclxuXHRcdFx0XHRcdGhhZGVyOicnLFxyXG5cdFx0XHRcdFx0Y3VycmVudHBoYXNlOmdhbWUuY3VycmVudHBoYXNlKzF9O1xyXG5cdFx0XHRcdGxvYmJ5ID0gey4uLmxvYmJ5LFxyXG5cdFx0XHRcdFx0ZXhpc3RpbmdnYW1lczpbLi4ubG9iYnkuZXhpc3RpbmdnYW1lcywgZ2FtZV0sXHJcblx0XHRcdFx0XHRvbmxpbmU6dHJ1ZX07XHJcblx0XHRcdFx0cmVnaXN0ZXJ3cygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0d3Mub24oJ2ZldGNoJywobXNnKT0+eyBsb2coJ2ZldGNoJyk7XHJcblx0XHRcdFx0bG9nKGpwcnMobXNnKSk7XHJcblx0XHRcdFx0Z2FtZS5jdXJyZW50cGhhc2UgPSAtMTtcclxuXHRcdFx0XHRsb2JieSA9IHsuLi5sb2JieSxcclxuXHRcdFx0XHRcdGV4aXN0aW5nZ2FtZXM6IGpwcnMobXNnKS5tYXAoZWw9PmVsLmdhbWUpLmZpbHRlcihnPT5nLnBsYXllcnMuZmlsdGVyKGxsPT5sbC5hdmFpbGFibGUpLmxlbmd0aCA+IDApLFxyXG5cdFx0XHRcdFx0b25saW5lOnRydWV9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR3cy5vbignZW50ZXInLChtc2cpPT57IGxvZygnZW50ZXInKTtcclxuXHRcdFx0XHRsb2coanBycyhtc2cpKTtcclxuXHRcdFx0XHRnYW1lID0gey4uLmpwcnMobXNnKSxwaGFzc2U6Z2FtZS5waGFzZXMsZ2FtZXNlcXVlbmNlOmdhbWUuZ2FtZXNlcXVlbmNlfTtcclxuXHRcdFx0XHRsb2JieSA9IHsgLi4ubG9iYnksXHJcblx0XHRcdFx0XHRvbmxpbmU6dHJ1ZSxcclxuXHRcdFx0XHRcdHBsYXllcl9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgMTApXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR3cy5vbignam9pbicsKG1zZyk9PnsgbG9nKCdqb2luJyk7XHJcblx0XHRcdFx0bXNnID0ganBycyhtc2cpO1xyXG5cdFx0XHRcdGxvZyhtc2cpO1xyXG5cdFx0XHRcdGdhbWUucGxheWVyc1ttc2cuc2xvdF0gPSBtc2cucGxheWVyO1xyXG5cdFx0XHRcdGxvZygnYXZhaWxhYmxlIHNsb3RzOiAnLCBnYW1lLnBsYXllcnMucmVkdWNlKChhY2MsY3VyKT0+YWNjICsgKGN1ci5hdmFpbGFibGUpID8gMSA6IDAsMCkpO1xyXG5cdFx0XHRcdGlmIChnYW1lLnBsYXllcnMucmVkdWNlKChhY2MsY3VyKT0+YWNjICsgKGN1ci5hdmFpbGFibGUpID8gMSA6IDAsMCkgPT0gMCkgZmluaXNoKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR3cy5vbignc2V0JywobXNnKT0+eyAvL2xvZygnc2V0Jyk7IFxyXG5cdFx0XHRcdGxvZyhqcHJzKG1zZykpO1xyXG5cdFx0XHRcdGdhbWUgPSB7Li4uanBycyhtc2cpLHBoYXNzZTpnYW1lLnBoYXNlcyxnYW1lc2VxdWVuY2U6Z2FtZS5nYW1lc2VxdWVuY2V9O1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0ZnVuYygpO1xyXG5cdFx0XHRwaW5nKCk7XHJcblx0XHR9KVxyXG5cdH1cclxuXHRsZXQgZmV0Y2hleGlzdGluZ2dhbWVzID0gKCkgPT4gaW5pdFNvY2tldCgoKT0+IHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoeydoZWFkZXInOidmZXRjaGV4aXN0aW5nJ30pKSk7XHJcblx0bGV0IGVudGVyZXhpc3RpbmdnYW1lID0gKGcpID0+IHtcclxuXHRcdGxldCBzbG90ID0gZy5wbGF5ZXJzLmZpbmRJbmRleChwPT5wLmF2YWlsYWJsZSk7XHJcblx0XHRpZiAoIWxvYmJ5LmluaXQpIGluaXRnYW1lKGcubnVtYmVyX29mX3BsYXllcnMpOyBcclxuXHRcdHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoeydoZWFkZXInOidlbnRlcmV4aXN0aW5nJyxnYW1lX2lkOmcuZ2FtZV9pZCxwbGF5ZXJfbmFtZTpsb2JieS5zY3JlZW5hbWUsc2xvdDpzbG90fSkpO1xyXG5cdH07XHJcblx0bGV0IHNlbmRzdGF0ZSA9ICgpID0+IGxvYmJ5Lm9ubGluZSAmJiB3cy5lbWl0KCdtZXNzYWdlJyxqc3RyKHsuLi5nYW1lLCdoZWFkZXInOidzZXQnLCdzZW5kZXInOmxvYmJ5LnBsYXllcl9pZH0pKTtcclxuXHRsZXQgcmVnaXN0ZXJ3cyA9ICgpID0+IHdzLmVtaXQoJ21lc3NhZ2UnLGpzdHIoey4uLmdhbWUsJ2hlYWRlcic6J3JlZ2lzdGVyJywnc2VuZGVyJzpsb2JieS5wbGF5ZXJfaWR9KSk7XHJcblx0bGV0IGluaXRnYW1lID0gKG51bWJlcl9vZl9wbGF5ZXJzKSA9PiB7XHJcblx0XHRnYW1lLmxhYmVsID0gbG9iYnkuc2NyZWVubmFtZTtcclxuXHRcdGxvYmJ5LmluaXQ9dHJ1ZTtcclxuXHRcdGdlbnBsYW5ldGRlY2soKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyX29mX3BsYXllcnM7IGkrKyl7XHJcblx0XHRcdGdlbnBsYXllcihpKTtcclxuXHRcdH1cclxuXHRcdGdlbl9yZXNlYXJjaF9kZWNrKCk7XHJcblx0XHRnZW5nYW1lc2VxdWVuY2UoKTtcclxuXHRcdGlmICghbG9iYnkub25saW5lKSB7XHJcblx0XHRcdGdlbl9nYW1lX2lkKCk7XHJcblx0XHRcdGdlbl9wbGF5ZXJfbmFtZXMoKTtcclxuXHRcdH0gXHJcblx0fTtcclxuXHRsZXQgZ2VuX3BsYXllcl9uYW1lcyA9ICgpID0+IGdhbWUucGxheWVycy5mb3JFYWNoKChwbHlyLGkpPT5wbHlyLm5hbWUgPSAnUGxheWVyICcrKGkrMSkpO1xyXG5cdGxldCB0b2dnbGVfY2VudGVyX29yX3BsYW5ldHMgPSAoKSA9PiBnYW1lLmRpc3BsYXlpbmZvLmNlbnRlcl9vcl9wbGFuZXRzID0gIWdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHM7XHJcblx0bGV0IHRvZ2dsZXBhc3N0b3BsYXllciA9ICgpID0+IHtcclxuXHRcdGdhbWUucGFzc3RvcGxheWVyID0gIWdhbWUucGFzc3RvcGxheWVyO1xyXG5cdFx0b3BlbkZ1bGxzY3JlZW4oKTtcclxuXHR9O1xyXG5cdGxldCBjbGFzc19nZW4gPSAoem9uZSwgaXRlbSkgPT4gKGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT09em9uZSkgPyAoKGl0ZW0uc2VsZWN0ZWQpID8gXCJzZWxlY3RlZFwiIDogXCJzZWxlY3RhYmxlXCIgKSAgOiBcImJvcmRlcmVkXCI7XHJcblx0XHJcblx0bGV0IGdlbl9nYW1lX2lkID0gKCkgPT4ge1xyXG5cdFx0Z2FtZS5nYW1lX2lkID0nJztcclxuXHRcdGdhbWUuZ2FtZV9pZCArPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgMTApO1xyXG5cdH07XHJcblx0bGV0IGtudXRoc2h1ZmZsZSA9IChhcnJheSkgPT4ge1xyXG5cdFx0bGV0IGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aDtcclxuXHRcdGxldCB0ZW1wb3JhcnlWYWx1ZSwgcmFuZG9tSW5kZXg7XHJcblx0XHQvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxyXG5cdFx0d2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xyXG5cdFx0XHQvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cclxuXHRcdFx0cmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xyXG5cdFx0XHRjdXJyZW50SW5kZXggLT0gMTtcclxuXHJcblx0XHRcdC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuXHRcdFx0dGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xyXG5cdFx0XHRhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xyXG5cdFx0XHRhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBhcnJheTtcclxuXHR9O1xyXG5cdGxldCBkcmFnID0gKGV2dCxpdGVtKSA9PiAoKSA9PiBnYW1lLmRpc3BsYXlpbmZvLmRyYWdnZWQ9aXRlbTtcclxuXHRsZXQgZHJvcCA9IChldnQsem9uZSkgPT4gKCkgPT4ge1xyXG5cdFx0bGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllZGNhcmRzJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0XHRpZiAoZXZ0LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggPiBlbC5sZWZ0XHJcblx0XHQmJiBldnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCA8IGVsLmxlZnQrIGVsLndpZHRoXHJcblx0XHQmJiBldnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSA8IGVsLnRvcCtlbC5oZWlnaHRcclxuXHRcdCYmIGV2dC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZID4gZWwudG9wKXtcclxuXHRcdFx0aWYoZ2FtZS5kaXNwbGF5aW5mby5kcmFnZ2VkIT09bnVsbCkgXHJcblx0XHRcdFx0Y2hvb3Nld3JhcHBlcihnYW1lLmRpc3BsYXlpbmZvLmRyYWdnZWQsem9uZSk7XHJcblx0XHRcdGdhbWUuZGlzcGxheWluZm8uZHJhZ2dlZCE9bnVsbDtcclxuXHRcdH1cclxuXHRcdGxldCBsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcmFnZ2VkJyk7XHJcblx0XHRsbC5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI7XHJcblx0fTtcclxuXHRsZXQgbW92ZSA9IChldnQsIGltZykgPT4gKCkgPT4ge1xyXG5cdFx0bGV0IHRvdWNoID0gZXZ0LnRhcmdldFRvdWNoZXNbMF07XHJcblx0XHQvLyBQbGFjZSBlbGVtZW50IHdoZXJlIHRoZSBmaW5nZXIgaXNcclxuXHRcdGxldCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcmFnZ2VkJyk7XHJcblx0XHRlbC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuXHRcdGVsLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCI7XHJcblx0XHRlbC5zdHlsZS50b3AgPSB0b3VjaC5wYWdlWS03NSsncHgnO1xyXG5cdFx0ZWwuc3R5bGUubGVmdCA9IHRvdWNoLnBhZ2VYLTUwKydweCc7XHJcblx0XHRlbC5zdHlsZS53aWR0aCA9IFwiMTAwcHhcIjtcclxuXHRcdGVsLnN0eWxlLmhlaWdodCA9IFwiMTM3cHhcIjtcclxuXHRcdGVsLnN0eWxlLnpJbmRleCA9IFwiNFwiO1xyXG5cdFx0ZWwuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKCdcIitpbWcrXCInKVwiO1xyXG5cdH07XHJcblx0bGV0IG5ld29mZmxpbmUgPSAoKSA9PiB7XHJcblx0XHRsb2JieS5vbmxpbmU9ZmFsc2U7XHJcblx0XHRnYW1lLmN1cnJlbnRwaGFzZSA9IDA7XHJcblx0XHRpbml0Z2FtZSgyKTtcclxuXHRcdGZpbmlzaCgpOztcclxuXHR9O1xyXG5cdGxldCBzZXRwbGF5ZXJuYW1lID0gKG5hbWUpID0+IHtcclxuXHRcdGxvYmJ5LnNjcmVlbmFtZSA9IG5hbWU7XHJcblx0XHRwaGFzZWluY3JlbWVudCgpO1xyXG5cdH07XHJcblx0bGV0IG9wZW5GdWxsc2NyZWVuID0gKCkgPT4ge1xyXG5cdFx0bGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcmVlblwiKTtcclxuXHRcdGlmIChlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKSB7XHJcblx0XHRlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKCk7XHJcblx0XHR9IGVsc2UgaWYgKGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHsgLyogRmlyZWZveCAqL1xyXG5cdFx0ZWxlbS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xyXG5cdFx0fSBlbHNlIGlmIChlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7IC8qIENocm9tZSwgU2FmYXJpIGFuZCBPcGVyYSAqL1xyXG5cdFx0ZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG5cdFx0fSBlbHNlIGlmIChlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHsgLyogSUUvRWRnZSAqL1xyXG5cdFx0ZWxlbS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcblx0LnBhc3Mge1xyXG5cdFx0YmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuXHRcdGhlaWdodDogNTBweDtcclxuXHRcdG1pbi13aWR0aDogMjAwcHg7XHJcblx0XHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIvaW1hZ2VzL0VNYnV0dG9uMjAwLnBuZ1wiKTtcclxuXHRcdGFsaWduLXNlbGY6IGNlbnRlcjtcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHR9XHJcblx0Lm1lc3NhZ2V0b3BsYXllcntcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdHdpZHRoOjEwMCU7XHJcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHR0b3A6NzUlO1xyXG5cdH1cclxuXHQuc2VsZWN0YWJsZXtcclxuXHRcdGJvcmRlcjogc29saWQgcmdiKDExNCwgMjEwLCAyMjMpO1xyXG5cdFx0Ym9yZGVyLXdpZHRoOiA0cHg7XHJcblx0XHRib3JkZXItbGVmdC13aWR0aDogMnB4O1xyXG5cdFx0Ym9yZGVyLXJpZ2h0LXdpZHRoOiAycHg7XHJcblx0fVxyXG5cdC5zZWxlY3RlZHtcclxuXHRcdGJvcmRlcjogc29saWQgcmdiKDUwLCAxOTAsIDEzMik7XHJcblx0XHRib3JkZXItd2lkdGg6IDRweDtcclxuXHRcdGJvcmRlci1sZWZ0LXdpZHRoOiAycHg7XHJcblx0XHRib3JkZXItcmlnaHQtd2lkdGg6IDJweDtcclxuXHR9XHJcblx0LmZsZXgge1xyXG5cdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHR9XHJcblxyXG5cdC5wbGF5ZXJpbmZvIHtcclxuXHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdFx0anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7XHJcblx0XHR3aWR0aDogMTAwJTtcclxuXHRcdGhlaWdodDogMTAlO1xyXG5cdH1cclxuXHJcblx0LnBsYXlpbmdmaWVsZCB7XHJcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xyXG5cdFx0bWluLWhlaWdodDoxMDB2aDtcclxuXHRcdG1pbi13aWR0aDogMTAwdnc7XHJcblx0XHRtaW4taGVpZ2h0OjEwMHZoO1xyXG5cdFx0bWluLXdpZHRoOiAxMDB2dztcclxuXHRcdGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChyZ2IoODIsNDgsMTAzKSwgcmdiKDEwLDEwLDEwKSk7XHJcblx0XHRiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG5cdFx0YmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuXHR9XHJcblx0XHJcblx0Lm9wdGlvbnMsIC50YWxsb3B0aW9uc3tcclxuXHRcdGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi9pbWFnZXMvZW1iYWNrZ3JvdW5kLnBuZ1wiKTtcclxuXHRcdGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcblx0XHRkaXNwbGF5OmZsZXg7IFxyXG5cdFx0ZmxleC1kaXJlY3Rpb246cm93OyBcclxuXHRcdGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG5cdFx0cG9zaXRpb246IGFic29sdXRlOyBcclxuXHRcdHJpZ2h0OjEwJTtcclxuXHRcdHRvcDogNTAlO1xyXG5cdFx0aGVpZ2h0OiAxNSU7XHJcblx0XHR3aWR0aDo4MCU7XHJcblx0XHRmb250LXNpemU6IDE1MCU7XHJcblx0fVxyXG5cdC50YWxsb3B0aW9uc3tcclxuXHRcdGhlaWdodDozMCU7XHJcblx0fVxyXG5cdC5vd25lZGNhcmRze1xyXG5cdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRoZWlnaHQ6MjAlO1xyXG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdFx0dG9wOjgwJTtcclxuXHR9XHJcblx0LmhhbmR7XHJcblx0XHRtYXJnaW46IGF1dG87XHJcblx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHRcdG1heC13aWR0aDogOTAlO1xyXG5cdFx0bWF4LWhlaWdodDogMTAwJTtcclxuXHRcdG92ZXJmbG93LXg6IHNjcm9sbDtcclxuXHRcdG92ZXJmbG93LXk6IGhpZGRlbjtcclxuXHR9XHJcblx0LmRlY2t7XHJcblx0XHRtYXgtd2lkdGg6IDUlO1xyXG5cdFx0bWFyZ2luLXJpZ2h0OmF1dG87XHJcblx0fVxyXG5cdC5kaXNjYXJke1xyXG5cdFx0bWF4LXdpZHRoOiA1JTtcclxuXHRcdG1hcmdpbi1sZWZ0OmF1dG87XHJcblx0fVxyXG5cdC56b25lIHtcclxuXHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0b3ZlcmZsb3cteDogc2Nyb2xsO1xyXG5cdFx0b3ZlcmZsb3cteTogaGlkZGVuO1xyXG5cdFx0ZGlzcGxheTpmbGV4O1xyXG5cdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHR9XHJcblx0LmNlbnRlcnJvd3tcclxuXHRcdGhlaWdodDo0MCU7XHJcblx0XHRwb3NpdGlvbjphYnNvbHV0ZTtcclxuXHRcdHRvcDoxNSU7XHJcblx0fVxyXG5cdC5yZXNlYXJjaHJvd3tcclxuXHRcdGhlaWdodDo0MCU7XHJcblx0fVxyXG5cdC5yZXNlYXJjaHJvdyA+IGRpdntcclxuXHRcdGhlaWdodDo5NSU7XHJcblx0fVxyXG5cdC5wbGF5ZWRjYXJkc3tcclxuXHRcdGhlaWdodDoyMCU7XHJcblx0XHRvdmVyZmxvdy14OnNjcm9sbDtcclxuXHRcdHBvc2l0aW9uOmFic29sdXRlO1xyXG5cdFx0dG9wOjU1JTtcclxuXHRcdGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuXHR9XHJcblx0LmJvcmRlcmVke1xyXG5cdFx0Ym9yZGVyOiBzb2xpZCAjMDAwO1xyXG5cdFx0Ym9yZGVyLXdpZHRoOiAxcHg7XHJcblx0fVxyXG5cdDo6LXdlYmtpdC1zY3JvbGxiYXIgeyBcclxuXHRcdGRpc3BsYXk6IG5vbmU7ICBcclxuXHR9XHJcblx0LnBsYXllcmNvdW50c2VsZWN0b3IgPiBwIHtcclxuXHRcdGhlaWdodDozMyU7IFxyXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyOyBcclxuXHRcdGZvbnQtc2l6ZTogMzAwJTtcclxuXHRcdGJhY2tncm91bmQtY29sb3I6IHJnYigzNCwgMjYsIDU5KTtcclxuXHRcdGJvcmRlcjogc29saWQgIzAwMDtcclxuXHRcdGJvcmRlci13aWR0aDogMXB4O1xyXG5cdH1cclxuXHQucGxheWVyY291bnRzZWxlY3RvciA+IGlucHV0IHtcclxuXHRcdGhlaWdodDozMyU7IFxyXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyOyBcclxuXHRcdHdpZHRoOjEwMCU7XHJcblx0XHRmb250LXNpemU6IDMwMCU7XHJcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMzQsIDI2LCA1OSk7XHJcblx0XHRib3JkZXI6IHNvbGlkICMwMDA7XHJcblx0XHRib3JkZXItd2lkdGg6IDFweDtcclxuXHRcdGNvbG9yOiByZ2IoNDksIDE1OCwgMTc3KTtcclxuXHRcdHBhZGRpbmc6IDBweDtcclxuXHRcdG1hcmdpbjowcHg7XHJcblx0fVxyXG5cdC5wYXNzdG9wbGF5ZXJ7XHJcblx0XHRoZWlnaHQ6ODAlO1xyXG5cdFx0d2lkdGg6MTAwJTtcclxuXHRcdHRvcDoxMCU7XHJcblx0XHRib3JkZXI6IHNvbGlkICMwMDA7XHJcblx0XHRib3JkZXItd2lkdGg6IDFweDtcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdGZvbnQtc2l6ZTogMzAwJTtcclxuXHRcdGNvbG9yOndoaXRlO1xyXG5cdFx0YmFja2dyb3VuZC1jb2xvcjogcmdiKDM0LCAyNiwgNTkpO1xyXG5cclxuXHR9XHJcbjwvc3R5bGU+XHJcbnsjaWYgbW91bnRlZH1cclxuXHR7I2lmIGdhbWUuY3VycmVudHBoYXNlPT0tNH1cclxuXHQ8ZGl2IGNsYXNzPVwicGxheWVyY291bnRzZWxlY3RvclwiPlxyXG5cdFx0PHA+IENob29zZSB5b3VyIFNjcmVlbiBOYW1lPC9wPlx0XHJcblx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBiaW5kOnZhbHVlPXtsb2JieS5zY3JlZW5uYW1lfSBvbjprZXlwcmVzcz17KGUpPT57aWYoZS5rZXk9PSdFbnRlcicpIHNldHBsYXllcm5hbWUobG9iYnkuc2NyZWVubmFtZSl9IH0+XHJcblx0XHQ8cCBvbjpjbGljaz1cInsoKT0+c2V0cGxheWVybmFtZShsb2JieS5zY3JlZW5uYW1lKX1cIiBvbjp0YXA9XCJ7KCk9PnNldHBsYXllcm5hbWUobG9iYnkuc2NyZWVubmFtZSl9XCI+RmluaXNoZWQ8L3A+XHJcblx0PC9kaXY+XHJcblx0ezplbHNlIGlmIGdhbWUuY3VycmVudHBoYXNlPT0tM31cclxuXHQ8ZGl2IGNsYXNzPVwicGxheWVyY291bnRzZWxlY3RvclwiPlxyXG5cdFx0PHAgb246Y2xpY2s9XCJ7KCk9PnBoYXNlaW5jcmVtZW50KCl9XCIgb246dGFwPVwieygpPT5waGFzZWluY3JlbWVudCgpfVwiPlN0YXJ0IGEgTmV3IE9ubGluZSBHYW1lPC9wPlxyXG5cdFx0PHAgb246Y2xpY2s9XCJ7KCk9PmZldGNoZXhpc3RpbmdnYW1lcygpfVwiIG9uOnRhcD1cInsoKT0+ZmV0Y2hleGlzdGluZ2dhbWVzKCl9XCI+Sm9pbiBhbiBFeGlzdGluZyBPbmxpbmUgR2FtZTwvcD5cclxuXHRcdDxwIG9uOmNsaWNrPVwieygpPT5uZXdvZmZsaW5lKCl9XCIgb246dGFwPVwieygpPT5uZXdvZmZsaW5lKCl9XCI+U3RhcnQgYSBOZXcgT2ZmbGluZSBHYW1lPC9wPlxyXG5cdDwvZGl2PlxyXG5cdHs6ZWxzZSBpZiBnYW1lLmN1cnJlbnRwaGFzZT09LTJ9XHJcblx0PGRpdiBjbGFzcz1cInBsYXllcmNvdW50c2VsZWN0b3JcIj5cclxuXHRcdDxwPiBDaG9vc2UgeW91ciBHYW1lJ3MgbnVtYmVyIG9mIFBsYXllcnM8L3A+XHJcblx0XHQ8cCBvbjpjbGljaz17KGUpID0+IG5ld2dhbWUoMil9IG9uOnRhcD17KGUpID0+IG5ld2dhbWUoMil9PjI8L3A+XHJcblx0XHQ8cCBvbjpjbGljaz17KGUpID0+IG5ld2dhbWUoMyl9IG9uOnRhcD17KGUpID0+IG5ld2dhbWUoMyl9PjM8L3A+XHJcblx0XHQ8cCBvbjpjbGljaz17KGUpID0+IG5ld2dhbWUoNCl9IG9uOnRhcD17KGUpID0+IG5ld2dhbWUoNCl9PjQ8L3A+XHJcblx0PC9kaXY+XHJcblx0ezplbHNlIGlmIGdhbWUuY3VycmVudHBoYXNlPT0tMX1cclxuXHRcdDxkaXYgY2xhc3M9XCJwbGF5ZXJjb3VudHNlbGVjdG9yXCI+XHJcblx0XHRcdDxwPkNob29zZSBhIEdhbWUgdG8gSm9pbjwvcD5cclxuXHRcdFx0eyNlYWNoIGxvYmJ5LmV4aXN0aW5nZ2FtZXMgYXMgZ31cclxuXHRcdFx0XHQ8cCBvbjpjbGljaz1cInsoKT0+ZW50ZXJleGlzdGluZ2dhbWUoZyl9XCIgb246dGFwPVwieygpPT5lbnRlcmV4aXN0aW5nZ2FtZShnKX1cIj57Zy5sYWJlbCtcIidzIEdhbWVcIn08L3A+XHJcblx0XHRcdHsvZWFjaH1cclxuXHRcdDwvZGl2PlxyXG5cdHs6ZWxzZSBpZiBnYW1lLnBhc3N0b3BsYXllciAmJiAhbG9iYnkub25saW5lfVxyXG5cdFx0PGRpdiBjbGFzcz0ncGFzc3RvcGxheWVyJyBvbjpjbGljaz1cInsoKT0+dG9nZ2xlcGFzc3RvcGxheWVyKCl9XCIgb246dGFwPVwieygpPT50b2dnbGVwYXNzdG9wbGF5ZXIoKX1cIj5cclxuXHRcdFx0cGFzcyB0byBuZXh0IHBsYXllclxyXG5cdFx0PC9kaXY+XHJcblx0ezplbHNlIGlmICEhZ2FtZS53aW5uZXJ9XHJcblx0XHQ8ZGl2IGNsYXNzPSdwYXNzdG9wbGF5ZXInPlxyXG5cdFx0XHR7Z2FtZS53aW5uZXJ9IFdPTiEhISFcclxuXHRcdDwvZGl2PlxyXG5cdHs6ZWxzZX1cclxuXHRcdDxkaXYgaWQ9XCJzY3JlZW5cIiBzdHlsZT1cImhlaWdodDoxMDAlO3dpZHRoOjEwMCU7XCIgY2xhc3M9XCJmbGV4XCI+XHJcblx0XHRcdHsjZWFjaCBnYW1lLnBsYXllcnMgYXMgcGxheWVyfVxyXG5cdFx0XHRcdHsjaWYgZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0hPT11bmRlZmluZWQgJiYgKChsb2JieS5zY3JlZW5uYW1lPT1wbGF5ZXIubmFtZSAmJiBsb2JieS5vbmxpbmUpIHx8IChnYW1lLnBsYXllcnNbZ2FtZS5hY3RpbmdfcGxheWVyX2luZGV4XS5pZD09cGxheWVyLmlkICYmICFsb2JieS5vbmxpbmUpKSB9XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm9yZGVyZWQgcGxheWluZ2ZpZWxkXCJpZD1cInNwYWNlXCI+XHJcblx0XHRcdFx0XHRcdDwhLS0gPGRpdiBjbGFzcz1cInN0YXJzXCI+PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGFyc1wiPjwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RhcnNcIj48L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0YXJzXCI+PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGFyc1wiPjwvZGl2PiAtLT5cclxuXHRcdFx0XHRcdFx0PGRpdiBpZD0nZHJhZ2dlZCc+PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwbGF5ZXJpbmZvIGJvcmRlcmVkXCI+XHJcblx0XHRcdFx0XHRcdFx0eyNlYWNoIGdhbWUucGxheWVycyBhcyBwfVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIndpZHRoOnsxMDAvZ2FtZS5udW1iZXJfb2ZfcGxheWVyc30lXCIgY2xhc3M9XCJmbGV4IHsoZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0gIT09IHVuZGVmaW5lZCAmJiBwLm5hbWUgPT0gZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0ubmFtZSkgPyAnc2VsZWN0YWJsZScgOiAnYm9yZGVyZWQnfVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwid2lkdGg6MzMlOyB0ZXh0LWFsaWduOiBjZW50ZXI7XCIgY2xhc3M9XCJib3JkZXJlZFwiPiBNaWxpdGFyeSBNaWdodCB7cC5zdGFyZmlnaHRlcnMuc21hbGx9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJ3aWR0aDozMyU7IHRleHQtYWxpZ246IGNlbnRlcjtcIiBjbGFzcz1cImJvcmRlcmVkXCI+IEdhbGFjdGljIEluZmx1ZW5jZSB7cC5pbmZsdWVuY2UubGVuZ3RofTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwid2lkdGg6MzMlOyB0ZXh0LWFsaWduOiBjZW50ZXI7XCIgY2xhc3M9XCJib3JkZXJlZFwiPiB7cC5uYW1lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0ey9lYWNofVxyXG5cdFx0XHRcdFx0XHRcdDwhLS0gPGRpdiBzdHlsZT1cIndpZHRoOjEwMCU7IHRleHQtYWxpZ246IGNlbnRlcjtcIiBjbGFzcz1cImJvcmRlcmVkXCI+IFJlbWFpbmluZyBJbmZsdWVuY2UgdGhyb3VnaG91dCB0aGUgR2FsYXh5IHtnYW1lLmluZmx1ZW5jZS5sZW5ndGh9PC9kaXY+IC0tPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PCEtLSBzdGFja3MgLyBwbGFuZXRzIHRvZ2dsZSAtLT5cclxuXHRcdFx0XHRcdFx0PGRpdiBvbjpjbGljaz17KCk9PnRvZ2dsZV9jZW50ZXJfb3JfcGxhbmV0cygpfSBvbjp0YXA9eygpPT50b2dnbGVfY2VudGVyX29yX3BsYW5ldHMoKX0+XHJcblx0XHRcdFx0XHRcdFx0c2hvdyB7KGdhbWUuZGlzcGxheWluZm8uY2VudGVyX29yX3BsYW5ldHMpID8gXCJwbGFuZXRzXCIgOiBcImNlbnRlciByb3dcIn1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwhLS0gc3RhY2tzIC0tPlxyXG5cdFx0XHRcdFx0XHR7I2lmIGdhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT09J3Jlc2VhcmNoJ31cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiem9uZSByZXNlYXJjaHJvd1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0eyNlYWNoIGdhbWUucmVzZWFyY2hfZGVjayBhcyBjYXJkfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8Q2FyZCBvbjpjbGljaz1cInsoKT0+Y2hvb3Nld3JhcHBlcihjYXJkLCdyZXNlYXJjaCcpfVwiIG9uOnRhcD1cInsoKT0+Y2hvb3Nld3JhcHBlcihjYXJkLCdyZXNlYXJjaCcpfVwiIHNlbGVjdGFibGU9eyhnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9PSdyZXNlYXJjaCcpfSB7Y2FyZH0vPlxyXG5cdFx0XHRcdFx0XHRcdFx0ey9lYWNofVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHR7OmVsc2UgaWYgZ2FtZS5kaXNwbGF5aW5mby5jZW50ZXJfb3JfcGxhbmV0c31cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmxleCB6b25lIGNlbnRlcnJvd1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0eyNlYWNoIGdhbWUuc3RhY2tzLnJvbGVjYXJkcyBhcyBjYXJkfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8Q2FyZCB7Y2FyZH0gc2VsZWN0YWJsZT17Z2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lPT0ncm9sZWNhcmRzJ30gcGlsZWNvdW50PVwie2dhbWUuc3RhY2tzLnBpbGVjb3VudFtjYXJkLnR5cGVdfVwiIG9uOmNsaWNrPVwieygpPT5jaG9vc2V3cmFwcGVyKGNhcmQsJ3JvbGVjYXJkcycpfVwiIG9uOnRhcD1cInsoKT0+Y2hvb3Nld3JhcHBlcihjYXJkLCdyb2xlY2FyZHMnKX1cIiBvbjp0b3VjaG1vdmU9XCJ7KGV2ZW50KT0+bW92ZShldmVudCwgJy9pbWFnZXMvJytjYXJkLnR5cGUrJy5wbmcnLCdyb2xlY2FyZHMnKX1cIiBvbjp0b3VjaHN0YXJ0PVwieyhldmVudCk9PmRyYWcoZXZlbnQsY2FyZCwncm9sZWNhcmRzJyl9XCIgb246dG91Y2hlbmQ9XCJ7KGV2ZW50KT0+ZHJvcChldmVudCwncm9sZWNhcmRzJyl9XCIvPlxyXG5cdFx0XHRcdFx0XHRcdFx0ey9lYWNofVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHR7L2lmfVxyXG5cdFx0XHRcdFx0XHR7I2lmICFnYW1lLmRpc3BsYXlpbmZvLmNlbnRlcl9vcl9wbGFuZXRzfVxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmbGV4IHpvbmUgY2VudGVycm93XCI+XHJcblx0XHRcdFx0XHRcdFx0XHR7I2VhY2ggcGxheWVyLnVuc2V0dGxlZF9wbGFuZXRzIGFzIHBsYW5ldH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PFBsYW5ldENhcmQgcGxhbmV0PXtwbGFuZXR9IG9uOmNsaWNrPXsoKT0+Y2hvb3Nld3JhcHBlcihwbGFuZXQsJ3Vuc2V0dGxlZF9wbGFuZXRzJyl9IG9uOnRhcD17KCk9PmNob29zZXdyYXBwZXIocGxhbmV0LCd1bnNldHRsZWRfcGxhbmV0cycpfS8+XHJcblx0XHRcdFx0XHRcdFx0XHR7L2VhY2h9XHJcblx0XHRcdFx0XHRcdFx0XHR7I2VhY2ggWy4uLnBsYXllci5zZXR0bGVkX3BsYW5ldHMsIC4uLnBsYXllci5jb25xdWVyZWRfcGxhbmV0c10gYXMgcGxhbmV0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8UGxhbmV0Q2FyZCBwbGFuZXQ9e3BsYW5ldH0gc2VsZWN0ZWQ9e2dhbWUuZGlzcGxheWluZm8uc2VsZWN0aW9uem9uZT09J3NldHRsZWRfJl9jb25xdWVyZWRfcGxhbmV0cyd9IG9uOmNsaWNrPXsoKT0+Y2hvb3Nld3JhcHBlcihwbGFuZXQsJ3NldHRsZWRfJl9jb25xdWVyZWRfcGxhbmV0cycpfSBvbjp0YXA9eygpPT5jaG9vc2V3cmFwcGVyKHBsYW5ldCwnc2V0dGxlZF8mX2NvbnF1ZXJlZF9wbGFuZXRzJyl9IC8+XHJcblx0XHRcdFx0XHRcdFx0XHR7L2VhY2h9XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdHsvaWZ9XHJcblx0XHRcdFx0XHRcdDwhLS0gcGxheWVkIGNhcmRzLS0+XHJcblx0XHRcdFx0XHRcdDxkaXYgaWQ9XCJwbGF5ZWRjYXJkc1wiIGNsYXNzPVwiZmxleCB6b25lIHBsYXllZGNhcmRzXCIgPlxyXG5cdFx0XHRcdFx0XHRcdHsjaWYgZ2FtZS5kaXNwbGF5aW5mby5zaG93b3B0aW9udG9za2lwfVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1yaWdodDphdXRvXCIgY2xhc3M9XCJzZWxlY3RhYmxlIHBhc3NcIiBvbjpjbGljaz1cInsoKT0+Y2hvb3NlKFt7bmFtZTonU2tpcCd9XSl9XCIgb246dGFwPVwieygpPT5jaG9vc2UoW3tuYW1lOidTa2lwJ31dKX1cIj5bQ2hvb3NlIE5vbmVdPC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0ezplbHNlfVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1yaWdodDphdXRvXCIgY2xhc3M9XCJib3JkZXJlZCBwYXNzXCI+W19fX19dPC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0ey9pZn1cclxuXHRcdFx0XHRcdFx0XHR7I2VhY2ggZ2FtZS5wbGF5ZXJzW2dhbWUuYWN0aW5nX3BsYXllcl9pbmRleF0ubGltYm8gYXMgY2FyZH1cclxuXHRcdFx0XHRcdFx0XHRcdDxDYXJkIG1pbmk9e3RydWV9IG9uOmNsaWNrPXsoKT0+dW5jaG9vc2UoY2FyZCl9IG9uOnRhcD17KCk9PnVuY2hvb3NlKGNhcmQpfSB7Y2FyZH0vPlxyXG5cdFx0XHRcdFx0XHRcdHsvZWFjaH1cclxuXHRcdFx0XHRcdFx0XHR7I2lmIGdhbWUucGFzc3AgfVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1sZWZ0OmF1dG9cIiBjbGFzcz1cInNlbGVjdGFibGUgcGFzc1wiIG9uOmNsaWNrPVwieygpPT5wYXNzX3ByaW9yaXR5KCl9XCJvbjp0YXA9XCJ7KCk9PnBhc3NfcHJpb3JpdHkoKX1cIj5bUGFzcyB0byA8YnI+IE5leHQgUGxheWVyXTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdHs6ZWxzZSBpZiBnYW1lLnBhc3N0fVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1sZWZ0OmF1dG9cIiBjbGFzcz1cInNlbGVjdGFibGUgcGFzc1wiIG9uOmNsaWNrPVwieygpPT5wYXNzX3R1cm4oKX1cIiBvbjp0YXA9XCJ7KCk9PnBhc3NfdHVybigpfVwiPltFbmQgVHVybl08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHR7OmVsc2UgaWYgZ2FtZS5kaXNwbGF5aW5mby5hbGxvd2Zvcm11bHRpcGxlc2VsZWN0aW9ucyAmJiBnYW1lLmNob2ljZXMubGVuZ3RoPjB9XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwibWFyZ2luLWxlZnQ6YXV0b1wiIGNsYXNzPVwic2VsZWN0YWJsZSBwYXNzXCIgb246Y2xpY2s9XCJ7KCk9PmNob29zZShnYW1lW2dhbWUuZGlzcGxheWluZm8uY2hvaWNlbGFiZWxdKX1cIiBvbjp0YXA9XCJ7KCk9PmNob29zZShnYW1lW2dhbWUuZGlzcGxheWluZm8uY2hvaWNlbGFiZWxdKX1cIj5bQ2hvb3NlIFNlbGVjdGVkXTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdHs6ZWxzZX1cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3JkZXJlZCBwYXNzXCIgPltfX19fX19dPC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0ey9pZn1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdldG9wbGF5ZXIgYm9yZGVyZWRcIj57Z2FtZS5tZXNzYWdldG9wbGF5ZXJbZ2FtZS5tZXNzYWdldG9wbGF5ZXIubGVuZ3RoLTFdfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8IS0tIGhhbmQgLS0+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmbGV4IHpvbmUgb3duZWRjYXJkc1wiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2JvcmRlcmVkIGRlY2snPiBjYXJkcyByZW1haW5pbmcgaW4gZGVjazoge3BsYXllci5kZWNrLmxlbmd0aH08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdoYW5kJz5cclxuXHRcdFx0XHRcdFx0XHRcdHsjZWFjaCBwbGF5ZXIuaGFuZCBhcyBjYXJkfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8Q2FyZCBtaW5pPXt0cnVlfSBzZWxlY3RhYmxlPXtnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9PSdoYW5kJ30gb246dG91Y2hzdGFydD17KGV2ZW50KT0+ZHJhZyhldmVudCwgY2FyZCwnaGFuZCcpfSBvbjp0b3VjaGVuZD17KGV2ZW50KT0+ZHJvcChldmVudCwnaGFuZCcpfSBvbjp0b3VjaG1vdmU9eyhldmVudCk9Pm1vdmUoZXZlbnQsIGNhcmQuaW1ndXJsLCdoYW5kJyl9IG9uOmNsaWNrPXsoKT0+e2xvZyhjYXJkKTtjaG9vc2V3cmFwcGVyKGNhcmQsJ2hhbmQnKTt9fSBvbjp0YXA9eygpPT5jaG9vc2V3cmFwcGVyKGNhcmQsJ2hhbmQnKX0ge2NhcmR9Lz5cclxuXHRcdFx0XHRcdFx0XHRcdHsvZWFjaH1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm9yZGVyZWQgZGlzY2FyZFwiPiBjYXJkcyBpbiBkaXNjYXJkIHBpbGU6IHtwbGF5ZXIuZGlzY2FyZC5sZW5ndGh9PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0ey9pZn1cclxuXHRcdFx0ey9lYWNofVxyXG5cdFx0XHQ8IS0tIGdhbWUub3B0aW9ucyAtLT5cclxuXHRcdFx0eyNpZiBnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9PSdvcHRpb25zJ31cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwieyggZ2FtZS5vcHRpb25zWzBdICE9PSB1bmRlZmluZWQgJiYgZ2FtZS5vcHRpb25zWzBdLnR5cGUgIT09IHVuZGVmaW5lZCkgPyAndGFsbG9wdGlvbnMnIDogJ29wdGlvbnMnfVwiPlxyXG5cdFx0XHRcdFx0eyNlYWNoIGdhbWUub3B0aW9ucyBhcyBvcHRpb259XHJcblx0XHRcdFx0XHRcdHsjaWYgb3B0aW9uLnR5cGUgIT09IHVuZGVmaW5lZH1cclxuXHRcdFx0XHRcdFx0XHQ8UGxhbmV0Q2FyZCBwbGFuZXQ9e29wdGlvbn0gc2VsZWN0YWJsZT17Z2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lPT0nb3B0aW9ucyd9IG9uOmNsaWNrPXsoKT0+Y2hvb3Nld3JhcHBlcihvcHRpb24sJ29wdGlvbnMnKX0gb246dGFwPXsoKT0+Y2hvb3Nld3JhcHBlcihvcHRpb24sJ29wdGlvbnMnKX0vPlxyXG5cdFx0XHRcdFx0XHRcdDxQbGFuZXRDYXJkIHBsYW5ldD17ey4uLm9wdGlvbixzZXR0bGVkOmZhbHNlfX0gc2VsZWN0YWJsZT17Z2FtZS5kaXNwbGF5aW5mby5zZWxlY3Rpb256b25lPT0nb3B0aW9ucyd9IG9uOmNsaWNrPXsoKT0+Y2hvb3Nld3JhcHBlcihvcHRpb24sJ29wdGlvbnMnKX0gb246dGFwPXsoKT0+Y2hvb3Nld3JhcHBlcihvcHRpb24sJ29wdGlvbnMnKX0vPlxyXG5cdFx0XHRcdFx0XHR7OmVsc2V9XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhc3MgeyhnYW1lLmRpc3BsYXlpbmZvLnNlbGVjdGlvbnpvbmU9PSdvcHRpb25zJykgPyAoIChvcHRpb24uc2VsZWN0ZWQpID8gJ3NlbGVjdGVkJyA6ICdzZWxlY3RhYmxlJyApOiAnYm9yZGVyZWQnfVwiIG9uOmNsaWNrPVwieygpPT5jaG9vc2V3cmFwcGVyKG9wdGlvbiwnb3B0aW9ucycpfVwiIG9uOnRhcD1cInsoKT0+Y2hvb3Nld3JhcHBlcihvcHRpb24sJ29wdGlvbnMnKX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdHtvcHRpb24ubmFtZX1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0ey9pZn1cclxuXHRcdFx0XHRcdHsvZWFjaH1cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0ey9pZn1cclxuXHRcdDwvZGl2PlxyXG5cdHsvaWZ9XHJc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 */